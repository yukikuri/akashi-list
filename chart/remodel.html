<!doctype html><html lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>改修工廠の証</title><script src=https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.9.1.min.js></script><style>body{margin:0}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}*:before,*:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:10px;-webkit-tap-highlight-color:transparent}#chart{height:400px;margin:auto;min-width:310px}</style></head><body><div id=chart></div><script>!function(a,b){"object"==typeof module&&module.exports?module.exports=a.document?b(a):b:a.Highcharts=b(a)}("undefined"!=typeof window?window:this,function(m){var g,aI,aJ,a_,x,aB,bS,n,bD,X,a$,bk,aO,bh,bl,bs,aT,aL,aP,bI,bL,bH,bF,bp,bo,bn,h,i,G,f,C,_,d,j,u,F,I,U,P,ai,bv,ag,bc,aY,ay,bB,ap,M,bR,O,bK,bg,aj,A,aQ,bz,by,at,ab,bx,ah,z,ar,q,B,D,v,bP,K,W,am,aX,bO,s,R,V,b,av,bm,af,r,E,o,aC,ax,an,e,a,aH,H,aS,ak,br,Z,bN,bj,bE,Q,bG,J,aD,aa,bd,bV,bf,aZ,aN,aR,bQ,aq,t,bT,bC,bA,bb,bX,be,bZ,bw,bW,bq,ba;function ac(a,b){var c="Highcharts error #"+a+": www.highcharts.com/errors/"+a;if(b)throw new Error(c);m.console}function bJ(a,b,c){this.options=b,this.elem=a,this.prop=c}function k(){var b,d,a=arguments,c={},e=function(b,d){var c,a;"object"!=typeof b&&(b={});for(a in d)d.hasOwnProperty(a)&&(c=d[a],c&&"object"==typeof c&&"[object Array]"!==Object.prototype.toString.call(c)&&"renderTo"!==a&&"number"!=typeof c.nodeType?b[a]=e(b[a]||{},c):b[a]=d[a]);return b};for(a[0]===!0&&(c=a[1],a=Array.prototype.slice.call(a,2)),d=a.length,b=0;b<d;b++)c=e(c,a[b]);return c}function l(a,b){return parseInt(a,b||10)}function ao(a){return"string"==typeof a}function L(a){return a&&"object"==typeof a}function aA(a){return"[object Array]"===Object.prototype.toString.call(a)}function Y(a){return"number"==typeof a}function au(a){return G.log(a)/G.LN10}function ad(a){return G.pow(10,a)}function $(a,c){for(var b=a.length;b--;)if(a[b]===c){a.splice(b,1);break}}function c(a){return a!==g&&null!==a}function w(b,a,e){var d,f;if(ao(a))c(e)?b.setAttribute(a,e):b&&b.getAttribute&&(f=b.getAttribute(a));else if(c(a)&&L(a))for(d in a)b.setAttribute(d,a[d]);return f}function al(a){return aA(a)?a:[a]}function aV(a,b,c){return b?setTimeout(a,b,c):void a.call(0,c)}function p(b,a){ag&&!M&&a&&a.opacity!==g&&(a.filter="alpha(opacity="+100*a.opacity+")"),e(b.style,a)}function N(f,b,c,d,g){var a=i.createElement(f);return b&&e(a,b),g&&p(a,{padding:0,border:"none",margin:0}),c&&p(a,c),d&&d.appendChild(a),a}function ae(b,c){var a=function(){};return a.prototype=new b,e(a.prototype,c),a}function az(a,b){return new Array((b||2)+1-String(a).length).join(0)+a}function bM(a,b){return/%$/.test(a)?b*parseFloat(a)/100:parseFloat(a)}function aW(a){return 6e4*(aO&&aO(a)||bk||0)}function ca(c,a){var b,e=/f$/,f=/\.([0-9])/,d=x.lang;return e.test(c)?(b=c.match(f),b=b?b[1]:-1,null!==a&&(a=h.numberFormat(a,b,d.decimalPoint,c.indexOf(",")>-1?d.thousandsSep:""))):a=aB(c,a),a}function aE(b,l){for(var g,c,i,e,j,a,h,k="{",d=!1,f=[];(h=b.indexOf(k))!==-1;){if(g=b.slice(0,h),d){for(c=g.split(":"),i=c.shift().split("."),j=i.length,a=l,e=0;e<j;e++)a=a[i[e]];c.length&&(a=ca(c.join(":"),a)),f.push(a)}else f.push(g);b=b.slice(h+1),d=!d,k=d?"}":"{"}return f.push(b),f.join("")}function bt(a){return G.pow(10,C(G.log(a)/G.LN10))}function bu(e,b,c,i,g){var h,d,f=e;for(c=a(c,1),h=e/c,b||(b=[1,2,2.5,5,10],i===!1&&(1===c?b=[1,2,5,10]:c<=.1&&(b=[1/c]))),d=0;d<b.length&&(f=b[d],!(g&&f*c>=e||!g&&h<=(b[d]+(b[d+1]||b[d]))/2));d++);return f*=c}function bi(b,e){var c,a,d=b.length;for(a=0;a<d;a++)b[a].safeI=a;for(b.sort(function(a,b){return c=e(a,b),0===c?a.safeI-b.safeI:c}),a=0;a<d;a++)delete b[a].safeI}function aU(a){for(var b=a.length,c=a[0];b--;)a[b]<c&&(c=a[b]);return c}function aw(a){for(var b=a.length,c=a[0];b--;)a[b]>c&&(c=a[b]);return c}function aF(a,c){var b;for(b in a)a[b]&&a[b]!==c&&a[b].destroy&&a[b].destroy(),delete a[b]}function aM(a){a_||(a_=N(at)),a&&a_.appendChild(a),a_.innerHTML=""}function S(a,b){return parseFloat(a.toPrecision(b||14))}function aK(c,b){b.renderer.globalAnimation=a(c,b.animation)}function bY(){var e=x.global,d=e.useUTC,c=d?"getUTC":"get",b=d?"setUTC":"set";X=e.Date||m.Date,bk=d&&e.timezoneOffset,aO=d&&e.getTimezoneOffset,a$=function(i,c,e,f,g,h){var b;return d?(b=X.UTC.apply(0,arguments),b+=aW(b)):b=new X(i,c,a(e,1),a(f,0),a(g,0),a(h,0)).getTime(),b},bh=c+"Minutes",bl=c+"Hours",bs=c+"Day",aT=c+"Date",aL=c+"Month",aP=c+"FullYear",bI=b+"Milliseconds",bL=b+"Seconds",bH=b+"Minutes",bF=b+"Hours",bp=b+"Date",bo=b+"Month",bn=b+"FullYear"}function b_(a){return x=k(!0,x,a),bY(),x}function b$(){return x}function T(a){return this instanceof T?void this.init(a):new T(a)}function y(){}function cb(b,c){var d=i.getElementsByTagName("head")[0],a=i.createElement("script");a.type="text/javascript",a.src=b,a.onload=c,d.appendChild(a)}function aG(b,c,a,d){this.axis=b,this.pos=c,this.type=a||"",this.isNew=!0,a||d||this.addLabel()}function bU(e,b,c,f,g){var d=e.chart.inverted;this.axis=e,this.isNegative=c,this.options=b,this.x=f,this.total=null,this.points={},this.stack=g,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:b.align||(d?c?"left":"right":"center"),verticalAlign:b.verticalAlign||(d?"middle":c?"bottom":"top"),y:a(b.y,d?4:c?14:-6),x:a(b.x,d?c?-6:6:0)},this.textAlign=b.textAlign||(d?c?"right":"left":"center")}return i=m.document,G=Math,f=G.round,C=G.floor,_=G.ceil,d=G.max,j=G.min,u=G.abs,F=G.cos,I=G.sin,U=G.PI,P=2*U/360,ai=m.navigator&&m.navigator.userAgent||"",bv=m.opera,ag=/(msie|trident|edge)/i.test(ai)&&!bv,bc=i&&8===i.documentMode,aY=!ag&&/AppleWebKit/.test(ai),ay=/Firefox/.test(ai),bB=/(Mobile|Android|Windows Phone)/.test(ai),ap="http://www.w3.org/2000/svg",M=i&&i.createElementNS&&!!i.createElementNS(ap,"svg").createSVGRect,bR=ay&&parseInt(ai.split("Firefox/")[1],10)<4,O=i&&!M&&!ag&&!!i.createElement("canvas").getContext,bK={},bg=0,aj=function(){},A=[],aQ=0,bz="Highcharts",by="4.2.3",at="div",ab="absolute",bx="relative",ah="hidden",z="highcharts-",ar="visible",q="px",B="none",D="M",v="L",bP=/^[0-9]+$/,K="",W="hover",am="select",aX=["plotTop","marginRight","marginBottom","plotLeft"],bO="stroke-width",s={},h=m.Highcharts?ac(16,!0):{win:m},h.seriesTypes=s,an=[],bJ.prototype={dSetter:function(){var b,d=this.paths[0],e=this.paths[1],c=[],f=this.now,a=d.length;if(1===f)c=this.toD;else if(a===e.length&&f<1)for(;a--;)b=parseFloat(d[a]),c[a]=isNaN(b)?d[a]:f*parseFloat(e[a]-b)+b;else c=e;this.elem.attr("d",c)},update:function(){var a=this.elem,b=this.prop,c=this.now,d=this.options.step;this[b+"Setter"]?this[b+"Setter"]():a.attr?a.element&&a.attr(b,c):a.style[b]=c+this.unit,d&&d.call(a,c,this)},run:function(c,d,e){var b,f=this,a=function(b){return!a.stopped&&f.step(b)};this.startTime=+new X,this.start=c,this.end=d,this.unit=e,this.now=this.start,this.pos=0,a.elem=this.elem,a()&&1===an.push(a)&&(a.timerId=setInterval(function(){for(b=0;b<an.length;b++)an[b]()||an.splice(b--,1);an.length||clearInterval(a.timerId)},13))},step:function(j){var a,d,i,f=+new X,b=this.options,c=this.elem,g=b.complete,h=b.duration,e=b.curAnim;if(c.attr&&!c.element)a=!1;else if(j||f>=h+this.startTime){this.now=this.end,this.pos=1,this.update(),e[this.prop]=!0,d=!0;for(i in e)e[i]!==!0&&(d=!1);d&&g&&g.call(c),a=!1}else this.pos=b.easing((f-this.startTime)/h),this.now=this.start+(this.end-this.start)*this.pos,this.update(),a=!0;return a},initPath:function(i,f,n){f=f||"";var k,e,c,j=i.shift,h=f.indexOf("C")>-1,b=h?7:3,d=f.split(" "),a=[].concat(n),l=i.isArea,g=l?2:1,m=function(a){for(c=a.length;c--;)a[c]!==D&&a[c]!==v||a.splice(c+1,0,a[c+1],a[c+2],a[c+1],a[c+2])};if(h&&(m(d),m(a)),j<=a.length/b&&d.length===a.length)for(;j--;)a=a.slice(0,b).concat(a),l&&(a=a.concat(a.slice(a.length-b)));if(i.shift=0,d.length)for(k=a.length;d.length<k;)e=d.slice().splice(d.length/g-b,b*g),h&&(e[b-6]=e[b-2],e[b-5]=e[b-1]),[].splice.apply(d,[d.length/g,0].concat(e));return[d,a]}},e=h.extend=function(a,c){var b;a||(a={});for(b in c)a[b]=c[b];return a},a=h.pick=function(){var a,b,c=arguments,d=c.length;for(a=0;a<d;a++)if(b=c[a],b!==g&&null!==b)return b},aH=h.wrap=function(a,b,c){var d=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);return a.unshift(d),c.apply(this,a)}},aB=function(b,i,r){if(!c(i)||isNaN(i))return x.lang.invalidDate||"";b=a(b,"%Y-%m-%d %H:%M:%S");var j,d=new X(i-aW(i)),g=d[bl](),l=d[bs](),o=d[aT](),m=d[aL](),p=d[aP](),n=x.lang,q=n.weekdays,k=e({a:q[l].substr(0,3),A:q[l],d:az(o),e:o,w:l,b:n.shortMonths[m],B:n.months[m],m:az(m+1),y:p.toString().substr(2,2),Y:p,H:az(g),k:g,I:az(g%12||12),l:g%12||12,M:az(d[bh]()),p:g<12?"AM":"PM",P:g<12?"am":"pm",S:az(d.getSeconds()),L:az(f(i%1e3),3)},h.dateFormats);for(j in k)for(;b.indexOf("%"+j)!==-1;)b=b.replace("%"+j,"function"==typeof k[j]?k[j](i):k[j]);return r?b.substr(0,1).toUpperCase()+b.substr(1):b},n={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},h.numberFormat=function(d,b,h,f){d=+d||0;var i,c,g,e,j=x.lang,k=(d.toString().split(".")[1]||"").length,m=Math.abs(d);return b===-1?b=Math.min(k,20):isNaN(b)&&(b=2),c=String(l(m.toFixed(b))),g=c.length>3?c.length%3:0,h=a(h,j.decimalPoint),f=a(f,j.thousandsSep),e=d<0?"-":"",e+=g?c.substr(0,g)+f:"",e+=c.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+f),+b&&(i=Math.abs(m-c+Math.pow(10,-Math.max(b,k)-1)),e+=h+i.toFixed(b).slice(2)),e},Math.easeInOutSine=function(a){return-.5*(Math.cos(Math.PI*a)-1)},R=function(a,b){var c;return"width"===b?Math.min(a.offsetWidth,a.scrollWidth)-R(a,"padding-left")-R(a,"padding-right"):"height"===b?Math.min(a.offsetHeight,a.scrollHeight)-R(a,"padding-top")-R(a,"padding-bottom"):(c=m.getComputedStyle(a,void 0),c&&l(c.getPropertyValue(b)))},V=function(b,a){return a.indexOf?a.indexOf(b):[].indexOf.call(a,b)},av=function(a,b){return[].filter.call(a,b)},af=function(b,d){for(var c=[],a=0,e=b.length;a<e;a++)c[a]=d.call(b[a],b[a],a,b);return c},bm=function(c){var a=i.documentElement,b=c.getBoundingClientRect();return{top:b.top+(m.pageYOffset||a.scrollTop)-(a.clientTop||0),left:b.left+(m.pageXOffset||a.scrollLeft)-(a.clientLeft||0)}},ax=function(b){for(var a=an.length;a--;)an[a].elem===b&&(an[a].stopped=!0)},b=function(a,b){return Array.prototype.forEach.call(a,b)},r=function(a,b,c){function e(b){b.target=b.srcElement||m,c.call(a,b)}var d=a.hcEvents=a.hcEvents||{};a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&(a.hcEventsIE||(a.hcEventsIE={}),a.hcEventsIE[c.toString()]=e,a.attachEvent("on"+b,e)),d[b]||(d[b]=[]),d[b].push(c)},E=function(a,c,e){function g(c,b){a.removeEventListener?a.removeEventListener(c,b,!1):a.attachEvent&&(b=a.hcEventsIE[b.toString()],a.detachEvent("on"+c,b))}function h(){var e,f,d;if(a.nodeName){c?(e={},e[c]=!0):e=b;for(d in e)if(b[d])for(f=b[d].length;f--;)g(d,b[d][f])}}var d,f,b=a.hcEvents;b&&(c?(d=b[c]||[],e?(f=V(e,d),f>-1&&(d.splice(f,1),b[c]=d),g(c,e)):(h(),b[c]=[])):(h(),a.hcEvents={}))},o=function(b,d,a,h){var c,g,j,f,k,l,m=b.hcEvents;if(a=a||{},i.createEvent&&(b.dispatchEvent||b.fireEvent))c=i.createEvent("Events"),c.initEvent(d,!0,!0),c.target=b,e(c,a),b.dispatchEvent?b.dispatchEvent(c):b.fireEvent(d,c);else if(m)for(g=m[d]||[],j=g.length,k=function(){a.defaultPrevented=!0},f=0;f<j;f++){if(l=g[f],a.stopped)return;a.preventDefault=k,a.target=b,a.type||(a.type=d),l.call(b,a)===!1&&a.preventDefault()}h&&!a.defaultPrevented&&h(a)},aC=function(d,f,b){var g,a,e,h,c,i="";L(b)||(h=arguments,b={duration:h[2],easing:h[3],complete:h[4]}),Y(b.duration)||(b.duration=400),b.easing=Math[b.easing]||Math.easeInOutSine,b.curAnim=k(f);for(c in f)e=new bJ(d,b,c),a=null,"d"===c?(e.paths=e.initPath(d,d.d,f.d),e.toD=f.d,g=0,a=1):d.attr?g=d.attr(c):(g=parseFloat(R(d,c))||0,"opacity"!==c&&(i="px")),a||(a=f[c]),a.match&&a.match("px")&&(a=a.replace(/px/g,"")),e.run(g,a,i)},m.jQuery&&(m.jQuery.fn.highcharts=function(){var a=[].slice.call(arguments);if(this[0])return a[0]?(new h[ao(a[0])?a.shift():"Chart"](this[0],a[0],a[1]),this):A[w(this[0],"data-highcharts-chart")]}),i&&!i.defaultView&&(R=function(b,a){var c,d={width:"clientWidth",height:"clientHeight"}[a];return b.style[a]?l(b.style[a]):("opacity"===a&&(a="filter"),d?(b.style.zoom=1,b[d]-2*R(b,"padding")):(c=b.currentStyle[a.replace(/\-(\w)/g,function(b,a){return a.toUpperCase()})],"filter"===a&&(c=c.replace(/alpha\(opacity=([0-9]+)\)/,function(b,a){return a/100})),""===c?1:l(c)))}),Array.prototype.forEach||(b=function(b,c){for(var a=0,d=b.length;a<d;a++)if(c.call(b[a],b[a],a,b)===!1)return a}),Array.prototype.indexOf||(V=function(d,b){var c,a=0;if(b)for(c=b.length;a<c;a++)if(b[a]===d)return a;return-1}),Array.prototype.filter||(av=function(b,d){for(var c=[],a=0,e=b.length;a<e;a++)d(b[a],a)&&c.push(b[a]);return c}),h.Fx=bJ,h.inArray=V,h.each=b,h.grep=av,h.offset=bm,h.map=af,h.addEvent=r,h.removeEvent=E,h.fireEvent=o,h.animate=aC,h.stop=ax,x={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.2.3/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":h.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:ab,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:ab,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:bx,top:"45%"},style:{position:ab,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:M,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:bB?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}},H=x.plotOptions,aS=H.line,bY(),T.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(a){return[l(a[1]),l(a[2]),l(a[3]),parseFloat(a[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(a){return[l(a[1],16),l(a[2],16),l(a[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(a){return[l(a[1]),l(a[2]),l(a[3]),1]}}],init:function(a){var b,c,d,e;if(this.input=a,a&&a.stops)this.stops=af(a.stops,function(a){return new T(a[1])});else for(d=this.parsers.length;d--&&!c;)e=this.parsers[d],b=e.regex.exec(a),b&&(c=e.parse(b));this.rgba=c||[]},get:function(d){var c,e=this.input,a=this.rgba;return this.stops?(c=k(e),c.stops=[].concat(c.stops),b(this.stops,function(b,a){c.stops[a]=[c.stops[a][0],b.get(d)]})):c=a&&!isNaN(a[0])?"rgb"===d||!d&&1===a[3]?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===d?a[3]:"rgba("+a.join(",")+")":e,c},brighten:function(d){var a,c=this.rgba;if(this.stops)b(this.stops,function(a){a.brighten(d)});else if(Y(d)&&0!==d)for(a=0;a<3;a++)c[a]+=l(255*d),c[a]<0&&(c[a]=0),c[a]>255&&(c[a]=255);return this},setOpacity:function(a){return this.rgba[3]=a,this}},y.prototype={opacity:1,textProps:["direction","fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textDecoration","textOverflow","textShadow"],init:function(c,a){var b=this;b.element="span"===a?N(a):i.createElementNS(ap,a),b.renderer=c},animate:function(d,e,c){var b=a(e,this.renderer.globalAnimation,!0);return ax(this),b?(b=k(b,{}),c&&(b.complete=c),aC(this,d,b)):this.attr(d,null,c),this},colorGradient:function(h,u,q){var n,e,a,m,j,i,l,o,t,p,g,r,s,f=this.renderer,d=[];if(h.linearGradient?e="linearGradient":h.radialGradient&&(e="radialGradient"),e){a=h[e],j=f.gradients,l=h.stops,p=q.radialReference,aA(a)&&(h[e]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===e&&p&&!c(a.gradientUnits)&&(m=a,a=k(a,f.getRadialAttr(p,m),{gradientUnits:"userSpaceOnUse"}));for(g in a)"id"!==g&&d.push(g,a[g]);for(g in l)d.push(l[g]);d=d.join(","),j[d]?r=j[d].attr("id"):(a.id=r=z+bg++,j[d]=i=f.createElement(e).attr(a).add(f.defs),i.radAttr=m,i.stops=[],b(l,function(a){var b;0===a[1].indexOf("rgba")?(n=T(a[1]),o=n.get("rgb"),t=n.get("a")):(o=a[1],t=1),b=f.createElement("stop").attr({offset:a[0],"stop-color":o,"stop-opacity":t}).add(i),i.stops.push(b)})),s="url("+f.url+"#"+r+")",q.setAttribute(u,s),q.gradient=d,h.toString=function(){return s}}},applyTextShadow:function(c){var f,a=this.element,i=c.indexOf("contrast")!==-1,e={},h=this.renderer.forExport,j=h||a.style.textShadow!==g&&!ag;i&&(e.textShadow=c=c.replace(/contrast/g,this.renderer.getContrast(a.style.fill))),(aY||h)&&(e.textRendering="geometricPrecision"),j?this.css(e):(this.fakeTS=!0,this.ySetter=this.xSetter,f=[].slice.call(a.getElementsByTagName("tspan")),b(c.split(/\s?,\s?/g),function(c){var g,e,h=a.firstChild;c=c.split(" "),g=c[c.length-1],e=c[c.length-2],e&&b(f,function(c,b){var f;0===b&&(c.setAttribute("x",a.getAttribute("x")),b=a.getAttribute("y"),c.setAttribute("y",b||0),null===b&&a.setAttribute("y",0)),f=c.cloneNode(1),w(f,{class:z+"text-shadow",fill:g,stroke:g,"stroke-opacity":1/d(l(e),3),"stroke-width":e,"stroke-linejoin":"round"}),a.insertBefore(f,h)})}))},attr:function(b,i,f){var a,d,h,e,c,j=this.element,k=this;if("string"==typeof b&&i!==g&&(a=b,b={},b[a]=i),"string"==typeof b)k=(this[b+"Getter"]||this._defaultGetter).call(this,b,j);else{for(a in b)d=b[a],e=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(a)&&(h||(this.symbolAttr(b),h=!0),e=!0),!this.rotation||"x"!==a&&"y"!==a||(this.doTransform=!0),e||(c=this[a+"Setter"]||this._defaultSetter,c.call(this,d,a,j),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(a)&&this.updateShadows(a,d,c));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return f&&f(),k},updateShadows:function(a,d,e){for(var b=this.shadows,c=b.length;c--;)e.call(null,"height"===a?Math.max(d-(b[c].cutHeight||0),0):"d"===a?this.d:d,a,b[c])},addClass:function(a){var b=this.element,c=w(b,"class")||"";return c.indexOf(a)===-1&&w(b,"class",c+" "+a),this},symbolAttr:function(d){var c=this;b(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(b){c[b]=a(d[b],c[b])}),c.attr({d:c.renderer.symbols[c.symbolName](c.x,c.y,c.width,c.height,c)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":B)},crisp:function(a){var c,d,b=this,e={},g=b.strokeWidth||0;d=f(g)%2/2,a.x=C(a.x||b.x||0)+d,a.y=C(a.y||b.y||0)+d,a.width=C((a.width||b.width||0)-2*d),a.height=C((a.height||b.height||0)-2*d),a.strokeWidth=g;for(c in a)b[c]!==a[c]&&(b[c]=e[c]=a[c]);return e},css:function(a){var f,c,g,b=this,d=b.styles,h={},i=b.element,j="",k=!d;if(a&&a.color&&(a.fill=a.color),d)for(c in a)a[c]!==d[c]&&(h[c]=a[c],k=!0);if(k){if(f=b.textWidth=a&&a.width&&"text"===i.nodeName.toLowerCase()&&l(a.width)||b.textWidth,d&&(a=e(d,h)),b.styles=a,f&&(O||!M&&b.renderer.forExport)&&delete a.width,ag&&!M)p(b.element,a);else{g=function(b,a){return"-"+a.toLowerCase()};for(c in a)j+=c.replace(/([A-Z])/g,g)+":"+a[c]+";";w(i,"style",j)}f&&b.added&&b.renderer.buildText(b)}return b},on:function(d,b){var c=this,a=c.element;return aJ&&"click"===d?(a.ontouchstart=function(d){c.touchEventFired=X.now(),d.preventDefault(),b.call(a,d)},a.onclick=function(d){(ai.indexOf("Android")===-1||X.now()-(c.touchEventFired||0)>1100)&&b.call(a,d)}):a["on"+d]=b,this},setRadialReference:function(b){var a=this.renderer.gradients[this.element.gradient];return this.element.radialReference=b,a&&a.radAttr&&a.animate(this.renderer.getRadialAttr(b,a.radAttr)),this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){var a=this;return a.inverted=!0,a.updateTransform(),a},updateTransform:function(){var d,b=this,k=b.translateX||0,f=b.translateY||0,g=b.scaleX,h=b.scaleY,i=b.inverted,j=b.rotation,e=b.element;i&&(k+=b.attr("width"),f+=b.attr("height")),d=["translate("+k+","+f+")"],i?d.push("rotate(90) scale(-1,1)"):j&&d.push("rotate("+j+" "+(e.getAttribute("x")||0)+" "+(e.getAttribute("y")||0)+")"),(c(g)||c(h))&&d.push("scale("+a(g,1)+" "+a(h,1)+")"),d.length&&e.setAttribute("transform",d.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(c,d,b){var e,g,i,j,k,h={},l=this.renderer,m=l.alignedObjects;return c?(this.alignOptions=c,this.alignByTranslate=d,b&&!ao(b)||(this.alignTo=k=b||"renderer",$(m,this),m.push(this),b=null)):(c=this.alignOptions,d=this.alignByTranslate,k=this.alignTo),b=a(b,l[k],l),e=c.align,g=c.verticalAlign,i=(b.x||0)+(c.x||0),j=(b.y||0)+(c.y||0),"right"!==e&&"center"!==e||(i+=(b.width-(c.width||0))/{right:1,center:2}[e]),h[d?"translateX":"x"]=f(i),"bottom"!==g&&"middle"!==g||(j+=(b.height-(c.height||0))/({bottom:1,middle:2}[g]||1)),h[d?"translateY":"y"]=f(j),this[this.placed?"animate":"attr"](h),this.placed=!0,this.alignAttr=h,this},getBBox:function(w,v){var c,t,i,m,l,s,j,d,h=this,p=h.renderer,f=h.element,q=h.styles,k=h.textStr,n=f.style,o=p.cache,r=p.cacheKeys;if(m=a(v,h.rotation),l=m*P,k!==g&&(d=["",m||0,q&&q.fontSize,f.style.width].join(","),d=""===k||bP.test(k)?"num:"+k.toString().length+d:k+d),d&&!w&&(c=o[d]),!c){if(f.namespaceURI===ap||p.forExport){try{j=this.fakeTS&&function(a){b(f.querySelectorAll("."+z+"text-shadow"),function(b){b.style.display=a})},ay&&n.textShadow?(s=n.textShadow,n.textShadow=""):j&&j(B),c=f.getBBox?e({},f.getBBox()):{width:f.offsetWidth,height:f.offsetHeight},s?n.textShadow=s:j&&j("")}catch(a){}(!c||c.width<0)&&(c={width:0,height:0})}else c=h.htmlGetBBox();if(p.isSVG&&(t=c.width,i=c.height,ag&&q&&"11px"===q.fontSize&&"16.9"===i.toPrecision(3)&&(c.height=i=14),m&&(c.width=u(i*I(l))+u(t*F(l)),c.height=u(i*F(l))+u(t*I(l)))),d){for(;r.length>250;)delete o[r.shift()];o[d]||r.push(d),o[d]=c}}return c},show:function(a){return this.attr({visibility:a?"inherit":ar})},hide:function(){return this.attr({visibility:ah})},fadeOut:function(b){var a=this;a.animate({opacity:0},{duration:b||150,complete:function(){a.attr({y:-9999})}})},add:function(a){var b,c=this.renderer,d=this.element;return a&&(this.parentGroup=a),this.parentInverted=a&&a.inverted,void 0!==this.textStr&&c.buildText(this),this.added=!0,(!a||a.handleZ||this.zIndex)&&(b=this.zIndexSetter()),b||(a?a.element:c.box).appendChild(d),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var h,f,e,a=this,d=a.element||{},g=a.shadows,c=a.renderer.isSVG&&"SPAN"===d.nodeName&&a.parentGroup;if(d.onclick=d.onmouseout=d.onmouseover=d.onmousemove=d.point=null,ax(a),a.clipPath&&(a.clipPath=a.clipPath.destroy()),a.stops){for(e=0;e<a.stops.length;e++)a.stops[e]=a.stops[e].destroy();a.stops=null}for(a.safeRemoveChild(d),g&&b(g,function(b){a.safeRemoveChild(b)});c&&c.div&&0===c.div.childNodes.length;)h=c.parentGroup,a.safeRemoveChild(c.div),delete c.div,c=h;a.alignTo&&$(a.renderer.alignedObjects,a);for(f in a)delete a[f];return null},shadow:function(c,i,m){var e,b,f,g,k,j,l=[],h=this.element;if(c){for(g=a(c.width,3),k=(c.opacity||.15)/g,j=this.parentInverted?"(-1,-1)":"("+a(c.offsetX,1)+", "+a(c.offsetY,1)+")",e=1;e<=g;e++)b=h.cloneNode(0),f=2*g+1-2*e,w(b,{isShadow:"true",stroke:c.color||"black","stroke-opacity":k*e,"stroke-width":f,transform:"translate"+j,fill:B}),m&&(w(b,"height",d(w(b,"height")-f,0)),b.cutHeight=f),i?i.element.appendChild(b):h.parentNode.insertBefore(b,h),l.push(b);this.shadows=l}return this},xGetter:function(a){return"circle"===this.element.nodeName&&(a={x:"cx",y:"cy"}[a]||a),this._defaultGetter(a)},_defaultGetter:function(c){var b=a(this[c],this.element?this.element.getAttribute(c):null,0);return/^[\-0-9\.]+$/.test(b)&&(b=parseFloat(b)),b},dSetter:function(a,b,c){a&&a.join&&(a=a.join(" ")),/(NaN| {2}|^$)/.test(a)&&(a="M 0 0"),c.setAttribute(b,a),this[b]=a},dashstyleSetter:function(a){var b;if(a=a&&a.toLowerCase()){for(a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),b=a.length;b--;)a[b]=l(a[b])*this["stroke-width"];a=a.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function(a,b,c){this[b]=a,c.setAttribute(b,a)},titleSetter:function(c){var b=this.element.getElementsByTagName("title")[0];b||(b=i.createElementNS(ap,"title"),this.element.appendChild(b)),b.appendChild(i.createTextNode(String(a(c),"").replace(/<[^>]*>/g,"")))},textSetter:function(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,b,c){"string"==typeof a?c.setAttribute(b,a):a&&this.colorGradient(a,b,c)},visibilitySetter:function(a,b,c){"inherit"===a?c.removeAttribute(b):c.setAttribute(b,a)},zIndexSetter:function(a,k){var h,e,g,b,f,m=this.renderer,i=this.parentGroup,o=i||m,j=o.element||m.box,d=this.element,n=this.added;if(c(a)&&(d.setAttribute(k,a),a=+a,this[k]===a&&(n=!1),this[k]=a),n){for(a=this.zIndex,a&&i&&(i.handleZ=!0),h=j.childNodes,f=0;f<h.length&&!b;f++)e=h[f],g=w(e,"zIndex"),e!==d&&(l(g)>a||!c(a)&&c(g))&&(j.insertBefore(d,e),b=!0);b||j.appendChild(d)}return b},_defaultSetter:function(a,b,c){c.setAttribute(b,a)}},y.prototype.yGetter=y.prototype.xGetter,y.prototype.translateXSetter=y.prototype.translateYSetter=y.prototype.rotationSetter=y.prototype.verticalAlignSetter=y.prototype.scaleXSetter=y.prototype.scaleYSetter=function(a,b){this[b]=a,this.doTransform=!0},y.prototype["stroke-widthSetter"]=y.prototype.strokeSetter=function(b,c,a){this[c]=b,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],y.prototype.fillSetter.call(this,this.stroke,"stroke",a),a.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===c&&0===b&&this.hasStroke&&(a.removeAttribute("stroke"),this.hasStroke=!1)},ak=function(){this.init.apply(this,arguments)},ak.prototype={Element:y,init:function(b,h,j,k,l,n){var f,d,g,a=this,e,c;f=a.createElement("svg").attr({version:"1.1"}).css(this.getStyle(k)),d=f.element,b.appendChild(d),b.innerHTML.indexOf("xmlns")===-1&&w(d,"xmlns",ap),a.isSVG=!0,a.box=d,a.boxWrapper=f,a.alignedObjects=[],a.url=(ay||aY)&&i.getElementsByTagName("base").length?m.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",g=this.createElement("desc").add(),g.element.appendChild(i.createTextNode("Created with "+bz+" "+by)),a.defs=this.createElement("defs").add(),a.allowHTML=n,a.forExport=l,a.gradients={},a.cache={},a.cacheKeys=[],a.imgCount=0,a.setSize(h,j,!1),ay&&b.getBoundingClientRect&&(a.subPixelFix=e=function(){p(b,{left:0,top:0}),c=b.getBoundingClientRect(),p(b,{left:_(c.left)-c.left+q,top:_(c.top)-c.top+q})},e(),r(m,"resize",e))},getStyle:function(a){return this.style=e({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},a),this.style},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this,b=a.defs;return a.box=null,a.boxWrapper=a.boxWrapper.destroy(),aF(a.gradients||{}),a.gradients=null,b&&(a.defs=b.destroy()),a.subPixelFix&&E(m,"resize",a.subPixelFix),a.alignedObjects=null,null},createElement:function(b){var a=new this.Element;return a.init(this,b),a},draw:function(){},getRadialAttr:function(a,b){return{cx:a[0]-a[2]/2+b.cx*a[2],cy:a[1]-a[2]/2+b.cy*a[2],r:b.r*a[2]}},buildText:function(c){for(var g,m,n,e=c.element,j=this,x=j.forExport,h=a(c.textStr,"").toString(),u=h.indexOf("<")!==-1,t=e.childNodes,r=w(e,"x"),d=c.styles,f=c.textWidth,s=d&&d.lineHeight,q=d&&d.textShadow,o=d&&"ellipsis"===d.textOverflow,v=t.length,k=f&&!c.added&&this.box,y=function(a){return s?l(s):j.fontMetrics(/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:d&&d.fontSize||j.style.fontSize||12,a).h},z=function(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">")};v--;)e.removeChild(t[v]);u||q||o||h.indexOf(" ")!==-1?(m=/<.*style="([^"]+)".*>/,n=/<.*href="(http[^"]+)".*>/,k&&k.appendChild(e),g=u?h.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[h],""===g[g.length-1]&&g.pop(),b(g,function(g,h){var a,k=0;g=g.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),a=g.split("|||"),b(a,function(g){var A,B,b,q,s,t,D,l,H,v,E,F,G,u,C;if(""!==g||1===a.length)if(B={},b=i.createElementNS(ap,"tspan"),m.test(g)&&(A=g.match(m)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),w(b,"style",A)),n.test(g)&&!x&&(w(b,"onclick",'location.href="'+g.match(n)[1]+'"'),p(b,{cursor:"pointer"})),g=z(g.replace(/<(.|\n)*?>/g,"")||" ")," "!==g){if(b.appendChild(i.createTextNode(g)),k?B.dx=0:h&&null!==r&&(B.x=r),w(b,B),e.appendChild(b),!k&&h&&(!M&&x&&p(b,{display:"block"}),w(b,"dy",y(b))),f){for(q,s,t,D,l=g.replace(/([^\^])-/g,"$1- ").split(" "),H=a.length>1||h||l.length>1&&"nowrap"!==d.whiteSpace,v=[],E=y(b),F=1,G=c.rotation,u=g,C=u.length;(H||o)&&(l.length||v.length);)c.rotation=0,D=c.getBBox(!0),t=D.width,!M&&j.forExport&&(t=j.measureSpanWidth(b.firstChild.data,c.styles)),q=t>f,void 0===s&&(s=q),o&&s?(C/=2,""===u||!q&&C<.5?l=[]:(q&&(s=!0),u=g.substring(0,u.length+(q?-1:1)*_(C)),l=[u+(f>3?"…":"")],b.removeChild(b.firstChild))):q&&1!==l.length?(b.removeChild(b.firstChild),v.unshift(l.pop())):(l=v,v=[],l.length&&(F++,b=i.createElementNS(ap,"tspan"),w(b,{dy:E,x:r}),A&&w(b,"style",A),e.appendChild(b)),t>f&&(f=t)),l.length&&b.appendChild(i.createTextNode(l.join(" ").replace(/- /g,"-")));s&&c.attr("title",c.textStr),c.rotation=G}k++}})}),k&&k.removeChild(e),q&&c.applyTextShadow&&c.applyTextShadow(q)):e.appendChild(i.createTextNode(z(h)))},getContrast:function(a){return a=T(a).rgba,a[0]+a[1]+a[2]>384?"#000000":"#FFFFFF"},button:function(u,t,s,q,b,f,c,g,p){var o,n,h,j,l,m,a=this.label(u,t,s,p,null,null,null,null,"button"),d=0,i={x1:0,y1:0,x2:0,y2:1};return b=k({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:i,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},b),h=b.style,delete b.style,f=k(b,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#FFF"],[1,"#ACF"]]}},f),j=f.style,delete f.style,c=k(b,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#9BD"],[1,"#CDF"]]}},c),l=c.style,delete c.style,g=k(b,{style:{color:"#CCC"}},g),m=g.style,delete g.style,r(a.element,ag?"mouseover":"mouseenter",function(){3!==d&&a.attr(f).css(j)}),r(a.element,ag?"mouseout":"mouseleave",function(){3!==d&&(o=[b,f,c][d],n=[h,j,l][d],a.attr(o).css(n))}),a.setState=function(e){a.state=d=e,e?2===e?a.attr(c).css(l):3===e&&a.attr(g).css(m):a.attr(b).css(h)},a.on("click",function(b){3!==d&&q.call(a,b)}).attr(b).css(e({cursor:"default"},h))},crispLine:function(a,b){return a[1]===a[4]&&(a[1]=a[4]=f(a[1])-b%2/2),a[2]===a[5]&&(a[2]=a[5]=f(a[2])+b%2/2),a},path:function(a){var b={fill:B};return aA(a)?b.d=a:L(a)&&e(b,a),this.createElement("path").attr(b)},circle:function(a,c,d){var e=L(a)?a:{x:a,y:c,r:d},b=this.createElement("circle");return b.xSetter=b.ySetter=function(a,b,c){c.setAttribute("c"+b,a)},b.attr(e)},arc:function(a,d,b,e,f,g){var c;return L(a)&&(d=a.y,b=a.r,e=a.innerR,f=a.start,g=a.end,a=a.x),c=this.symbol("arc",a||0,d||0,b||0,b||0,{innerR:e||0,start:f||0,end:g||0}),c.r=b,c},rect:function(a,j,h,i,c,f){c=L(a)?a.r:c;var e=this.createElement("rect"),b=L(a)?a:a===g?{}:{x:a,y:j,width:d(h,0),height:d(i,0)};return f!==g&&(e.strokeWidth=f,b=e.crisp(b)),c&&(b.r=c),e.rSetter=function(a,c,b){w(b,{rx:a,ry:a})},e.attr(b)},setSize:function(c,d,g){var b=this,e=b.alignedObjects,f=e.length;for(b.width=c,b.height=d,b.boxWrapper[a(g,!0)?"animate":"attr"]({width:c,height:d});f--;)e[f].align()},g:function(a){var b=this.createElement("g");return c(a)?b.attr({class:z+a}):b},image:function(b,d,f,g,h){var a,c={preserveAspectRatio:B};return arguments.length>1&&e(c,{x:d,y:f,width:g,height:h}),a=this.createElement("image").attr(c),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",b):a.element.setAttribute("hc-svg-href",b),a},symbol:function(d,k,j,h,g,b){var a,c,l,m,n=this,o=this.symbols[d],q=o&&o(f(k),f(j),h,g,b),r=/^url\((.*?)\)$/;return q?(a=this.path(q),e(a,{symbolName:d,x:k,y:j,width:h,height:g}),b&&e(a,b)):r.test(d)&&(m=function(a,b){a.element&&(a.attr({width:b[0],height:b[1]}),a.alignByTranslate||a.translate(f((h-b[0])/2),f((g-b[1])/2)))},c=d.match(r)[1],l=bK[c]||b&&b.width&&b.height&&[b.width,b.height],a=this.image(c).attr({x:k,y:j}),a.isImg=!0,l?m(a,l):(a.attr({width:0,height:0}),N("img",{onload:function(){0===this.width&&(p(this,{position:ab,top:"-999em"}),i.body.appendChild(this)),m(a,bK[c]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this),n.imgCount--,n.imgCount||A[n.chartIndex].onload()},src:c})),this.imgCount++),a},symbols:{circle:function(a,b,c,e){var d=.166*c;return[D,a+c/2,b,"C",a+c+d,b,a+c+d,b+e,a+c/2,b+e,"C",a-d,b+e,a-d,b,a+c/2,b,"Z"]},square:function(a,b,c,d){return[D,a,b,v,a+c,b,a+c,b+d,a,b+d,"Z"]},triangle:function(a,b,c,d){return[D,a+c/2,b,v,a+c,b+d,a,b+d,"Z"]},"triangle-down":function(a,b,c,d){return[D,a,b,v,a+c,b,a+c/2,b+d,"Z"]},diamond:function(a,b,c,d){return[D,a+c/2,b,v,a+c,b+d/2,a+c/2,b+d,a,b+d/2,"Z"]},arc:function(e,d,o,n,c){var f=c.start,a=c.r||o||n,g=c.end-.001,b=c.innerR,j=c.open,k=F(f),l=I(f),h=F(g),i=I(g),m=c.end-f<U?0:1;return[D,e+a*k,d+a*l,"A",a,a,0,m,1,e+a*h,d+a*i,j?D:v,e+b*h,d+b*i,"A",b,b,0,m,0,e+b*k,d+b*l,j?"":"Z"]},callout:function(b,a,c,d,k){var l,m=6,h=6,g=j(k&&k.r||0,c,d),i=g+h,e=k&&k.anchorX,f=k&&k.anchorY;return l=["M",b+g,a,"L",b+c-g,a,"C",b+c,a,b+c,a,b+c,a+g,"L",b+c,a+d-g,"C",b+c,a+d,b+c,a+d,b+c-g,a+d,"L",b+g,a+d,"C",b,a+d,b,a+d,b,a+d-g,"L",b,a+g,"C",b,a,b,a,b+g,a],e&&e>c&&f>a+i&&f<a+d-i?l.splice(13,3,"L",b+c,f-h,b+c+m,f,b+c,f+h,b+c,a+d-g):e&&e<0&&f>a+i&&f<a+d-i?l.splice(33,3,"L",b,f+h,b-m,f,b,f-h,b,a+g):f&&f>d&&e>b+i&&e<b+c-i?l.splice(23,3,"L",e+h,a+d,e,a+d+m,e-h,a+d,b+g,a+d):f&&f<0&&e>b+i&&e<b+c-i&&l.splice(3,3,"L",e-h,a,e,a-m,e+h,a,c-g,a),l}},clipRect:function(g,d,e,f){var a,c=z+bg++,b=this.createElement("clipPath").attr({id:c}).add(this.defs);return a=this.rect(g,d,e,f,0).add(b),a.id=c,a.clipPath=b,a.count=0,a},text:function(b,g,e,f){var d,a=this,h=O||!M&&a.forExport,c={};return!f||!a.allowHTML&&a.forExport?(c.x=Math.round(g||0),e&&(c.y=Math.round(e)),(b||0===b)&&(c.text=b),d=a.createElement("text").attr(c),h&&d.css({position:ab}),f||(d.xSetter=function(e,a,c){var d,b,f=c.getElementsByTagName("tspan"),g=c.getAttribute(a);for(b=0;b<f.length;b++)d=f[b],d.getAttribute(a)===g&&d.setAttribute(a,e);c.setAttribute(a,e)}),d):a.html(b,g,e)},fontMetrics:function(a,b){var c,e,d;return a=a||this.style.fontSize,!a&&b&&m.getComputedStyle&&(b=b.element||b,d=m.getComputedStyle(b,""),a=d&&d.fontSize),a=/px/.test(a)?l(a):/em/.test(a)?12*parseFloat(a):12,c=a<24?a+3:f(1.2*a),e=f(.8*c),{h:c,b:e,f:a}},rotCorr:function(c,a,e){var b=c;return a&&e&&(b=d(b*F(a*P),4)),{x:-c/3*I(a*P),y:b}},label:function(C,D,J,H,z,G,I,F,K){var h,i,l,t,A,u,v,w,x,o,n,m=this,a=m.g(K),d=m.text("",0,0,I).attr({zIndex:1}),s=0,j=3,q=0,r=0,p={},L;return x=function(){var b,g,k=d.element.style;i=(void 0===l||void 0===t||a.styles.textAlign)&&c(d.textStr)&&d.getBBox(),a.width=(l||i.width||0)+2*j+q,a.height=(t||i.height||0)+2*j,v=j+m.fontMetrics(k&&k.fontSize,d).b,w&&(h||(b=r,g=(F?-v:0)+r,a.box=h=H?m.symbol(H,b,g,a.width,a.height,p):m.rect(b,g,a.width,a.height,0,p[bO]),h.isImg||h.attr("fill",B),h.add(a)),h.isImg||h.attr(e({width:f(a.width),height:f(a.height)},p)),p=null)},o=function(){var b,h=a.styles,f=h&&h.textAlign,e=q+j;b=F?0:v,c(l)&&i&&("center"===f||"right"===f)&&(e+={center:.5,right:1}[f]*(l-i.width)),e===d.x&&b===d.y||(d.attr("x",e),b!==g&&d.attr("y",b)),d.x=e,d.y=b},n=function(a,b){h?h.attr(a,b):p[a]=b},a.onAdd=function(){d.add(a),a.attr({text:C||0===C?C:"",x:D,y:J}),h&&c(z)&&a.attr({anchorX:z,anchorY:G})},a.widthSetter=function(a){l=a},a.heightSetter=function(a){t=a},a.paddingSetter=function(b){c(b)&&b!==j&&(j=a.padding=b,o())},a.paddingLeftSetter=function(a){c(a)&&a!==q&&(q=a,o())},a.alignSetter=function(b){b={left:0,center:.5,right:1}[b],b!==s&&(s=b,i&&a.attr({x:D}))},a.textSetter=function(a){a!==g&&d.textSetter(a),x(),o()},a["stroke-widthSetter"]=function(a,b){a&&(w=!0),r=a%2/2,n(b,a)},a.strokeSetter=a.fillSetter=a.rSetter=function(a,b){"fill"===b&&a&&(w=!0),n(b,a)},a.anchorXSetter=function(a,b){z=a,n(b,f(a)-r-A)},a.anchorYSetter=function(a,b){G=a,n(b,a-u)},a.xSetter=function(b){a.x=b,s&&(b-=s*((l||i.width)+2*j)),A=f(b),a.attr("translateX",A)},a.ySetter=function(b){u=a.y=f(b),a.attr("translateY",u)},L=a.css,e(a,{css:function(c){if(c){var e={};c=k(c),b(a.textProps,function(a){c[a]!==g&&(e[a]=c[a],delete c[a])}),d.css(e)}return L.call(a,c)},getBBox:function(){return{width:i.width+2*j,height:i.height+2*j,x:i.x-j,y:i.y-j}},shadow:function(b){return h&&h.shadow(b),a},destroy:function(){E(a.element,"mouseenter"),E(a.element,"mouseleave"),d&&(d=d.destroy()),h&&(h=h.destroy()),y.prototype.destroy.call(a),a=m=x=o=n=null}})}},aI=ak,e(y.prototype,{htmlCss:function(a){var b=this,d=b.element,c=a&&"SPAN"===d.tagName&&a.width;return c&&(delete a.width,b.textWidth=c,b.updateTransform()),a&&"ellipsis"===a.textOverflow&&(a.whiteSpace="nowrap",a.overflow="hidden"),b.styles=e(b.styles,a),p(b.element,a),b},htmlGetBBox:function(){var b=this,a=b.element;return"text"===a.nodeName&&(a.style.position=ab),{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},htmlUpdateTransform:function(){var a,r,d,o,k,u,t,h,i,m,n,f,e,g,j,s;if(!this.added)return void(this.alignOnAdd=!0);a=this,r=a.renderer,d=a.element,o=a.translateX||0,k=a.translateY||0,u=a.x||0,t=a.y||0,h=a.textAlign||"left",i={left:0,center:.5,right:1}[h],m=a.shadows,n=a.styles,(p(d,{marginLeft:o,marginTop:k}),m&&b(m,function(a){p(a,{marginLeft:o+1,marginTop:k+1})}),a.inverted&&b(d.childNodes,function(a){r.invertChild(a,d)}),"SPAN"===d.tagName)&&(e=a.rotation,g=l(a.textWidth),j=n&&n.whiteSpace,s=[e,h,d.innerHTML,a.textWidth,a.textAlign].join(","),s!==a.cTT&&(f=r.fontMetrics(d.style.fontSize).b,c(e)&&a.setSpanRotation(e,i,f),d.offsetWidth>g&&/[ \-]/.test(d.textContent||d.innerText)?(p(d,{width:g+q,display:"block",whiteSpace:j||"normal"}),a.hasTextWidth=!0):a.hasTextWidth&&(p(d,{width:"",display:"",whiteSpace:j||"nowrap"}),a.hasTextWidth=!1),a.getSpanCorrection(a.hasTextWidth?g:d.offsetWidth,f,i,e,h)),p(d,{left:u+(a.xCorr||0)+q,top:t+(a.yCorr||0)+q}),aY&&(f=d.offsetHeight),a.cTT=s)},setSpanRotation:function(c,d,e){var a={},b=ag?"-ms-transform":aY?"-webkit-transform":ay?"MozTransform":bv?"-o-transform":"";a[b]=a.transform="rotate("+c+"deg)",a[b+(ay?"Origin":"-origin")]=a.transformOrigin=100*d+"% "+e+"px",p(this.element,a)},getSpanCorrection:function(a,b,c){this.xCorr=-a*c,this.yCorr=-b}}),e(ak.prototype,{html:function(j,h,i){var a=this.createElement("span"),c=a.element,g=a.renderer,d=function(a,c){b(["opacity","visibility"],function(b){aH(a,b+"Setter",function(d,a,b,e){d.call(this,a,b,e),c[b]=a})})};return a.textSetter=function(b){b!==c.innerHTML&&delete this.bBox,c.innerHTML=this.textStr=b,a.htmlUpdateTransform()},d(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(c,b){"align"===b&&(b="textAlign"),a[b]=c,a.htmlUpdateTransform()},a.attr({text:j,x:f(h),y:f(i)}).css({position:ab,fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),c.style.whiteSpace="nowrap",a.css=a.htmlCss,g.isSVG&&(a.add=function(i){var f,h,j=g.box.parentNode,k=[];if(this.parentGroup=i,i){if(f=i.div,!f){for(h=i;h;)k.push(h),h=h.parentGroup;b(k.reverse(),function(a){var b,c=w(a.element,"class");c&&(c={className:c}),f=a.div=a.div||N(at,c,{position:ab,left:(a.translateX||0)+q,top:(a.translateY||0)+q},f||j),b=f.style,e(a,{translateXSetter:function(c,d){b.left=c+q,a[d]=c,a.doTransform=!0},translateYSetter:function(c,d){b.top=c+q,a[d]=c,a.doTransform=!0}}),d(a,b)})}}else f=j;return f.appendChild(c),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a}}),!M&&!O&&(Z={init:function(e,a){var f=this,b=["<",a,' filled="f" stroked="f"'],c=["position: ",ab,";"],d=a===at;("shape"===a||d)&&c.push("left:0;top:0;width:1px;height:1px;"),c.push("visibility: ",d?ah:ar),b.push(' style="',c.join(""),'"/>'),a&&(b=d||"span"===a||"img"===a?b.join(""):e.prepVML(b),f.element=N(b)),f.renderer=e},add:function(b){var a=this,c=a.renderer,d=a.element,f=c.box,g=b&&b.inverted,e=b?b.element||b:f;return b&&(this.parentGroup=b),g&&c.invertChild(d,e),e.appendChild(d),a.added=!0,a.alignOnAdd&&!a.deferUpdateTransform&&a.updateTransform(),a.onAdd&&a.onAdd(),a},updateTransform:y.prototype.htmlUpdateTransform,setSpanRotation:function(){var a=this.rotation,b=F(a*P),c=I(a*P);p(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11=",b,", M12=",-c,", M21=",c,", M22=",b,", sizingMethod='auto expand')"].join(""):B})},getSpanCorrection:function(h,i,b,c,f){var g,d=c?F(c*P):1,e=c?I(c*P):0,j=a(this.elemHeight,this.element.offsetHeight),k=f&&"left"!==f;this.xCorr=d<0&&-h,this.yCorr=e<0&&-j,g=d*e<0,this.xCorr+=e*i*(g?1-b:b),this.yCorr-=d*i*(c?g?b:1-b:1),k&&(this.xCorr-=h*b*(d<0?-1:1),c&&(this.yCorr-=j*b*(e<0?-1:1)),p(this.element,{textAlign:f}))},pathToVML:function(b){for(var a=b.length,c=[];a--;)Y(b[a])?c[a]=f(10*b[a])-5:"Z"===b[a]?c[a]="x":(c[a]=b[a],!b.isArc||"wa"!==b[a]&&"at"!==b[a]||(c[a+5]===c[a+7]&&(c[a+7]+=b[a+7]>b[a+5]?1:-1),c[a+6]===c[a+8]&&(c[a+8]+=b[a+8]>b[a+6]?1:-1)));return c.join(" ")||"x"},clip:function(c){var b,d,a=this;return c?(b=c.members,$(b,a),b.push(a),a.destroyClip=function(){$(b,a)},d=c.getCSS(a)):(a.destroyClip&&a.destroyClip(),d={clip:bc?"inherit":"rect(auto)"}),a.css(d)},css:y.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&aM(a)},destroy:function(){return this.destroyClip&&this.destroyClip(),y.prototype.destroy.apply(this)},on:function(a,b){return this.element["on"+a]=function(){var a=m.event;a.target=a.srcElement,b(a)},this},cutOffPath:function(a,c){var b;return a=a.split(/[ ,]/),b=a.length,9!==b&&11!==b||(a[b-4]=a[b-2]=l(a[b-2])-10*c),a.join(" ")},shadow:function(c,o,k){var e,b,g,h,j,i,m,n=[],d=this.element,p=this.renderer,q=d.style,f=d.path;if(f&&"string"!=typeof f.value&&(f="x"),j=f,c){for(i=a(c.width,3),m=(c.opacity||.15)/i,e=1;e<=3;e++)h=2*i+1-2*e,k&&(j=this.cutOffPath(f.value,h+.5)),g=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',j,'" coordsize="10 10" style="',d.style.cssText,'" />'],b=N(p.prepVML(g),null,{left:l(q.left)+a(c.offsetX,1),top:l(q.top)+a(c.offsetY,1)}),k&&(b.cutOff=h+1),g=['<stroke color="',c.color||"black",'" opacity="',m*e,'"/>'],N(p.prepVML(g),null,null,b),o?o.element.appendChild(b):d.parentNode.insertBefore(b,d),n.push(b);this.shadows=n}return this},updateShadows:aj,setAttr:function(a,b){bc?this.element[a]=b:this.element.setAttribute(a,b)},classSetter:function(a){this.element.className=a},dashstyleSetter:function(a,b,c){var d=c.getElementsByTagName("stroke")[0]||N(this.renderer.prepVML(["<stroke/>"]),null,null,c);d[b]=a||"solid",this[b]=a},dSetter:function(a,d,e){var b,c=this.shadows;if(a=a||[],this.d=a.join&&a.join(" "),e.path=a=this.pathToVML(a),c)for(b=c.length;b--;)c[b].path=c[b].cutOff?this.cutOffPath(a,c[b].cutOff):a;this.setAttr(d,a)},fillSetter:function(b,d,a){var c=a.nodeName;"SPAN"===c?a.style.color=b:"IMG"!==c&&(a.filled=b!==B,this.setAttr("fillcolor",this.renderer.color(b,a,d,this)))},"fill-opacitySetter":function(a,b,c){N(this.renderer.prepVML(["<",b.split("-")[0],' opacity="',a,'"/>']),null,null,c)},opacitySetter:aj,rotationSetter:function(a,c,d){var b=d.style;this[c]=b[c]=a,b.left=-f(I(a*P)+1)+q,b.top=f(F(a*P))+q},strokeSetter:function(a,b,c){this.setAttr("strokecolor",this.renderer.color(a,c,b,this))},"stroke-widthSetter":function(a,b,c){c.stroked=!!a,this[b]=a,Y(a)&&(a+=q),this.setAttr("strokeweight",a)},titleSetter:function(a,b){this.setAttr(b,a)},visibilitySetter:function(a,c,d){"inherit"===a&&(a=ar),this.shadows&&b(this.shadows,function(b){b.style[c]=a}),"DIV"===d.nodeName&&(a=a===ah?"-999em":0,bc||(d.style[c]=a?ar:ah),c="top"),d.style[c]=a},xSetter:function(b,a,c){this[a]=b,"x"===a?a="left":"y"===a&&(a="top"),this.updateClipping?(this[a]=b,this.updateClipping()):c.style[a]=b},zIndexSetter:function(a,b,c){c.style[b]=a}},Z["stroke-opacitySetter"]=Z["fill-opacitySetter"],h.VMLElement=Z=ae(y,Z),Z.prototype.ySetter=Z.prototype.widthSetter=Z.prototype.heightSetter=Z.prototype.xSetter,bN={Element:Z,isIE8:ai.indexOf("MSIE 8.0")>-1,init:function(h,j,f,g){var b,d,c,a=this;if(a.alignedObjects=[],b=a.createElement(at).css(e(this.getStyle(g),{position:"relative"})),d=b.element,h.appendChild(b.element),a.isVML=!0,a.box=d,a.boxWrapper=b,a.gradients={},a.cache={},a.cacheKeys=[],a.imgCount=0,a.setSize(j,f,!1),!i.namespaces.hcv){i.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),c="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{i.createStyleSheet().cssText=c}catch(a){i.styleSheets[0].cssText+=c}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(a,g,h,i){var d=this.createElement(),c=L(a);return e(d,{members:[],count:0,left:(c?a.x:a)+1,top:(c?a.y:g)+1,width:(c?a.width:h)-1,height:(c?a.height:i)-1,getCSS:function(i){var j=i.element,k=j.nodeName,m="shape"===k,a=i.inverted,b=this,c=b.top-(m?j.offsetTop:0),d=b.left,g=d+b.width,h=c+b.height,l={clip:"rect("+f(a?d:c)+"px,"+f(a?h:g)+"px,"+f(a?g:h)+"px,"+f(a?c:d)+"px)"};return!a&&bc&&"DIV"===k&&e(l,{width:g+q,height:h+q}),l},updateClipping:function(){b(d.members,function(a){a.element&&a.css(d.getCSS(a))})}})},color:function(c,k,m,l){var f,L,h,O=this,A=/^rgba/,j=B,e,n,z,y,w,v,t,s,M,u,q,p,a,o,g,C,D,d,F,H,I,J,K,i,E,r;return c&&c.linearGradient?h="gradient":c&&c.radialGradient&&(h="pattern"),h?(a=c.linearGradient||c.radialGradient,o="",g=c.stops,C=[],D=function(){L=['<fill colors="'+C.join(",")+'" opacity="',s,'" o:opacity2="',t,'" type="',h,'" ',o,'focus="100%" method="any" />'],N(O.prepVML(L),null,null,k)},(q=g[0],p=g[g.length-1],q[0]>0&&g.unshift([0,q[1]]),p[0]<1&&g.push([1,p[1]]),b(g,function(a,b){A.test(a[1])?(f=T(a[1]),e=f.get("rgb"),n=f.get("a")):(e=a[1],n=1),C.push(100*a[0]+"% "+e),b?(s=n,M=e):(t=n,u=e)}),"fill"===m)?"gradient"===h?(z=a.x1||a[0]||0,y=a.y1||a[1]||0,w=a.x2||a[2]||0,v=a.y2||a[3]||0,o='angle="'+(90-180*G.atan((v-y)/(w-z))/U)+'"',D()):(F=a.r,H=2*F,I=2*F,J=a.cx,K=a.cy,i=k.radialReference,E=function(){i&&(d=l.getBBox(),J+=(i[0]-d.x)/d.width-.5,K+=(i[1]-d.y)/d.height-.5,H*=i[2]/d.width,I*=i[2]/d.height),o='src="'+x.global.VMLRadialGradientURL+'" size="'+H+","+I+'" origin="0.5,0.5" position="'+J+","+K+'" color2="'+u+'" ',D()},l.added?E():l.onAdd=E,j=M):j=e):A.test(c)&&"IMG"!==k.tagName?(f=T(c),l[m+"-opacitySetter"](f.get("a"),m,k),j=f.get("rgb")):(r=k.getElementsByTagName(m),r.length&&(r[0].opacity=1,r[0].type="solid"),j=c),j},prepVML:function(a){var b="display:inline-block;behavior:url(#default#VML);",c=this.isIE8;return a=a.join(""),c?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=a.indexOf('style="')===-1?a.replace("/>",' style="'+b+'" />'):a.replace('style="','style="'+b)):a=a.replace("<","<hcv:"),a},text:ak.prototype.html,path:function(a){var b={coordsize:"10 10"};return aA(a)?b.d=a:L(a)&&e(b,a),this.createElement("shape").attr(b)},circle:function(a,c,d){var b=this.symbol("circle");return L(a)&&(d=a.r,c=a.y,a=a.x),b.isCircle=!0,b.r=d,b.attr({x:a,y:c})},g:function(a){var c,b;return a&&(b={className:z+a,class:z+a}),c=this.createElement(at).attr(b)},image:function(b,c,d,e,f){var a=this.createElement("img").attr({src:b});return arguments.length>1&&a.attr({x:c,y:d,width:e,height:f}),a},createElement:function(a){return"rect"===a?this.symbol(a):ak.prototype.createElement.call(this,a)},invertChild:function(a,e){var f=this,d=e.style,c="IMG"===a.tagName&&a.style;p(a,{flip:"x",left:l(d.width)-(c?l(c.top):1),top:l(d.height)-(c?l(c.left):1),rotation:-90}),b(a.childNodes,function(b){f.invertChild(b,a)})},symbols:{arc:function(a,b,n,m,e){var f,g=e.start,h=e.end,d=e.r||n||m,c=e.innerR,i=F(g),j=I(g),k=F(h),l=I(h);return h-g===0?["x"]:(f=["wa",a-d,b-d,a+d,b+d,a+d*i,b+d*j,a+d*k,b+d*l],e.open&&!c&&f.push("e",D,a,b),f.push("at",a-c,b-c,a+c,b+c,a+c*k,b+c*l,a+c*i,b+c*j,"x","e"),f.isArc=!0,f)},circle:function(a,b,c,d,e){return e&&(c=d=2*e.r),e&&e.isCircle&&(a-=c/2,b-=d/2),["wa",a,b,a+c,b+d,a+c,b+d/2,a+c,b+d/2,"e"]},rect:function(b,d,e,f,a){return ak.prototype.symbols[c(a)&&a.r?"callout":"square"].call(0,b,d,e,f,a)}}},h.VMLRenderer=br=function(){this.init.apply(this,arguments)},br.prototype=k(ak.prototype,bN),aI=br),ak.prototype.measureSpanWidth=function(c,d){var b,a=i.createElement("span"),e=i.createTextNode(c);return a.appendChild(e),p(a,d),this.box.appendChild(a),b=a.offsetWidth,aM(a),b},O&&(h.CanVGRenderer=bj=function(){ap="http://www.w3.org/1999/xhtml"},bj.prototype.symbols={},bE=function(){function b(){var b,c=a.length;for(b=0;b<c;b++)a[b]();a=[]}var a=[];return{push:function(c,d){0===a.length&&cb(d,b),a.push(c)}}}(),aI=bj),aG.prototype={addLabel:function(){var h,r,d=this,b=d.axis,o=b.options,n=b.chart,l=b.categories,s=b.names,e=d.pos,i=o.labels,g=b.tickPositions,p=e===g[0],q=e===g[g.length-1],m=l?a(l[e],s[e],e):e,f=d.label,j=g.info;b.isDatetimeAxis&&j&&(r=o.dateTimeLabelFormats[j.higherRanks[e]||j.unitName]),d.isFirst=p,d.isLast=q,h=b.labelFormatter.call({axis:b,chart:n,isFirst:p,isLast:q,dateTimeLabelFormat:r,value:b.isLog?S(ad(m)):m}),c(f)?f&&f.attr({text:h}):(d.label=f=c(h)&&i.enabled?n.renderer.text(h,0,0,i.useHTML).css(k(i.style)).add(b.labelGroup):null,d.labelLength=f&&f.getBBox().width,d.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(m){var s,r,i,b=this.axis,h=m.x,q=b.chart.chartWidth,u=b.chart.spacing,l=a(b.labelLeft,j(b.pos,u[3])),o=a(b.labelRight,d(b.pos+b.len,q-u[1])),n=this.label,k=this.rotation,e={left:0,center:.5,right:1}[b.labelAlign],g=n.getBBox().width,c=b.slotWidth,v=e,t=1,p={};k?k<0&&h-e*g<l?i=f(h/F(k*P)-l):k>0&&h+e*g>o&&(i=f((q-h)/F(k*P))):(s=h-e*g,r=h+(1-e)*g,s<l?c=m.x+c*(1-e)-l:r>o&&(c=o-m.x+c*e,t=-1),c=j(b.slotWidth,c),c<b.slotWidth&&"center"===b.labelAlign&&(m.x+=t*(b.slotWidth-c-v*(b.slotWidth-j(g,c)))),(g>c||b.autoRotation&&n.styles.width)&&(i=c)),i&&(p.width=i,b.options.labels.style.textOverflow||(p.textOverflow="ellipsis"),n.css(p))},getPosition:function(d,e,f,b){var a=this.axis,c=a.chart,g=b&&c.oldChartHeight||c.chartHeight;return{x:d?a.translate(e+f,null,null,b)+a.transB:a.left+a.offset+(a.opposite?(b&&c.oldChartWidth||c.chartWidth)-a.right-a.left:0),y:d?g-a.bottom+a.offset-(a.opposite?a.height:0):g-a.translate(e+f,null,null,b)-a.transB}},getLabelPosition:function(j,d,o,n,k,g,p,q){var h,a=this.axis,l=a.transA,m=a.reversed,e=a.staggerLines,i=a.tickRotCorr||{x:0,y:0},b=k.y;return c(b)||(b=2===a.side?i.y+8:b=F(o.rotation*P)*(i.y-o.getBBox(!1,0).height/2)),j=j+k.x+i.x-(g&&n?g*l*(m?-1:1):0),d=d+b-(g&&!n?g*l*(m?1:-1):0),e&&(h=p/(q||1)%e,a.opposite&&(h=e-h-1),d+=h*(a.labelOffset/e)),{x:j,y:f(d)}},getMarkPath:function(a,b,c,e,d,f){return f.crispLine([D,a,b,v,a+(d?0:-c),b+(d?c:0)],e)},render:function(E,l,f){var p,A,k,b=this,c=b.axis,d=c.options,I=c.chart,w=I.renderer,i=c.horiz,j=b.type,m=b.label,D=b.pos,r=d.labels,s=b.gridLine,u=j?j+"Grid":"grid",n=j?j+"Tick":"tick",q=d[u+"LineWidth"],H=d[u+"LineColor"],B=d[u+"LineDashStyle"],h=d[n+"Length"],z=a(d[n+"Width"],!j&&c.isXAxis?1:0),G=d[n+"Color"],J=d[n+"Position"],C=b.mark,t=r.step,v=!0,x=c.tickmarkOffset,e=b.getPosition(i,D,x,l),o=e.x,y=e.y,F=i&&o===c.pos+c.len||!i&&y===c.pos?-1:1;f=a(f,1),this.isActive=!0,q&&(p=c.getPlotLinePath(D+x,q*F,l,!0),s===g&&(k={stroke:H,"stroke-width":q},B&&(k.dashstyle=B),j||(k.zIndex=1),l&&(k.opacity=0),b.gridLine=s=q?w.path(p).attr(k).add(c.gridGroup):null),!l&&s&&p&&s[b.isNew?"attr":"animate"]({d:p,opacity:f})),z&&h&&("inside"===J&&(h=-h),c.opposite&&(h=-h),A=b.getMarkPath(o,y,h,z*F,i,w),C?C.animate({d:A,opacity:f}):b.mark=w.path(A).attr({stroke:G,"stroke-width":z,opacity:f}).add(c.axisGroup)),m&&!isNaN(o)&&(m.xy=e=b.getLabelPosition(o,y,m,i,r,x,E,t),b.isFirst&&!b.isLast&&!a(d.showFirstLabel,1)||b.isLast&&!b.isFirst&&!a(d.showLastLabel,1)?v=!1:!i||c.isRadial||r.step||r.rotation||l||0===f||b.handleOverflow(e),t&&E%t&&(v=!1),v&&!isNaN(e.y)?(e.opacity=f,m[b.isNew?"attr":"animate"](e),b.isNew=!1):m.attr("y",-9999))},destroy:function(){aF(this,this.axis)}},h.PlotLineOrBand=function(b,a){this.axis=b,a&&(this.options=a,this.id=a.id)},h.PlotLineOrBand.prototype={render:function(){var t,w,e=this,h=e.axis,j=h.horiz,b=e.options,l=b.label,m=e.label,p=b.width,n=b.to,o=b.from,f=c(o)&&c(n),r=b.value,v=b.dashStyle,i=e.svgElem,d=[],s=b.color,u=a(b.zIndex,0),q=b.events,g={},x=h.chart.renderer;if(h.isLog&&(o=au(o),n=au(n),r=au(r)),p)d=h.getPlotLinePath(r,p),g={stroke:s,"stroke-width":p},v&&(g.dashstyle=v);else{if(!f)return;d=h.getPlotBandPath(o,n,b),s&&(g.fill=s),b.borderWidth&&(g.stroke=b.borderColor,g["stroke-width"]=b.borderWidth)}if(g.zIndex=u,i)d?(i.show(),i.animate({d})):(i.hide(),m&&(e.label=m=m.destroy()));else if(d&&d.length&&(e.svgElem=i=x.path(d).attr(g).add(),q)){t=function(a){i.on(a,function(b){q[a].apply(e,[b])})};for(w in q)t(w)}return l&&c(l.text)&&d&&d.length&&h.width>0&&h.height>0&&!d.flat?(l=k({align:j&&f&&"center",x:j?!f&&4:10,verticalAlign:!j&&f&&"middle",y:j?f?16:10:f?6:-4,rotation:j&&!f&&90},l),this.renderLabel(l,d,f,u)):m&&m.hide(),e},renderLabel:function(b,a,j,k){var i,f,g,h,d,e=this,c=e.label,l=e.axis.chart.renderer;c||(i={align:b.textAlign||b.align,rotation:b.rotation},i.zIndex=k,e.label=c=l.text(b.text,0,0,b.useHTML).attr(i).css(b.style).add()),f=[a[1],a[4],j?a[6]:a[1]],g=[a[2],a[5],j?a[7]:a[2]],h=aU(f),d=aU(g),c.align(b,!1,{x:h,y:d,width:aw(f)-h,height:aw(g)-d}),c.show()},destroy:function(){$(this.axis.plotLinesAndBands,this),delete this.axis,aF(this)}},bD={getPlotBandPath:function(c,d){var a=this.getPlotLinePath(d,null,null,!0),b=this.getPlotLinePath(c,null,null,!0);return b&&a?(b.flat=b.toString()===a.toString(),b.push(a[4],a[5],a[1],a[2])):b=null,b},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(d,a){var b=new h.PlotLineOrBand(this,d).render(),c=this.userOptions;return b&&(a&&(c[a]=c[a]||[],c[a].push(d)),this.plotLinesAndBands.push(b)),b},removePlotBandOrLine:function(d){for(var c=this.plotLinesAndBands,e=this.options,f=this.userOptions,a=c.length;a--;)c[a].id===d&&c[a].destroy();b([e.plotLines||[],f.plotLines||[],e.plotBands||[],f.plotBands||[]],function(b){for(a=b.length;a--;)b[a].id===d&&$(b,b[a])})}},Q=h.Axis=function(){this.init.apply(this,arguments)},Q.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return h.numberFormat(this.total,-1)},style:k(H.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(e,h){var f=h.isX,b=this,d,i,l,j,k;b.chart=e,b.horiz=e.inverted?!f:f,b.isXAxis=f,b.coll=f?"xAxis":"yAxis",b.opposite=h.opposite,b.side=h.side||(b.horiz?b.opposite?0:2:b.opposite?1:3),b.setOptions(h),d=this.options,i=d.type,l="datetime"===i,b.labelFormatter=d.labels.formatter||b.defaultLabelFormatter,b.userOptions=h,b.minPixelPadding=0,b.reversed=d.reversed,b.visible=d.visible!==!1,b.zoomEnabled=d.zoomEnabled!==!1,b.categories=d.categories||"category"===i,b.names=b.names||[],b.isLog="logarithmic"===i,b.isDatetimeAxis=l,b.isLinked=c(d.linkedTo),b.ticks={},b.labelEdge=[],b.minorTicks={},b.plotLinesAndBands=[],b.alternateBands={},b.len=0,b.minRange=b.userMinRange=d.minRange||d.maxZoom,b.range=d.range,b.offset=d.offset||0,b.stacks={},b.oldStacks={},b.stacksTouched=0,b.max=null,b.min=null,b.crosshair=a(d.crosshair,al(e.options.tooltip.crosshairs)[f?0:1],!1),k=b.options.events,V(b,e.axes)===-1&&(f&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,b):e.axes.push(b),e[b.coll].push(b)),b.series=b.series||[],e.inverted&&f&&b.reversed===g&&(b.reversed=!0),b.removePlotBand=b.removePlotBandOrLine,b.removePlotLine=b.removePlotBandOrLine;for(j in k)r(b,j,k[j]);b.isLog&&(b.val2lin=au,b.lin2val=ad)},setOptions:function(a){this.options=k(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],k(x[this.coll],a))},defaultLabelFormatter:function(){var d,a,e=this.axis,b=this.value,l=e.categories,i=this.dateTimeLabelFormat,f=x.lang.numericSymbols,c=f&&f.length,j=e.options.labels.format,k=e.isLog?b:e.tickInterval;if(j)a=aE(j,this);else if(l)a=b;else if(i)a=aB(i,b);else if(c&&k>=1e3)for(;c--&&a===g;)d=Math.pow(1e3,c+1),k>=d&&10*b%d===0&&null!==f[c]&&(a=h.numberFormat(b/d,-1)+f[c]);return a===g&&(a=u(b)>=1e4?h.numberFormat(b,-1):h.numberFormat(b,-1,g,"")),a},getSeriesExtremes:function(){var e=this,f=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),b(e.series,function(b){if(b.visible||!f.options.chart.ignoreHiddenSeries){var g,h,i,l=b.options,k=l.threshold;e.hasVisibleSeries=!0,e.isLog&&k<=0&&(k=null),e.isXAxis?(g=b.xData,g.length&&(e.dataMin=j(a(e.dataMin,g[0]),aU(g)),e.dataMax=d(a(e.dataMax,g[0]),aw(g)))):(b.getExtremes(),i=b.dataMax,h=b.dataMin,c(h)&&c(i)&&(e.dataMin=j(a(e.dataMin,h),h),e.dataMax=d(a(e.dataMax,i),i)),c(k)&&(e.threshold=k),l.softThreshold&&!e.isLog||(e.softThreshold=!1))}})},translate:function(b,n,l,i,m,g){var e,a=this.linkedParent||this,c=1,f=0,d=i?a.oldTransA:a.transA,j=i?a.oldMin:a.min,k=a.minPixelPadding,h=(a.isOrdinal||a.isBroken||a.isLog&&m)&&a.lin2val;return d||(d=a.transA),l&&(c*=-1,f=a.len),a.reversed&&(c*=-1,f-=c*(a.sector||a.len)),n?(b=b*c+f,b-=k,e=b/d+j,h&&(e=a.lin2val(e))):(h&&(b=a.val2lin(b)),"between"===g&&(g=.5),e=c*(b-j)*d+f+c*k+(Y(g)?d*g*a.pointRange:0)),e},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(w,u,n,q,h){var e,g,i,k,o,b=this,c=b.chart,l=b.left,m=b.top,s=n&&c.oldChartHeight||c.chartHeight,t=n&&c.oldChartWidth||c.chartWidth,r=b.transB,p=function(a,b,c){return(a<b||a>c)&&(q?a=j(d(b,a),c):o=!0),a};return h=a(h,b.translate(w,null,null,n)),e=i=f(h+r),g=k=f(s-h-r),isNaN(h)?o=!0:b.horiz?(g=m,k=s-b.bottom,e=i=p(e,l,l+b.width)):(e=l,i=t-b.right,g=k=p(g,m,m+b.height)),o&&!q?null:c.renderer.crispLine([D,e,g,v,i,k],u||1)},getLinearTickPositions:function(b,c,d){var a,e,g=S(C(c/b)*b),h=S(_(d/b)*b),f=[];if(c===d&&Y(c))return[c];for(a=g;a<=h&&(f.push(a),a=S(a+b),a!==e);)e=a;return f},getMinorTickPositions:function(){var g,d,j,a=this,e=a.options,f=a.tickPositions,c=a.minorTickInterval,b=[],k=a.pointRangePadding||0,h=a.min-k,i=a.max+k,l=i-h;if(l&&l/c<a.len/3)if(a.isLog)for(j=f.length,d=1;d<j;d++)b=b.concat(a.getLogTickPositions(c,f[d-1],f[d],!0));else if(a.isDatetimeAxis&&"auto"===e.minorTickInterval)b=b.concat(a.getTimeTicks(a.normalizeTimeTickInterval(c),h,i,e.startOfWeek));else for(g=h+(f[0]-h)%c;g<=i;g+=c)b.push(g);return 0!==b.length&&a.trimTicks(b,e.startOnTick,e.endOnTick),b},adjustForMinRange:function(){var o,n,l,q,m,r,i,p,f,d=this,k=d.options,e=d.min,h=d.max,s=d.dataMax-d.dataMin>=d.minRange;d.isXAxis&&d.minRange===g&&!d.isLog&&(c(k.min)||c(k.max)?d.minRange=null:(b(d.series,function(a){for(m=a.xData,r=a.xIncrement?1:m.length-1,l=r;l>0;l--)q=m[l]-m[l-1],(n===g||q<n)&&(n=q)}),d.minRange=j(5*n,d.dataMax-d.dataMin))),h-e<d.minRange&&(f=d.minRange,o=(f-h+e)/2,i=[e-o,a(k.min,e-o)],s&&(i[2]=d.dataMin),e=aw(i),p=[e+f,a(k.max,e+f)],s&&(p[2]=d.dataMax),h=aU(p),h-e<f&&(i[0]=h-f,i[1]=a(k.min,h-f),e=aw(i))),d.min=e,d.max=h},setAxisTranslation:function(q){var f,k,e=this,p=e.max-e.min,i=e.axisPointRange||0,g=0,h=0,m=e.linkedParent,o=!!e.categories,l=e.transA,n=e.isXAxis;(n||o||i)&&(m?(g=m.minPointOffset,h=m.pointRangePadding):(b(e.series,function(b){var a=b.closestPointRange;!b.noSharedTooltip&&c(a)&&(f=c(f)?j(f,a):a)}),b(e.series,function(c){var b=o?1:n?a(c.options.pointRange,f,0):e.axisPointRange||0,j=c.options.pointPlacement;i=d(i,b),e.single||(g=d(g,ao(j)?0:b/2),h=d(h,"on"===j?0:b))})),k=e.ordinalSlope&&f?e.ordinalSlope/f:1,e.minPointOffset=g*=k,e.pointRangePadding=h*=k,e.pointRange=j(i,p),n&&(e.closestPointRange=f)),q&&(e.oldTransA=l),e.translationSlope=e.transA=l=e.len/(p+h||1),e.transB=e.horiz?e.left:e.bottom,e.minPixelPadding=l*g},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var m,k,p,x,w,l,i,e=this,A=e.chart,f=e.options,v=e.isLog,u=e.isDatetimeAxis,z=e.isXAxis,n=e.isLinked,r=f.maxPadding,q=f.minPadding,h=f.tickInterval,o=f.tickPixelInterval,s=e.categories,g=e.threshold,y=e.softThreshold;u||s||n||this.getTickAmount(),l=a(e.userMin,f.min),i=a(e.userMax,f.max),n?(e.linkedParent=A[e.coll][f.linkedTo],k=e.linkedParent.getExtremes(),e.min=a(k.min,k.dataMin),e.max=a(k.max,k.dataMax),f.type!==e.linkedParent.options.type&&ac(11,1)):(!y&&c(g)&&(e.dataMin>=g?(x=g,q=0):e.dataMax<=g&&(w=g,r=0)),e.min=a(l,x,e.dataMin),e.max=a(i,w,e.dataMax)),v&&(!t&&j(e.min,a(e.dataMin,e.min))<=0&&ac(10,1),e.min=S(au(e.min),15),e.max=S(au(e.max),15)),e.range&&c(e.max)&&(e.userMin=e.min=l=d(e.min,e.minFromRange()),e.userMax=i=e.max,e.range=null),e.beforePadding&&e.beforePadding(),e.adjustForMinRange(),s||e.axisPointRange||e.usePercentage||n||!c(e.min)||!c(e.max)||(m=e.max-e.min,m&&(!c(l)&&q&&(e.min-=m*q),!c(i)&&r&&(e.max+=m*r))),Y(f.floor)&&(e.min=d(e.min,f.floor)),Y(f.ceiling)&&(e.max=j(e.max,f.ceiling)),y&&c(e.dataMin)&&(g=g||0,!c(l)&&e.min<g&&e.dataMin>=g?e.min=g:!c(i)&&e.max>g&&e.dataMax<=g&&(e.max=g)),e.min===e.max||void 0===e.min||void 0===e.max?e.tickInterval=1:n&&!h&&o===e.linkedParent.options.tickPixelInterval?e.tickInterval=h=e.linkedParent.tickInterval:e.tickInterval=a(h,this.tickAmount?(e.max-e.min)/d(this.tickAmount-1,1):void 0,s?1:(e.max-e.min)*o/d(e.len,o)),z&&!t&&b(e.series,function(a){a.processData(e.min!==e.oldMin||e.max!==e.oldMax)}),e.setAxisTranslation(!0),e.beforeSetTickPositions&&e.beforeSetTickPositions(),e.postProcessTickInterval&&(e.tickInterval=e.postProcessTickInterval(e.tickInterval)),e.pointRange&&!h&&(e.tickInterval=d(e.pointRange,e.tickInterval)),p=a(f.minTickInterval,e.isDatetimeAxis&&e.closestPointRange),!h&&e.tickInterval<p&&(e.tickInterval=p),u||v||h||(e.tickInterval=bu(e.tickInterval,null,bt(e.tickInterval),a(f.allowDecimals,!(e.tickInterval>.5&&e.tickInterval<5&&e.max>1e3&&e.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(e.tickInterval=e.unsquish()),this.setTickPositions()},setTickPositions:function(){var a,f,b=this.options,e=b.tickPositions,d=b.tickPositioner,g=b.startOnTick,h=b.endOnTick;this.tickmarkOffset=this.categories&&"between"===b.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===b.minorTickInterval&&this.tickInterval?this.tickInterval/5:b.minorTickInterval,this.tickPositions=a=e&&e.slice(),a||(a=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,b.units),this.min,this.max,b.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),a.length>this.len&&(a=[a[0],a.pop()]),this.tickPositions=a,d&&(d=d.apply(this,[this.min,this.max]),d&&(this.tickPositions=a=d))),this.isLinked||(this.trimTicks(a,g,h),this.min===this.max&&c(this.min)&&!this.tickAmount&&(f=!0,this.min-=.5,this.max+=.5),this.single=f,e||d||this.adjustTickAmount())},trimTicks:function(a,f,g){var b=a[0],d=a[a.length-1],e=this.minPointOffset||0;if(f)this.min=b;else for(;this.min-e>a[0];)a.shift();if(g)this.max=d;else for(;this.max+e<a[a.length-1];)a.pop();0===a.length&&c(b)&&a.push((d+b)/2)},alignToOthers:function(){var a,c={},d=this.options;return this.chart.options.chart.alignTicks!==!1&&d.alignTicks!==!1&&b(this.chart[this.coll],function(d){var b=d.options,f=d.horiz,e=[f?b.left:b.top,b.width,b.height,b.pane].join(",");d.series.length&&(c[e]?a=!0:c[e]=1)}),a},getTickAmount:function(){var b=this.options,a=b.tickAmount,d=b.tickPixelInterval;!c(b.tickInterval)&&this.len<d&&!this.isRadial&&!this.isLog&&b.startOnTick&&b.endOnTick&&(a=2),!a&&this.alignToOthers()&&(a=_(this.len/d)+1),a<4&&(this.finalTickAmt=a,a=5),this.tickAmount=a},adjustTickAmount:function(){var b,h,i=this.tickInterval,a=this.tickPositions,d=this.tickAmount,e=this.finalTickAmt,f=a&&a.length;if(f<d){for(;a.length<d;)a.push(S(a[a.length-1]+i));this.transA*=(f-1)/(d-1),this.max=a[a.length-1]}else f>d&&(this.tickInterval*=2,this.setTickPositions());if(c(e)){for(b=h=a.length;b--;)(3===e&&b%2===1||e<=2&&b>0&&b<h-1)&&a.splice(b,1);this.finalTickAmt=g}},setScale:function(){var d,c,a=this;a.oldMin=a.min,a.oldMax=a.max,a.oldAxisLength=a.len,a.setAxisSize(),c=a.len!==a.oldAxisLength,b(a.series,function(a){(a.isDirtyData||a.isDirty||a.xAxis.isDirty)&&(d=!0)}),c||d||a.isLinked||a.forceRedraw||a.userMin!==a.oldUserMin||a.userMax!==a.oldUserMax||a.alignToOthers()?(a.resetStacks&&a.resetStacks(),a.forceRedraw=!1,a.getSeriesExtremes(),a.setTickInterval(),a.oldUserMin=a.userMin,a.oldUserMax=a.userMax,a.isDirty||(a.isDirty=c||a.min!==a.oldMin||a.max!==a.oldMax)):a.cleanStacks&&a.cleanStacks()},setExtremes:function(g,h,f,i,d){var c=this,j=c.chart;f=a(f,!0),b(c.series,function(a){delete a.kdTree}),d=e(d,{min:g,max:h}),o(c,"setExtremes",d,function(){c.userMin=g,c.userMax=h,c.eventArgs=d,f&&j.redraw(i)})},zoom:function(b,e){var f=this.dataMin,h=this.dataMax,i=this.options,k=j(f,a(i.min,f)),l=d(h,a(i.max,h));return this.allowZoomOutside||(c(f)&&b<=k&&(b=k),c(h)&&e>=l&&(e=l)),this.displayBtn=b!==g||e!==g,this.setExtremes(b,e,!1,g,{trigger:"zoom"}),!0},setAxisSize:function(){var b=this.chart,c=this.options,k=c.offsetLeft||0,l=c.offsetRight||0,j=this.horiz,h=a(c.width,b.plotWidth-k+l),e=a(c.height,b.plotHeight),f=a(c.top,b.plotTop),g=a(c.left,b.plotLeft+k),i=/%$/;i.test(e)&&(e=Math.round(parseFloat(e)/100*b.plotHeight)),i.test(f)&&(f=Math.round(parseFloat(f)/100*b.plotHeight+b.plotTop)),this.left=g,this.top=f,this.width=h,this.height=e,this.bottom=b.chartHeight-e-f,this.right=b.chartWidth-h-g,this.len=d(j?h:e,0),this.pos=j?g:f},getExtremes:function(){var a=this,b=a.isLog;return{min:b?S(ad(a.min)):a.min,max:b?S(ad(a.max)):a.max,dataMin:a.dataMin,dataMax:a.dataMax,userMin:a.userMin,userMax:a.userMax}},getThreshold:function(a){var b=this,e=b.isLog,d=e?ad(b.min):b.min,c=e?ad(b.max):b.max;return null===a?a=c<0?c:d:d>a?a=d:c<a&&(a=c),b.translate(a,0,1,0,1)},autoLabelAlign:function(c){var d,b=(a(c,0)-90*this.side+720)%360;return d=b>15&&b<165?"right":b>195&&b<345?"left":"center"},unsquish:function(){var j,h,e,q=this.chart,l=this.ticks,d=this.options.labels,p=this.horiz,g=this.tickInterval,i=g,m=this.len/(((this.categories?1:0)+this.max-this.min)/g),f=d.rotation,k=q.renderer.fontMetrics(d.style.fontSize,l[0]&&l[0].label),n=Number.MAX_VALUE,o=function(b){var a=b/(m||1);return a=a>1?_(a):1,a*g};return p?(e=!d.staggerLines&&!d.step&&(c(f)?[f]:m<a(d.autoRotationLimit,80)&&d.autoRotation),e&&b(e,function(a){var b;(a===f||a&&a>=-90&&a<=90)&&(h=o(u(k.h/I(P*a))),b=h+u(a/360),b<n&&(n=b,j=a,i=h))})):d.step||(i=o(k.h)),this.autoRotation=e,this.labelRotation=a(j,f),i},renderUnsquish:function(){var i,g,n,r,a=this.chart,u=a.renderer,e=this.tickPositions,j=this.ticks,c=this.options.labels,o=this.horiz,s=a.margin,w=this.categories?e.length:e.length-1,p=this.slotWidth=o&&(c.step||0)<2&&!c.rotation&&(this.staggerLines||1)*a.plotWidth/w||!o&&(s[3]&&s[3]-a.spacing[3]||.33*a.chartWidth),t=d(1,f(p-2*(c.padding||5))),h={},m=u.fontMetrics(c.style.fontSize,j[0]&&j[0].label),v=c.style.textOverflow,l=0;if(ao(c.rotation)||(h.rotation=c.rotation||0),this.autoRotation)b(e,function(a){a=j[a],a&&a.labelLength>l&&(l=a.labelLength)}),l>t&&l>m.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(p&&(i={width:t+q},!v))for(i.textOverflow="clip",n=e.length;!o&&n--;)r=e[n],g=j[r].label,g&&("ellipsis"===g.styles.textOverflow&&g.css({textOverflow:"clip"}),(g.getBBox().height>this.len/e.length-(m.h-m.f)||j[r].labelLength>p)&&(g.specCss={textOverflow:"ellipsis"}));h.rotation&&(i={width:(l>.5*a.chartHeight?.33*a.chartHeight:a.chartHeight)+q},v||(i.textOverflow="ellipsis")),this.labelAlign=c.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(h.align=this.labelAlign),b(e,function(c){var b=j[c],a=b&&b.label;a&&(a.attr(h),i&&a.css(k(i,a.specCss)),delete a.specCss,b.rotation=h.rotation)}),this.tickRotCorr=u.rotCorr(m.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||c(this.min)&&c(this.max)&&!!this.tickPositions},getOffset:function(){var u,t,r,q,E,o,B,e=this,m=e.chart,l=m.renderer,h=e.options,y=e.tickPositions,i=e.ticks,s=e.horiz,g=e.side,F=m.inverted?[1,0,3,2][g]:g,x=0,w=0,f=h.title,k=h.labels,j=0,A=e.opposite,n=m.axisOffset,D=m.clipOffset,p=[-1,1,1,-1][g],v=e.axisParent;if(u=e.hasData(),e.showAxis=t=u||a(h.showEmpty,!0),e.staggerLines=e.horiz&&k.staggerLines,e.axisGroup||(e.gridGroup=l.g("grid").attr({zIndex:h.gridZIndex||1}).add(v),e.axisGroup=l.g("axis").attr({zIndex:h.zIndex||2}).add(v),e.labelGroup=l.g("axis-labels").attr({zIndex:k.zIndex||7}).addClass(z+e.coll.toLowerCase()+"-labels").add(v)),u||e.isLinked)b(y,function(a){i[a]?i[a].addLabel():i[a]=new aG(e,a)}),e.renderUnsquish(),k.reserveSpace===!1||0!==g&&2!==g&&{1:"left",3:"right"}[g]!==e.labelAlign&&"center"!==e.labelAlign||b(y,function(a){j=d(i[a].getLabelSize(),j)}),e.staggerLines&&(j*=e.staggerLines,e.labelOffset=j*(e.opposite?-1:1));else for(o in i)i[o].destroy(),delete i[o];f&&f.text&&f.enabled!==!1&&(e.axisTitle||(e.axisTitle=l.text(f.text,0,0,f.useHTML).attr({zIndex:7,rotation:f.rotation||0,align:f.textAlign||{low:A?"right":"left",middle:"center",high:A?"left":"right"}[f.align]}).addClass(z+this.coll.toLowerCase()+"-title").css(f.style).add(e.axisGroup),e.axisTitle.isNew=!0),t&&(x=e.axisTitle.getBBox()[s?"height":"width"],r=f.offset,w=c(r)?0:a(f.margin,s?5:10)),e.axisTitle[t?"show":"hide"](!0)),e.offset=p*a(h.offset,n[g]),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},B=2===g?e.tickRotCorr.y:0,q=Math.abs(j)+w+(j&&p*(s?a(k.y,e.tickRotCorr.y+8):k.x)-B),e.axisTitleMargin=a(r,q),n[g]=d(n[g],e.axisTitleMargin+x+p*e.offset,q),E=h.offset?0:2*C(h.lineWidth/2),D[F]=d(D[F],E)},getLinePath:function(d){var a=this.chart,c=this.opposite,e=this.offset,b=this.horiz,f=this.left+(c?this.width:0)+e,g=a.chartHeight-this.bottom-(c?this.height:0)+e;return c&&(d*=-1),a.renderer.crispLine([D,b?this.left:f,b?g:this.top,v,b?a.chartWidth-this.right:f,b?g:a.chartHeight-this.bottom],d)},getTitlePosition:function(){var a=this.horiz,g=this.left,f=this.top,d=this.len,b=this.options.title,c=a?g:f,e=this.opposite,h=this.offset,i=b.x||0,j=b.y||0,n=l(b.style.fontSize||12),k={low:c+(a?0:d),middle:c+d/2,high:c+(a?d:0)}[b.align],m=(a?f+this.height:g)+(a?1:-1)*(e?-1:1)*this.axisTitleMargin+(2===this.side?n:0);return{x:a?k+i:m+(e?this.width:0)+h+i,y:a?m+j-(e?this.height:0)+h:k+j}},render:function(){var q,o,m,a=this,l=a.chart,v=l.renderer,j=a.options,u=a.isLog,r=a.isLinked,k=a.tickPositions,n=a.axisTitle,d=a.ticks,f=a.minorTicks,e=a.alternateBands,s=j.stackLabels,t=j.alternateGridColor,i=a.tickmarkOffset,p=j.lineWidth,z=l.hasRendered,w=z&&c(a.oldMin)&&!isNaN(a.oldMin),x=a.showAxis,y=v.globalAnimation;a.labelEdge.length=0,a.overlap=!1,b([d,f,e],function(a){var b;for(b in a)a[b].isActive=!1}),(a.hasData()||r)&&(a.minorTickInterval&&!a.categories&&b(a.getMinorTickPositions(),function(b){f[b]||(f[b]=new aG(a,b,"minor")),w&&f[b].isNew&&f[b].render(null,!0),f[b].render(null,!1,1)}),k.length&&(b(k,function(b,c){(!r||b>=a.min&&b<=a.max)&&(d[b]||(d[b]=new aG(a,b)),w&&d[b].isNew&&d[b].render(c,!0,.1),d[b].render(c))}),i&&(0===a.min||a.single)&&(d[-1]||(d[-1]=new aG(a,-1,null,!0)),d[-1].render(-1))),t&&b(k,function(b,c){m=k[c+1]!==g?k[c+1]+i:a.max-i,c%2===0&&b<a.max&&m<=a.max+(l.polar?-i:i)&&(e[b]||(e[b]=new h.PlotLineOrBand(a)),o=b+i,e[b].options={from:u?ad(o):o,to:u?ad(m):m,color:t},e[b].render(),e[b].isActive=!0)}),a._addedPlotLB||(b((j.plotLines||[]).concat(j.plotBands||[]),function(b){a.addPlotBandOrLine(b)}),a._addedPlotLB=!0)),b([d,f,e],function(a){var b,c,d=[],f=y?y.duration||500:0,g=function(){for(c=d.length;c--;)a[d[c]]&&!a[d[c]].isActive&&(a[d[c]].destroy(),delete a[d[c]])};for(b in a)a[b].isActive||(a[b].render(b,!1,0),a[b].isActive=!1,d.push(b));aV(g,a!==e&&l.hasRendered&&f?f:0)}),p&&(q=a.getLinePath(p),a.axisLine?a.axisLine.animate({d:q}):a.axisLine=v.path(q).attr({stroke:j.lineColor,"stroke-width":p,zIndex:7}).add(a.axisGroup),a.axisLine[x?"show":"hide"](!0)),n&&x&&(n[n.isNew?"attr":"animate"](a.getTitlePosition()),n.isNew=!1),s&&s.enabled&&a.renderStackTotals(),a.isDirty=!1},redraw:function(){this.visible&&(this.render(),b(this.plotLinesAndBands,function(a){a.render()})),b(this.series,function(a){a.isDirty=!0})},destroy:function(g){var c,d,a=this,e=a.stacks,f=a.plotLinesAndBands;g||E(a);for(c in e)aF(e[c]),e[c]=null;for(b([a.ticks,a.minorTicks,a.alternateBands],function(a){aF(a)}),d=f.length;d--;)f[d].destroy();b(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(b){a[b]&&(a[b]=a[b].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(j,b){var e,g,h,i,f,d=this.crosshair;if(this.crosshair&&(c(b)||!a(d.snap,!0))!==!1){if(a(d.snap,!0)?c(b)&&(g=this.isXAxis?b.plotX:this.len-b.plotY):g=this.horiz?j.chartX-this.pos:this.len-j.chartY+this.pos,e=this.isRadial?this.getPlotLinePath(this.isXAxis?b.x:a(b.stackY,b.y))||null:this.getPlotLinePath(null,null,null,null,g)||null,null===e)return void this.hideCrosshair();i=this.categories&&!this.isRadial,f=a(d.width,i?this.transA:1),this.cross?this.cross.attr({d:e,visibility:"visible","stroke-width":f}):(h={"stroke-width":f,stroke:d.color||(i?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:a(d.zIndex,2)},d.dashStyle&&(h.dashstyle=d.dashStyle),this.cross=this.chart.renderer.path(e).attr(h).add())}else this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},e(Q.prototype,bD),Q.prototype.getTimeTicks=function(m,l,s,r){var k,h,j=[],o={},q=x.global.useUTC,d=new X(l-aW(l)),f=m.unitRange,g=m.count,i,p,t,u,v;if(c(l)){d[bI](f>=n.second?0:g*C(d.getMilliseconds()/g)),f>=n.second&&d[bL](f>=n.minute?0:g*C(d.getSeconds()/g)),f>=n.minute&&d[bH](f>=n.hour?0:g*C(d[bh]()/g)),f>=n.hour&&d[bF](f>=n.day?0:g*C(d[bl]()/g)),f>=n.day&&d[bp](f>=n.month?1:g*C(d[aT]()/g)),f>=n.month&&(d[bo](f>=n.year?0:g*C(d[aL]()/g)),h=d[aP]()),f>=n.year&&(h-=h%g,d[bn](h)),f===n.week&&d[bp](d[aT]()-d[bs]()+a(r,1)),k=1,(bk||aO)&&(d=d.getTime(),d=new X(d+aW(d))),h=d[aP]();for(i=d.getTime(),p=d[aL](),t=d[aT](),u=!q||!!aO,v=(n.day+(q?aW(d):60*d.getTimezoneOffset()*1e3))%n.day;i<s;)j.push(i),f===n.year?i=a$(h+k*g,0):f===n.month?i=a$(h,p+k*g):!u||f!==n.day&&f!==n.week?i+=f*g:i=a$(h,p,t+k*g*(f===n.day?1:7)),k++;j.push(i),b(av(j,function(a){return f<=n.hour&&a%n.day===v}),function(a){o[a]="day"})}return j.info=e(m,{higherRanks:o,totalRange:f*g}),j},Q.prototype.normalizeTimeTickInterval=function(g,i){var h,c,e=i||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],b=e[e.length-1],a=n[b[0]],f=b[1],j;for(c=0;c<e.length;c++)if(b=e[c],a=n[b[0]],f=b[1],e[c+1])if(j=(a*f[f.length-1]+n[e[c+1][0]])/2,g<=j)break;return a===n.year&&g<5*a&&(f=[1,2,5]),h=bu(g/a,f,"year"===b[0]?d(bt(g/a),1):1),{unitRange:a,count:h,unitName:b[0]}},Q.prototype.getLogTickPositions=function(b,i,h,d){var c=this,r=c.options,q=c.len,j=[],n,k,l,p,m,e,o,v,t,u,s,w,x,y;if(d||(c._minorAutoInterval=null),b>=.5)b=f(b),j=c.getLinearTickPositions(b,i,h);else if(b>=.08){v=C(i);for(n=b>.3?[1,2,4]:b>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],k=v;k<h+1&&!o;k++)for(p=n.length,l=0;l<p&&!o;l++)m=au(ad(k)*n[l]),m>i&&(!d||e<=h)&&e!==g&&j.push(e),e>h&&(o=!0),e=m}else t=ad(i),u=ad(h),s=r[d?"minorTickInterval":"tickInterval"],w="auto"===s?null:s,x=r.tickPixelInterval/(d?5:1),y=d?q/c.tickPositions.length:q,b=a(w,c._minorAutoInterval,(u-t)*x/(y||1)),b=bu(b,null,bt(b)),j=af(c.getLinearTickPositions(b,t,u),au),d||(c._minorAutoInterval=b/5);return d||(c.tickInterval=b),j},bG=h.Tooltip=function(){this.init.apply(this,arguments)},bG.prototype={init:function(b,a){var d=a.borderWidth,c=a.style,e=l(c.padding);this.chart=b,this.options=a,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=b.renderer.label("",0,0,a.shape||"callout",null,null,a.useHTML,null,"tooltip").attr({padding:e,fill:a.backgroundColor,"stroke-width":d,r:a.borderRadius,zIndex:8}).css(c).css({padding:0}).add().attr({y:-9999}),O||this.label.shadow(a.shadow),this.shared=a.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(f,d,h,i){var a=this,b=a.now,c=a.options.animation!==!1&&!a.isHidden&&(u(f-b.x)>1||u(d-b.y)>1),j=a.followPointer||a.len>1;e(b,{x:c?(2*b.x+f)/3:f,y:c?(b.y+d)/2:d,anchorX:j?g:c?(2*b.anchorX+h)/3:h,anchorY:j?g:c?(b.anchorY+i)/2:i}),a.label.attr(b),c&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){a&&a.move(f,d,h,i)},32))},hide:function(b){var c=this;clearTimeout(this.hideTimer),b=a(b,this.options.hideDelay,500),this.isHidden||(this.hideTimer=aV(function(){c.label[b?"fadeOut":"hide"](),c.isHidden=!0},b))},getAnchor:function(c,a){var e,l,m,d=this.chart,h=d.inverted,k=d.plotTop,n=d.plotLeft,i=0,j=0;return c=al(c),e=c[0].tooltipPos,this.followPointer&&a&&(a.chartX===g&&(a=d.pointer.normalize(a)),e=[a.chartX-d.plotLeft,a.chartY-k]),e||(b(c,function(a){l=a.series.yAxis,m=a.series.xAxis,i+=a.plotX+(!h&&m?m.left-n:0),j+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!h&&l?l.top-k:0)}),i/=c.length,j/=c.length,e=[h?d.plotWidth-j:i,this.shared&&!h&&c.length>1&&a?a.chartY-k:h?d.plotHeight-i:j]),af(e,f)},getPosition:function(r,q,e){var h,b=this.chart,f=this.distance,c={},g=e.h||0,l=["y",b.chartHeight,q,e.plotY+b.plotTop,b.plotTop,b.plotTop+b.plotHeight],i=["x",b.chartWidth,r,e.plotX+b.plotLeft,b.plotLeft,b.plotLeft+b.plotWidth],n=a(e.ttBelow,b.inverted&&!e.negative||!b.inverted&&e.negative),o=function(b,k,a,e,o,p){var l=a<e-f,m=e+f+a<k,h=e-f-a,i=e+f;if(n&&m)c[b]=i;else if(!n&&l)c[b]=h;else if(l)c[b]=j(p-a,h-g<0?h:h-g);else{if(!m)return!1;c[b]=d(o,i+g+a>k?i:i+g)}},p=function(d,e,b,a){var g;return a<f||a>e-f?g=!1:a<b/2?c[d]=1:a>e-b/2?c[d]=e-b-2:c[d]=a-b/2,g},k=function(a){var b=l;l=i,i=b,h=a},m=function(){o.apply(0,l)!==!1?p.apply(0,i)!==!1||h||(k(!0),m()):h?c.x=c.y=0:(k(!0),m())};return(b.inverted||this.len>1)&&k(),m(),c},defaultFormatter:function(b){var a,c=this.points||al(this);return a=[b.tooltipFooterHeaderFormatter(c[0])],a=a.concat(b.bodyFormatter(c)),a.push(b.tooltipFooterHeaderFormatter(c[0],!0)),a.join("")},refresh:function(c,r){var n,m,g,h,j,k,d=this,e=d.chart,i=d.label,p=d.options,f={},l=[],s=p.formatter||d.defaultFormatter,q=e.hoverPoints,t=d.shared;clearTimeout(this.hideTimer),d.followPointer=al(c)[0].series.tooltipOptions.followPointer,g=d.getAnchor(c,r),n=g[0],m=g[1],!t||c.series&&c.series.noSharedTooltip?f=c.getLabelConfig():(e.hoverPoints=c,q&&b(q,function(a){a.setState()}),b(c,function(a){a.setState(W),l.push(a.getLabelConfig())}),f={x:c[0].category,y:c[0].y},f.points=l,this.len=l.length,c=c[0]),h=s.call(f,d),k=c.series,this.distance=a(k.tooltipOptions.distance,16),h===!1?this.hide():(d.isHidden&&(ax(i),i.attr("opacity",1).show()),i.attr({text:h}),j=p.borderColor||c.color||k.color||"#606060",i.attr({stroke:j}),d.updatePosition({plotX:n,plotY:m,negative:c.negative,ttBelow:c.ttBelow,h:g[2]||0}),this.isHidden=!1),o(e,"tooltipRefresh",{text:h,x:n+e.plotLeft,y:m+e.plotTop,borderColor:j})},updatePosition:function(a){var b=this.chart,c=this.label,d=(this.options.positioner||this.getPosition).call(this,c.width,c.height,a);this.move(f(d.x),f(d.y||0),a.plotX+b.plotLeft,a.plotY+b.plotTop)},getXDateFormat:function(h,k,d){var e,a,f,b=k.dateTimeLabelFormats,c=d&&d.closestPointRange,i="01-01 00:00:00.000",g={millisecond:15,second:12,minute:9,hour:6,day:3},j="millisecond";if(c){f=aB("%m-%d %H:%M:%S.%L",h.x);for(a in n){if(c===n.week&&+aB("%w",h.x)===d.options.startOfWeek&&f.substr(6)===i.substr(6)){a="week";break}if(n[a]>c){a=j;break}if(g[a]&&f.substr(g[a])!==i.substr(g[a]))break;"week"!==a&&(j=a)}a&&(e=b[a])}else e=b.day;return e||b.year},tooltipFooterHeaderFormatter:function(a,h){var i=h?"footer":"header",d=a.series,e=d.tooltipOptions,b=e.xDateFormat,f=d.xAxis,g=f&&"datetime"===f.options.type&&Y(a.key),c=e[i+"Format"];return g&&!b&&(b=this.getXDateFormat(a,e,f)),g&&b&&(c=c.replace("{point.key}","{point.key:"+b+"}")),aE(c,{point:a,series:d})},bodyFormatter:function(a){return af(a,function(a){var b=a.series.tooltipOptions;return(b.pointFormatter||a.point.tooltipFormatter).call(a.point,b.pointFormat)})}},aJ=i&&i.documentElement.ontouchstart!==g,aD=h.Pointer=function(a,b){this.init(a,b)},(aD.prototype={init:function(c,b){var d,e,g=b.chart,i=g.events,j=O?"":g.zoomType,f=c.inverted;this.options=b,this.chart=c,this.zoomX=d=/x/.test(j),this.zoomY=e=/y/.test(j),this.zoomHor=d&&!f||e&&f,this.zoomVert=e&&!f||d&&f,this.hasZoom=d||e,this.runChartClick=i&&!!i.click,this.pinchDown=[],this.lastValidTouch={},h.Tooltip&&b.tooltip.enabled&&(c.tooltip=new bG(c,b.tooltip),this.followTouchMove=a(b.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(a,b){var h,i,c;return a=a||m.event,a.target||(a.target=a.srcElement),c=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a,b||(this.chartPosition=b=bm(this.chart.container)),c.pageX===g?(h=d(a.x,a.clientX-b.left),i=a.y):(h=c.pageX-b.left,i=c.pageY-b.top),e(a,{chartX:f(h),chartY:f(i)})},getCoordinates:function(c){var a={xAxis:[],yAxis:[]};return b(this.chart.axes,function(b){a[b.isXAxis?"xAxis":"yAxis"].push({axis:b,value:b.toValue(c[b.horiz?"chartX":"chartY"])})}),a},runPointActions:function(j){var u,f,q,o,v,s,p,m=this,n=m.chart,k=n.series,d=n.tooltip,h=!!d&&d.shared,l=n.hoverPoint,g=n.hoverSeries,t=[Number.MAX_VALUE,Number.MAX_VALUE],e=[],c=[];if(!h&&!g)for(f=0;f<k.length;f++)!k[f].directTouch&&k[f].options.stickyTracking||(k=[]);if(v=g&&(h?g.noSharedTooltip:g.directTouch),v&&l?c=[l]:(b(k,function(b){o=b.noSharedTooltip&&h,s=!h&&b.directTouch,b.visible&&!o&&!s&&a(b.options.enableMouseTracking,!0)&&(p=b.searchPoint(j,!o&&1===b.kdDimensions),p&&e.push(p))}),b(e,function(a){a&&b(["dist","distX"],function(b,d){"number"==typeof a[b]&&a[b]<t[d]&&(t[d]=a[b],c[d]=a)})})),h)for(f=e.length;f--;)(e[f].clientX!==c[1].clientX||e[f].series.noSharedTooltip)&&e.splice(f,1);c[0]&&(c[0]!==this.prevKDPoint||d&&d.isHidden)?h&&!c[0].series.noSharedTooltip?(e.length&&d&&d.refresh(e,j),b(e,function(a){a.onMouseOver(j,a!==(g&&g.directTouch&&l||c[0]))}),this.prevKDPoint=c[1]):(d&&d.refresh(c[0],j),g&&g.directTouch||c[0].onMouseOver(j),this.prevKDPoint=c[0]):(u=g&&g.tooltipOptions.followPointer,d&&u&&!d.isHidden&&(q=d.getAnchor([{}],j),d.updatePosition({plotX:q[0],plotY:q[1]}))),m._onDocumentMouseMove||(m._onDocumentMouseMove=function(a){A[J]&&A[J].pointer.onDocumentMouseMove(a)},r(i,"mousemove",m._onDocumentMouseMove)),b(h?e:[a(c[1],l)],function(a){var c=a&&a.series;c&&b(["xAxis","yAxis","colorAxis"],function(b){c[b]&&c[b].drawCrosshair(j,a)})})},reset:function(f,l){var g=this,c=g.chart,k=c.hoverSeries,d=c.hoverPoint,h=c.hoverPoints,e=c.tooltip,j=e&&e.shared?h:d;f=f&&e&&j,f&&b(al(j),function(a){void 0===a.plotX&&(f=!1)}),f?(e.refresh(j),d&&(d.setState(d.state,!0),b(c.axes,function(b){a(b.options.crosshair&&b.options.crosshair.snap,!0)?b.drawCrosshair(null,d):b.hideCrosshair()}))):(d&&d.onMouseOut(),h&&b(h,function(a){a.setState()}),k&&k.onMouseOut(),e&&e.hide(l),g._onDocumentMouseMove&&(E(i,"mousemove",g._onDocumentMouseMove),g._onDocumentMouseMove=null),b(c.axes,function(a){a.hideCrosshair()}),g.hoverX=c.hoverPoints=c.hoverPoint=null)},scaleGroups:function(e,d){var a,c=this.chart;b(c.series,function(b){a=e||b.getPlotBox(),b.xAxis&&b.xAxis.zoomEnabled&&(b.group.attr(a),b.markerGroup&&(b.markerGroup.attr(a),b.markerGroup.clip(d?c.clipRect:null)),b.dataLabelsGroup&&b.dataLabelsGroup.attr(a))}),c.clipRect.attr(d||c.clipBox)},dragStart:function(b){var a=this.chart;a.mouseIsDown=b.type,a.cancelClick=!1,a.mouseDownX=this.mouseDownX=b.chartX,a.mouseDownY=this.mouseDownY=b.chartY},drag:function(j){var l,c,b=this.chart,h=b.options.chart,e=j.chartX,f=j.chartY,p=this.zoomHor,o=this.zoomVert,d=b.plotLeft,g=b.plotTop,m=b.plotWidth,n=b.plotHeight,a=this.selectionMarker,k=this.mouseDownX,i=this.mouseDownY,q=h.panKey&&j[h.panKey+"Key"];a&&a.touch||(e<d?e=d:e>d+m&&(e=d+m),f<g?f=g:f>g+n&&(f=g+n),this.hasDragged=Math.sqrt(Math.pow(k-e,2)+Math.pow(i-f,2)),this.hasDragged>10&&(l=b.isInsidePlot(k-d,i-g),b.hasCartesianSeries&&(this.zoomX||this.zoomY)&&l&&!q&&(a||(this.selectionMarker=a=b.renderer.rect(d,g,p?1:m,o?1:n,0).attr({fill:h.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),a&&p&&(c=e-k,a.attr({width:u(c),x:(c>0?0:c)+k})),a&&o&&(c=f-i,a.attr({height:u(c),y:(c>0?0:c)+i})),l&&!a&&h.panning&&b.pan(j,h.panning)))},drop:function(l){var n=this,f=this.chart,g=this.hasPinched,i,k,a,h,m,q,r;this.selectionMarker&&(k={originalEvent:l,xAxis:[],yAxis:[]},a=this.selectionMarker,h=a.attr?a.attr("x"):a.x,m=a.attr?a.attr("y"):a.y,q=a.attr?a.attr("width"):a.width,r=a.attr?a.attr("height"):a.height,(this.hasDragged||g)&&(b(f.axes,function(a){if(a.zoomEnabled&&c(a.min)&&(g||n[{xAxis:"zoomX",yAxis:"zoomY"}[a.coll]])){var b=a.horiz,e="touchend"===l.type?a.minPixelPadding:0,f=a.toValue((b?h:m)+e),o=a.toValue((b?h+q:m+r)-e);k[a.coll].push({axis:a,min:j(f,o),max:d(f,o)}),i=!0}}),i&&o(f,"selection",k,function(a){f.zoom(e(a,g?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),g&&this.scaleGroups()),f&&(p(f.container,{cursor:f._cursor}),f.cancelClick=this.hasDragged>10,f.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a),a.preventDefault&&a.preventDefault(),this.dragStart(a)},onDocumentMouseUp:function(a){A[J]&&A[J].pointer.drop(a)},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition;a=this.normalize(a,c),!c||this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)||this.reset()},onContainerMouseLeave:function(b){var a=A[J];a&&(b.relatedTarget||b.toElement)&&(a.pointer.reset(),a.pointer.chartPosition=null)},onContainerMouseMove:function(a){var b=this.chart;c(J)&&A[J]&&A[J].mouseIsDown||(J=b.index),a=this.normalize(a),a.returnValue=!1,"mousedown"===b.mouseIsDown&&this.drag(a),!this.inClass(a.target,"highcharts-tracker")&&!b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)||b.openMenu||this.runPointActions(a)},inClass:function(a,c){for(var b;a;){if(b=w(a,"class")){if(b.indexOf(c)!==-1)return!0;if(b.indexOf(z+"container")!==-1)return!1}a=a.parentNode}},onTrackerMouseOut:function(c){var a=this.chart.hoverSeries,b=c.relatedTarget||c.toElement;!a||!b||a.options.stickyTracking||this.inClass(b,z+"tooltip")||this.inClass(b,z+"series-"+a.index)||a.onMouseOut()},onContainerClick:function(a){var b=this.chart,c=b.hoverPoint,d=b.plotLeft,f=b.plotTop;a=this.normalize(a),b.cancelClick||(c&&this.inClass(a.target,z+"tracker")?(o(c.series,"click",e(a,{point:c})),b.hoverPoint&&c.firePointEvent("click",a)):(e(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-d,a.chartY-f)&&o(b,"click",a)))},setDOMEvents:function(){var a=this,b=a.chart.container;b.onmousedown=function(b){a.onContainerMouseDown(b)},b.onmousemove=function(b){a.onContainerMouseMove(b)},b.onclick=function(b){a.onContainerClick(b)},r(b,"mouseleave",a.onContainerMouseLeave),1===aQ&&r(i,"mouseup",a.onDocumentMouseUp),aJ&&(b.ontouchstart=function(b){a.onContainerTouchStart(b)},b.ontouchmove=function(b){a.onContainerTouchMove(b)},1===aQ&&r(i,"touchend",a.onDocumentTouchEnd))},destroy:function(){var a;E(this.chart.container,"mouseleave",this.onContainerMouseLeave),aQ||(E(i,"mouseup",this.onDocumentMouseUp),E(i,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(a in this)this[a]=null}},e(h.Pointer.prototype,{pinchTranslate:function(a,b,c,d,e,f){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,a,b,c,d,e,f),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,a,b,c,d,e,f)},pinchTranslateDirection:function(a,n,A,z,y,x,s,w){var f,c,p,o,t,C,l=this.chart,e=a?"x":"y",q=a?"X":"Y",i="chart"+q,v=a?"width":"height",m=l["plot"+(a?"Left":"Top")],d=w||1,r=l.inverted,h=l.bounds[a?"h":"v"],k=1===n.length,j=n[0][i],b=A[0][i],B=!k&&n[1][i],g=!k&&A[1][i],D=function(){!k&&u(j-B)>20&&(d=w||u(b-g)/u(j-B)),p=(m-b)/d+j,f=l["plot"+(a?"Width":"Height")]/d};D(),c=p,c<h.min?(c=h.min,o=!0):c+f>h.max&&(c=h.max-f,o=!0),o?(b-=.8*(b-s[e][0]),k||(g-=.8*(g-s[e][1])),D()):s[e]=[b,g],r||(x[e]=p-m,x[v]=f),C=r?a?"scaleY":"scaleX":"scale"+q,t=r?1/d:d,y[v]=f,y[e]=c,z[C]=d,z["translate"+q]=t*m+(b-t*j)},pinch:function(g){var c=this,h=c.chart,f=c.pinchDown,i=g.touches,k=i.length,l=c.lastValidTouch,m=c.hasZoom,n=c.selectionMarker,o={},q=1===k&&(c.inClass(g.target,z+"tracker")&&h.runTrackerClick||c.runChartClick),p={};k>1&&(c.initiated=!0),m&&c.initiated&&!q&&g.preventDefault(),af(i,function(a){return c.normalize(a)}),"touchstart"===g.type?(b(i,function(a,b){f[b]={chartX:a.chartX,chartY:a.chartY}}),l.x=[f[0].chartX,f[1]&&f[1].chartX],l.y=[f[0].chartY,f[1]&&f[1].chartY],b(h.axes,function(b){if(b.zoomEnabled){var c=h.bounds[b.horiz?"h":"v"],e=b.minPixelPadding,f=b.toPixels(a(b.options.min,b.dataMin)),g=b.toPixels(a(b.options.max,b.dataMax)),i=j(f,g),k=d(f,g);c.min=j(b.pos,i-e),c.max=d(b.pos+b.len,k+e)}}),c.res=!0):f.length&&(n||(c.selectionMarker=n=e({destroy:aj,touch:!0},h.plotBox)),c.pinchTranslate(f,i,o,n,p,l),c.hasPinched=m,c.scaleGroups(o,p),!m&&c.followTouchMove&&1===k?this.runPointActions(c.normalize(g)):c.res&&(c.res=!1,this.reset(!1,0)))},touch:function(a,c){var b=this.chart;J=b.index,1===a.touches.length?(a=this.normalize(a),b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&!b.openMenu?(c&&this.runPointActions(a),this.pinch(a)):c&&this.reset()):2===a.touches.length&&this.pinch(a)},onContainerTouchStart:function(a){this.touch(a,!0)},onContainerTouchMove:function(a){this.touch(a)},onDocumentTouchEnd:function(a){A[J]&&A[J].pointer.drop(a)}}),m.PointerEvent||m.MSPointerEvent)&&(aa={},bd=!!m.PointerEvent,bV=function(){var a,b=[];b.item=function(a){return this[a]};for(a in aa)aa.hasOwnProperty(a)&&b.push({pageX:aa[a].pageX,pageY:aa[a].pageY,target:aa[a].target});return b},bf=function(a,c,d,e){var b;"touch"!==a.pointerType&&a.pointerType!==a.MSPOINTER_TYPE_TOUCH||!A[J]||(e(a),b=A[J].pointer,b[c]({type:d,target:a.currentTarget,preventDefault:aj,touches:bV()}))},e(aD.prototype,{onContainerPointerDown:function(a){bf(a,"onContainerTouchStart","touchstart",function(a){aa[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){bf(a,"onContainerTouchMove","touchmove",function(a){aa[a.pointerId]={pageX:a.pageX,pageY:a.pageY},aa[a.pointerId].target||(aa[a.pointerId].target=a.currentTarget)})},onDocumentPointerUp:function(a){bf(a,"onDocumentTouchEnd","touchend",function(a){delete aa[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,bd?"pointerdown":"MSPointerDown",this.onContainerPointerDown),a(this.chart.container,bd?"pointermove":"MSPointerMove",this.onContainerPointerMove),a(i,bd?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),aH(aD.prototype,"init",function(b,a,c){b.call(this,a,c),this.hasZoom&&p(a.container,{"-ms-touch-action":B,"touch-action":B})}),aH(aD.prototype,"setDOMEvents",function(a){a.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(r)}),aH(aD.prototype,"destroy",function(a){this.batchMSEvents(E),a.call(this)})),aZ=h.Legend=function(a,b){this.init(a,b)},aZ.prototype={init:function(f,c){var d,b=this,e=c.itemStyle,g=c.itemMarginTop||0;this.options=c,c.enabled&&(b.itemStyle=e,b.itemHiddenStyle=k(e,c.itemHiddenStyle),b.itemMarginTop=g,b.padding=d=a(c.padding,8),b.initialItemX=d,b.initialItemY=d-5,b.maxItemWidth=0,b.chart=f,b.itemHeight=0,b.symbolWidth=a(c.symbolWidth,16),b.pages=[],b.render(),r(b.chart,"endResize",function(){b.positionCheckboxes()}))},colorizeItem:function(a,m){var c,d,l=this,o=l.options,i=a.legendItem,n=a.legendLine,f=a.legendSymbol,j=l.itemHiddenStyle.color,k=m?o.itemStyle.color:j,e=m?a.legendColor||a.color||"#CCC":j,b=a.options&&a.options.marker,h={fill:e};if(i&&i.css({fill:k,color:k}),n&&n.attr({stroke:e}),f){if(b&&f.isMarker){h.stroke=e,b=a.convertAttribs(b);for(c in b)d=b[c],d!==g&&(h[c]=d)}f.attr(h)}},positionItem:function(a){var e=this,h=e.options,j=h.symbolPadding,i=!h.rtl,f=a._legendItemPos,d=f[0],g=f[1],b=a.checkbox,c=a.legendGroup;c&&c.element&&c.translate(i?d:e.legendWidth-d-2*j-4,g),b&&(b.x=d,b.y=g)},destroyItem:function(a){var c=a.checkbox;b(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())}),c&&aM(a.checkbox)},destroy:function(){var a=this,b=a.group,c=a.box;c&&(a.box=c.destroy()),b&&(a.group=b.destroy())},positionCheckboxes:function(d){var a,c=this.group.alignAttr,e=this.clipHeight||this.legendHeight,f=this.titleHeight;c&&(a=c.translateY,b(this.allItems,function(h){var b,g=h.checkbox;g&&(b=a+f+g.y+(d||0)+3,p(g,{left:c.translateX+h.checkboxOffset+g.x-20+q,top:b+q,display:b>a-6&&b<a+e-6?"":B}))}))},renderTitle:function(){var a,e=this.options,d=this.padding,b=e.title,c=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,d-3,d-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(b.style).add(this.group)),a=this.title.getBBox(),c=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:c})),this.titleHeight=c},setText:function(a){var b=this.options;a.legendItem.attr({text:b.labelFormat?aE(b.labelFormat,a):b.labelFormatter.call(a)})},renderItem:function(c){var l,q,h,b=this,y=b.chart,n=y.renderer,e=b.options,i="horizontal"===e.layout,x=b.symbolWidth,o=e.symbolPadding,p=b.itemStyle,s=b.itemHiddenStyle,w=b.padding,v=i?a(e.itemDistance,20):0,t=!e.rtl,u=e.width,r=e.itemMarginBottom||0,m=b.itemMarginTop,j=b.initialItemX,g=c.legendItem,z=c.series&&c.series.drawLegendSymbol?c.series:c,A=z.options,B=b.createCheckboxForItem&&A&&A.showCheckbox,C=e.useHTML;g||(c.legendGroup=n.g("legend-item").attr({zIndex:1}).add(b.scrollGroup),c.legendItem=g=n.text("",t?x+o:-o,b.baseline||0,C).css(k(c.visible?p:s)).attr({align:t?"left":"right",zIndex:2}).add(c.legendGroup),b.baseline||(b.fontMetrics=n.fontMetrics(p.fontSize,g),b.baseline=b.fontMetrics.f+3+m,g.attr("y",b.baseline)),z.drawLegendSymbol(b,c),b.setItemEvents&&b.setItemEvents(c,g,C,p,s),B&&b.createCheckboxForItem(c)),b.colorizeItem(c,c.visible),b.setText(c),q=g.getBBox(),h=c.checkboxOffset=e.itemWidth||c.legendItemWidth||x+o+q.width+v+(B?20:0),b.itemHeight=l=f(c.legendItemHeight||q.height),i&&b.itemX-j+h>(u||y.chartWidth-2*w-j-e.x)&&(b.itemX=j,b.itemY+=m+b.lastLineHeight+r,b.lastLineHeight=0),b.maxItemWidth=d(b.maxItemWidth,h),b.lastItemY=m+b.itemY+r,b.lastLineHeight=d(l,b.lastLineHeight),c._legendItemPos=[b.itemX,b.itemY],i?b.itemX+=h:(b.itemY+=m+l+r,b.lastLineHeight=l),b.offsetWidth=u||d((i?b.itemX-j-v:h)+w,b.offsetWidth)},getAllItems:function(){var d=[];return b(this.chart.series,function(b){var e=b.options;a(e.showInLegend,!c(e.linkedTo)&&g,!0)&&(d=d.concat(b.legendItems||("point"===e.legendType?b.data:b)))}),d},adjustMargins:function(g,h){var f=this.chart,e=this.options,i=e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0);this.display&&!e.floating&&b([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(j,b){j.test(i)&&!c(g[b])&&(f[aX[b]]=d(f[aX[b]],f.legend[(b+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][b]*e[b%2?"x":"y"]+a(e.margin,12)+h[b]))})},render:function(){var g,k,h,c,a=this,m=a.chart,j=m.renderer,i=a.group,f=a.box,d=a.options,n=a.padding,l=d.borderWidth,o=d.backgroundColor;a.itemX=a.initialItemX,a.itemY=a.initialItemY,a.offsetWidth=0,a.lastItemY=0,i||(a.group=i=j.g("legend").attr({zIndex:7}).add(),a.contentGroup=j.g().attr({zIndex:1}).add(i),a.scrollGroup=j.g().add(a.contentGroup)),a.renderTitle(),g=a.getAllItems(),bi(g,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)}),d.reversed&&g.reverse(),a.allItems=g,a.display=k=!!g.length,a.lastLineHeight=0,b(g,function(b){a.renderItem(b)}),h=(d.width||a.offsetWidth)+n,c=a.lastItemY+a.lastLineHeight+a.titleHeight,c=a.handleOverflow(c),c+=n,(l||o)&&(f?h>0&&c>0&&(f[f.isNew?"attr":"animate"](f.crisp({width:h,height:c})),f.isNew=!1):(a.box=f=j.rect(0,0,h,c,d.borderRadius,l||0).attr({stroke:d.borderColor,"stroke-width":l||0,fill:o||B}).add(i).shadow(d.shadow),f.isNew=!0),f[k?"show":"hide"]()),a.legendWidth=h,a.legendHeight=c,b(g,function(b){a.positionItem(b)}),k&&i.align(e({width:h,height:c},d),!0,"spacingBox"),m.isResizing||this.positionCheckboxes()},handleOverflow:function(p){var o,n,e=this,r=this.chart,k=r.renderer,i=this.options,w=i.y,y="top"===i.verticalAlign,h=r.spacingBox.height+(y?-w:w)-this.padding,t=i.maxHeight,m=this.clipRect,s=i.navigation,u=a(s.animation,!0),q=s.arrowSize||12,g=this.nav,c=this.pages,l=this.padding,v=this.allItems,x=function(a){m.attr({height:a}),e.contentGroup.div&&(e.contentGroup.div.style.clip="rect("+l+"px,9999px,"+(l+a)+"px,0)")};return"horizontal"===i.layout&&(h/=2),t&&(h=j(h,t)),c.length=0,p>h?(this.clipHeight=o=d(h-20-this.titleHeight-l,0),this.currentPage=a(this.currentPage,1),this.fullHeight=p,b(v,function(d,e){var a=d._legendItemPos[1],g=f(d.legendItem.getBBox().height),b=c.length;(!b||a-c[b-1]>o&&(n||a)!==c[b-1])&&(c.push(n||a),b++),e===v.length-1&&a+g-c[b-1]>o&&c.push(a),a!==n&&(n=a)}),m||(m=e.clipRect=k.clipRect(0,l,9999,0),e.contentGroup.clip(m)),x(o),g||(this.nav=g=k.g().attr({zIndex:1}).add(this.group),this.up=k.symbol("triangle",0,0,q,q).on("click",function(){e.scroll(-1,u)}).add(g),this.pager=k.text("",15,10).css(s.style).add(g),this.down=k.symbol("triangle-down",0,0,q,q).on("click",function(){e.scroll(1,u)}).add(g)),e.scroll(0),p=h):g&&(x(r.chartHeight),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),p},scroll:function(j,d){var c,e=this.pages,b=e.length,a=this.currentPage+j,k=this.clipHeight,f=this.options.navigation,h=f.activeColor,i=f.inactiveColor,l=this.pager,m=this.padding;a>b&&(a=b),a>0&&(d!==g&&aK(d,this.chart),this.nav.attr({translateX:m,translateY:k+this.padding+7+this.titleHeight,visibility:ar}),this.up.attr({fill:1===a?i:h}).css({cursor:1===a?"default":"pointer"}),l.attr({text:a+"/"+b}),this.down.attr({x:18+this.pager.getBBox().width,fill:a===b?i:h}).css({cursor:a===b?"default":"pointer"}),c=-e[a-1]+this.initialItemY,this.scrollGroup.animate({translateY:c}),this.currentPage=a,this.positionCheckboxes(c))}},aN=h.LegendSymbolMixin={drawRectangle:function(a,b){var c=a.options.symbolHeight||a.fontMetrics.f;b.legendSymbol=this.chart.renderer.rect(0,a.baseline-c+1,a.symbolWidth,c,a.options.symbolRadius||0).attr({zIndex:3}).add(b.legendGroup)},drawLineMarker:function(d){var a,h,e,b=this.options,c=b.marker,i=d.symbolWidth,j=this.chart.renderer,k=this.legendGroup,g=d.baseline-f(.3*d.fontMetrics.b);b.lineWidth&&(e={"stroke-width":b.lineWidth},b.dashStyle&&(e.dashstyle=b.dashStyle),this.legendLine=j.path([D,0,g,v,i,g]).attr(e).add(k)),c&&c.enabled!==!1&&(a=c.radius,this.legendSymbol=h=j.symbol(this.symbol,i/2-a,g-a,2*a,2*a,c).add(k),h.isMarker=!0)}},(/Trident\/7\.0/.test(ai)||ay)&&aH(aZ.prototype,"positionItem",function(c,a){var d=this,b=function(){a._legendItemPos&&c.call(d,a)};b(),setTimeout(b)}),aR=h.Chart=function(){this.getArgs.apply(this,arguments)},h.chart=function(a,b,c){return new aR(a,b,c)},aR.prototype={callbacks:[],getArgs:function(){var a=[].slice.call(arguments);(ao(a[0])||a[0].nodeName)&&(this.renderTo=a.shift()),this.init(a[0],a[1])},init:function(d,i){var e,h=d.series,c,f,g,b;if(d.series=null,e=k(x,d),e.series=d.series=h,this.userOptions=d,c=e.chart,this.margin=this.splashArray("margin",c),this.spacing=this.splashArray("spacing",c),f=c.events,this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=e,this.axes=[],this.series=[],this.hasCartesianSeries=c.showAxes,b=this,b.index=A.length,A.push(b),aQ++,c.reflow!==!1&&r(b,"load",function(){b.initReflow()}),f)for(g in f)r(b,g,f[g]);b.xAxis=[],b.yAxis=[],b.animation=!O&&a(c.animation,!0),b.pointCount=b.colorCounter=b.symbolCounter=0,b.firstRender()},initSeries:function(b){var a,e=this,c=e.options.chart,f=b.type||c.type||c.defaultSeriesType,d=s[f];return d||ac(17,!0),a=new d,a.init(this,b),a},isInsidePlot:function(a,b,c){var d=c?b:a,e=c?a:b;return d>=0&&d<=this.plotWidth&&e>=0&&e<=this.plotHeight},redraw:function(t){var g,q,c,a=this,h=a.axes,d=a.series,n=a.pointer,k=a.legend,l=a.isDirtyLegend,m=a.hasCartesianSeries,i=a.isDirtyBox,p=d.length,f=p,r=a.renderer,s=r.isHidden(),j=[];for(aK(t,a),s&&a.cloneRenderTo(),a.layOutTitles();f--;)if(c=d[f],c.options.stacking&&(g=!0,c.isDirty)){q=!0;break}if(q)for(f=p;f--;)c=d[f],c.options.stacking&&(c.isDirty=!0);b(d,function(a){a.isDirty&&"point"===a.options.legendType&&(a.updateTotals&&a.updateTotals(),l=!0)}),l&&k.options.enabled&&(k.render(),a.isDirtyLegend=!1),g&&a.getStacks(),m&&(a.isResizing||(a.maxTicks=null,b(h,function(a){a.setScale()}))),a.getMargins(),m&&(b(h,function(a){a.isDirty&&(i=!0)}),b(h,function(a){var b=a.min+","+a.max;a.extKey!==b&&(a.extKey=b,j.push(function(){o(a,"afterSetExtremes",e(a.eventArgs,a.getExtremes())),delete a.eventArgs})),(i||g)&&a.redraw()})),i&&a.drawChartBox(),b(d,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()}),n&&n.reset(!0),r.draw(),o(a,"redraw"),s&&a.cloneRenderTo(!0),b(j,function(a){a.call()})},get:function(f){var a,c,d,g=this,e=g.axes,b=g.series;for(a=0;a<e.length;a++)if(e[a].options.id===f)return e[a];for(a=0;a<b.length;a++)if(b[a].options.id===f)return b[a];for(a=0;a<b.length;a++)for(d=b[a].points||[],c=0;c<d.length;c++)if(d[c].id===f)return d[c];return null},getAxes:function(){var c,f=this,a=this.options,d=a.xAxis=al(a.xAxis||{}),e=a.yAxis=al(a.yAxis||{});b(d,function(a,b){a.index=b,a.isX=!0}),b(e,function(a,b){a.index=b}),c=d.concat(e),b(c,function(a){new Q(f,a)})},getSelectedPoints:function(){var a=[];return b(this.series,function(b){a=a.concat(av(b.points||[],function(a){return a.selected}))}),a},getSelectedSeries:function(){return av(this.series,function(a){return a.selected})},setTitle:function(g,d,h){var e,f,a=this,c=a.options;e=c.title=k(c.title,g),f=c.subtitle=k(c.subtitle,d),b([["title",g,e],["subtitle",d,f]],function(e){var c=e[0],d=a[c],f=e[1],b=e[2];d&&f&&(a[c]=d=d.destroy()),b&&b.text&&!d&&(a[c]=a.renderer.text(b.text,0,0,b.useHTML).attr({align:b.align,class:z+c,zIndex:b.zIndex||4}).css(b.style).add())}),a.layOutTitles(h)},layOutTitles:function(l){var h,c=0,f=this.title,g=this.subtitle,i=this.options,b=i.title,d=i.subtitle,j=this.renderer,k=this.spacingBox.width-44;f&&(f.css({width:(b.width||k)+q}).align(e({y:j.fontMetrics(b.style.fontSize,f).b-3},b),!1,"spacingBox"),b.floating||b.verticalAlign||(c=f.getBBox().height)),g&&(g.css({width:(d.width||k)+q}).align(e({y:c+(b.margin-13)+j.fontMetrics(d.style.fontSize,f).b},d),!1,"spacingBox"),d.floating||d.verticalAlign||(c=_(c+g.getBBox().height))),h=this.titleOffset!==c,this.titleOffset=c,!this.isDirtyBox&&h&&(this.isDirtyBox=h,this.hasRendered&&a(l,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var b=this,e=b.options.chart,f=e.width,g=e.height,h=b.renderToClone||b.renderTo;c(f)||(b.containerWidth=R(h,"width")),c(g)||(b.containerHeight=R(h,"height")),b.chartWidth=d(0,f||b.containerWidth||600),b.chartHeight=d(0,a(g,b.containerHeight>19?b.containerHeight:400))},cloneRenderTo:function(c){var a=this.renderToClone,b=this.container;c?a&&(this.renderTo.appendChild(b),aM(a),delete this.renderToClone):(b&&b.parentNode===this.renderTo&&this.renderTo.removeChild(b),this.renderToClone=a=this.renderTo.cloneNode(0),p(a,{position:ab,top:"-9999px",display:"block"}),a.style.setProperty&&a.style.setProperty("display","block","important"),i.body.appendChild(a),b&&a.appendChild(b))},getContainer:function(){var f,g,j,d,m,a=this,k=a.options,c=k.chart,b=a.renderTo,n="data-highcharts-chart",o="highcharts-"+bg++;b||(a.renderTo=b=c.renderTo),ao(b)&&(a.renderTo=b=i.getElementById(b)),b||ac(13,!0),d=l(w(b,n)),!isNaN(d)&&A[d]&&A[d].hasRendered&&A[d].destroy(),w(b,n,a.index),b.innerHTML="",c.skipClone||b.offsetWidth||a.cloneRenderTo(),a.getChartSize(),g=a.chartWidth,j=a.chartHeight,a.container=f=N(at,{className:z+"container"+(c.className?" "+c.className:""),id:o},e({position:bx,overflow:ah,width:g+q,height:j+q,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},c.style),a.renderToClone||b),a._cursor=f.style.cursor,m=h[c.renderer]||aI,a.renderer=new m(f,g,j,c.style,c.forExport,k.exporting&&k.exporting.allowHTML),O&&a.renderer.create(a,f,g,j),a.renderer.chartIndex=a.index},getMargins:function(g){var a=this,b=a.spacing,e=a.margin,f=a.titleOffset;a.resetMargins(),f&&!c(e[0])&&(a.plotTop=d(a.plotTop,f+a.options.title.margin+b[0])),a.legend.adjustMargins(e,b),a.extraBottomMargin&&(a.marginBottom+=a.extraBottomMargin),a.extraTopMargin&&(a.plotTop+=a.extraTopMargin),g||this.getAxisMargins()},getAxisMargins:function(){var a=this,d=a.axisOffset=[0,0,0,0],e=a.margin;a.hasCartesianSeries&&b(a.axes,function(a){a.visible&&a.getOffset()}),b(aX,function(f,b){c(e[b])||(a[f]+=d[b])}),a.setChartSize()},reflow:function(d){var a=this,e=a.options.chart,f=a.renderTo,b=e.width||R(f,"width"),c=e.height||R(f,"height"),g=d?d.target:m;a.hasUserSize||a.isPrinting||!b||!c||g!==m&&g!==i||(b===a.containerWidth&&c===a.containerHeight||(clearTimeout(a.reflowTimeout),a.reflowTimeout=aV(function(){a.container&&(a.setSize(b,c,!1),a.hasUserSize=null)},d?100:0)),a.containerWidth=b,a.containerHeight=c)},initReflow:function(){var a=this,b=function(b){a.reflow(b)};r(m,"resize",b),r(a,"destroy",function(){E(m,"resize",b)})},setSize:function(k,l,i){var g,j,e,a=this,h=a.renderer;a.isResizing+=1,aK(i,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,c(k)&&(a.chartWidth=g=d(0,f(k)),a.hasUserSize=!!g),c(l)&&(a.chartHeight=j=d(0,f(l))),e=h.globalAnimation,(e?aC:p)(a.container,{width:g+q,height:j+q},e),a.setChartSize(!0),h.setSize(g,j,i),a.maxTicks=null,b(a.axes,function(a){a.isDirty=!0,a.setScale()}),b(a.series,function(a){a.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(i),a.oldChartHeight=null,o(a,"resize"),e=h.globalAnimation,aV(function(){a&&o(a,"endResize",null,function(){a.isResizing-=1})},e===!1?0:e&&e.duration||500)},setChartSize:function(s){var m,l,k,j,g,h,e,a=this,n=a.inverted,o=a.renderer,p=a.chartWidth,q=a.chartHeight,r=a.options.chart,c=a.spacing,i=a.clipOffset;a.plotLeft=k=f(a.plotLeft),a.plotTop=j=f(a.plotTop),a.plotWidth=g=d(0,f(p-k-a.marginRight)),a.plotHeight=h=d(0,f(q-j-a.marginBottom)),a.plotSizeX=n?h:g,a.plotSizeY=n?g:h,a.plotBorderWidth=r.plotBorderWidth||0,a.spacingBox=o.spacingBox={x:c[3],y:c[0],width:p-c[3]-c[1],height:q-c[0]-c[2]},a.plotBox=o.plotBox={x:k,y:j,width:g,height:h},e=2*C(a.plotBorderWidth/2),m=_(d(e,i[3])/2),l=_(d(e,i[0])/2),a.clipBox={x:m,y:l,width:C(a.plotSizeX-d(e,i[1])/2-m),height:d(0,C(a.plotSizeY-d(e,i[2])/2-l))},s||b(a.axes,function(a){a.setAxisSize(),a.setAxisTranslation()})},resetMargins:function(){var c=this;b(aX,function(d,b){c[d]=a(c.margin[b],c.spacing[b])}),c.axisOffset=[0,0,0,0],c.clipOffset=[0,0,0,0]},drawChartBox:function(){var c,f,a=this,b=a.options.chart,d=a.renderer,w=a.chartWidth,t=a.chartHeight,n=a.chartBackground,s=a.plotBackground,j=a.plotBorder,r=a.plotBGImage,e=b.borderWidth||0,q=b.backgroundColor,p=b.plotBackgroundColor,o=b.plotBackgroundImage,h=b.plotBorderWidth||0,l=a.plotLeft,k=a.plotTop,i=a.plotWidth,g=a.plotHeight,u=a.plotBox,v=a.clipRect,m=a.clipBox;c=e+(b.shadow?8:0),(e||q)&&(n?n.animate(n.crisp({width:w-c,height:t-c})):(f={fill:q||B},e&&(f.stroke=b.borderColor,f["stroke-width"]=e),a.chartBackground=d.rect(c/2,c/2,w-c,t-c,b.borderRadius,e).attr(f).addClass(z+"background").add().shadow(b.shadow))),p&&(s?s.animate(u):a.plotBackground=d.rect(l,k,i,g,0).attr({fill:p}).add().shadow(b.plotShadow)),o&&(r?r.animate(u):a.plotBGImage=d.image(o,l,k,i,g).add()),v?v.animate({width:m.width,height:m.height}):a.clipRect=d.clipRect(m),h&&(j?(j.strokeWidth=-h,j.animate(j.crisp({x:l,y:k,width:i,height:g}))):a.plotBorder=d.rect(l,k,i,g,0,-h).attr({stroke:b.plotBorderColor,"stroke-width":h,fill:B,zIndex:1}).add()),a.isDirtyBox=!1},propFromSeries:function(){var a,e,c,d=this,f=d.options.chart,g=d.options.series;b(["inverted","angular","polar"],function(b){for(a=s[f.type||f.defaultSeriesType],c=d[b]||f[b]||a&&a.prototype[b],e=g&&g.length;!c&&e--;)a=s[g[e].type],a&&a.prototype[b]&&(c=!0);d[b]=c})},linkSeries:function(){var c=this,d=c.series;b(d,function(a){a.linkedSeries.length=0}),b(d,function(d){var b=d.options.linkedTo;ao(b)&&(b=":previous"===b?c.series[d.index-1]:c.get(b),b&&(b.linkedSeries.push(d),d.linkedParent=b,d.visible=a(d.options.visible,b.options.visible,d.visible)))})},renderSeries:function(){b(this.series,function(a){a.translate(),a.render()})},renderLabels:function(){var a=this,c=a.options.labels;c.items&&b(c.items,function(d){var b=e(c.style,d.style),f=l(b.left)+a.plotLeft,g=l(b.top)+a.plotTop+12;delete b.left,delete b.top,a.renderer.text(d.html,f,g).attr({zIndex:2}).css(b).add()})},render:function(){var f,g,c,d,a=this,e=a.axes,i=a.renderer,h=a.options;a.setTitle(),a.legend=new aZ(a,h.legend),a.getStacks&&a.getStacks(),a.getMargins(!0),a.setChartSize(),f=a.plotWidth,g=a.plotHeight=a.plotHeight-21,b(e,function(a){a.setScale()}),a.getAxisMargins(),c=f/a.plotWidth>1.1,d=g/a.plotHeight>1.05,(c||d)&&(a.maxTicks=null,b(e,function(a){(a.horiz&&c||!a.horiz&&d)&&a.setTickInterval(!0)}),a.getMargins()),a.drawChartBox(),a.hasCartesianSeries&&b(e,function(a){a.visible&&a.render()}),a.seriesGroup||(a.seriesGroup=i.g("series-group").attr({zIndex:3}).add()),a.renderSeries(),a.renderLabels(),a.showCredits(h.credits),a.hasRendered=!0},showCredits:function(a){a.enabled&&!this.credits&&(this.credits=this.renderer.text(a.text,0,0).on("click",function(){a.href&&(m.location.href=a.href)}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position))},destroy:function(){var c,a=this,e=a.axes,f=a.series,d=a.container,h=d&&d.parentNode;for(o(a,"destroy"),A[a.index]=g,aQ--,a.renderTo.removeAttribute("data-highcharts-chart"),E(a),c=e.length;c--;)e[c]=e[c].destroy();for(c=f.length;c--;)f[c]=f[c].destroy();b(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(c){var b=a[c];b&&b.destroy&&(a[c]=b.destroy())}),d&&(d.innerHTML="",E(d),h&&aM(d));for(c in a)delete a[c]},isReadyToRender:function(){var a=this;return!(!M&&m==m.top&&"complete"!==i.readyState||O&&!m.canvg)||(O?bE.push(function(){a.firstRender()},a.options.global.canvasToolsURL):i.attachEvent("onreadystatechange",function(){i.detachEvent("onreadystatechange",a.firstRender),"complete"===i.readyState&&a.firstRender()}),!1)},firstRender:function(){var a=this,c=a.options;a.isReadyToRender()&&(a.getContainer(),o(a,"init"),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),b(c.series||[],function(b){a.initSeries(b)}),a.linkSeries(),o(a,"beforeRender"),h.Pointer&&(a.pointer=new aD(a,c)),a.render(),a.renderer.draw(),a.renderer.imgCount||a.onload(),a.cloneRenderTo(!0))},onload:function(){var a=this;b([this.callback].concat(this.callbacks),function(b){b&&void 0!==a.index&&b.apply(a,[a])}),a.renderer.imgCount||o(a,"load")},splashArray:function(c,d){var b=d[c],e=L(b)?b:[b,b,b,b];return[a(d[c+"Top"],e[0]),a(d[c+"Right"],e[1]),a(d[c+"Bottom"],e[2]),a(d[c+"Left"],e[3])]}},bQ=h.CenteredSeriesMixin={getCenter:function(){var g,b,e,d=this.options,h=this.chart,f=2*(d.slicedOffset||0),i=h.plotWidth-2*f,k=h.plotHeight-2*f,l=d.center,c=[a(l[0],"50%"),a(l[1],"50%"),d.size||"100%",d.innerSize||0],m=j(i,k);for(b=0;b<4;++b)e=c[b],g=b<2||2===b&&/%$/.test(e),c[b]=bM(e,[i,k,m,c[2]][b])+(g?f:0);return c[3]>c[2]&&(c[3]=c[2]),c}},aq=function(){},aq.prototype={init:function(a,d,e){var c,b=this;return b.series=a,b.color=a.color,b.applyOptions(d,e),b.pointAttr={},a.options.colorByPoint&&(c=a.options.colors||a.chart.options.colors,b.color=b.color||c[a.colorCounter++],a.colorCounter===c.length&&(a.colorCounter=0)),a.chart.pointCount++,b},applyOptions:function(b,d){var a=this,c=a.series,f=c.options.pointValKey||c.pointValKey;return b=aq.prototype.optionsToObject.call(this,b),e(a,b),a.options=a.options?e(a.options,b):b,f&&(a.y=a[f]),a.isNull=null===a.y,"number"!=typeof a.x&&c&&(a.x=void 0===d?c.autoIncrement():d),a},optionsToObject:function(a){var g,b={},d=this.series,e=d.options.keys,f=e||d.pointArrayMap||["y"],i=f.length,c=0,h=0;if("number"==typeof a||null===a)b[f[0]]=a;else if(aA(a))for(!e&&a.length>i&&(g=typeof a[0],"string"===g?b.name=a[0]:"number"===g&&(b.x=a[0]),c++);h<i;)e&&void 0===a[c]||(b[f[h]]=a[c]),c++,h++;else"object"==typeof a&&(b=a,a.dataLabels&&(d._hasPointLabels=!0),a.marker&&(d._hasPointMarkers=!0));return b},destroy:function(){var d,a=this,e=a.series,b=e.chart,c=b.hoverPoints;b.pointCount--,c&&(a.setState(),$(c,a),c.length||(b.hoverPoints=null)),a===b.hoverPoint&&a.onMouseOut(),(a.graphic||a.dataLabel)&&(E(a),a.destroyElements()),a.legendItem&&b.legend.destroyItem(a);for(d in a)a[d]=null},destroyElements:function(){for(var a,b=this,d=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],c=6;c--;)a=d[c],b[a]&&(b[a]=b[a].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(c){var e=this.series,d=e.tooltipOptions,h=a(d.valueDecimals,""),f=d.valuePrefix||"",g=d.valueSuffix||"";return b(e.pointArrayMap||["y"],function(a){a="{point."+a,(f||g)&&(c=c.replace(a+"}",f+a+"}"+g)),c=c.replace(a+"}",a+":,."+h+"f}")}),aE(c,{point:this,series:this.series})},firePointEvent:function(b,e,c){var a=this,f=this.series,d=f.options;(d.point.events[b]||a.options&&a.options.events&&a.options.events[b])&&this.importEvents(),"click"===b&&d.allowPointSelect&&(c=function(b){a.select&&a.select(null,b.ctrlKey||b.metaKey||b.shiftKey)}),o(this,b,e,c)},visible:!0},t=h.Series=function(){},t.prototype={isCartesian:!0,type:"line",pointClass:aq,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(g,d){var i,f,c=this,h=g.series,j=function(b,c){return a(b.options.index,b._i)-a(c.options.index,c._i)};c.chart=g,c.options=d=c.setOptions(d),c.linkedSeries=[],c.bindAxes(),e(c,{name:d.name,state:K,pointAttr:{},visible:d.visible!==!1,selected:d.selected===!0}),O&&(d.animation=!1),f=d.events;for(i in f)r(c,i,f[i]);(f&&f.click||d.point&&d.point.events&&d.point.events.click||d.allowPointSelect)&&(g.runTrackerClick=!0),c.getColor(),c.getSymbol(),b(c.parallelArrays,function(a){c[a+"Data"]=[]}),c.setData(d.data,!1),c.isCartesian&&(g.hasCartesianSeries=!0),h.push(c),c._i=h.length-1,bi(h,j),this.yAxis&&bi(this.yAxis.series,j),b(h,function(a,b){a.index=b,a.name=a.name||"Series "+(b+1)})},bindAxes:function(){var c,a=this,d=a.options,e=a.chart;b(a.axisTypes||[],function(f){b(e[f],function(b){c=b.options,(d[f]===c.index||d[f]!==g&&d[f]===c.id||d[f]===g&&0===c.index)&&(b.series.push(a),a[f]=b,b.isDirty=!0)}),a[f]||a.optionalAxis===f||ac(18,!0)})},updateParallelArrays:function(c,d){var a=c.series,e=arguments,f="number"==typeof d?function(b){var e="y"===b&&a.toYData?a.toYData(c):c[b];a[b+"Data"][d]=e}:function(b){Array.prototype[d].apply(a[b+"Data"],Array.prototype.slice.call(e,2))};b(a.parallelArrays,f)},autoIncrement:function(){var b,d,e=this.options,c=this.xIncrement,f=e.pointIntervalUnit;return c=a(c,e.pointStart,0),this.pointInterval=d=a(this.pointInterval,e.pointInterval,1),"month"!==f&&"year"!==f||(b=new X(c),b="month"===f?+b[bo](b[aL]()+d):+b[bn](b[aP]()+d),d=b-c),this.xIncrement=c+d,c},setOptions:function(e){var a,b,f=this.chart,j=f.options,g=j.plotOptions,h=f.userOptions||{},d=h.plotOptions||{},i=g[this.type];return this.userOptions=e,a=k(i,g.series,e),this.tooltipOptions=k(x.tooltip,x.plotOptions[this.type].tooltip,h.tooltip,d.series&&d.series.tooltip,d[this.type]&&d[this.type].tooltip,e.tooltip),null===i.marker&&delete a.marker,this.zoneAxis=a.zoneAxis,b=this.zones=(a.zones||[]).slice(),!a.negativeColor&&!a.negativeFillColor||a.zones||b.push({value:a[this.zoneAxis+"Threshold"]||a.threshold||0,color:a.negativeColor,fillColor:a.negativeFillColor}),b.length&&c(b[b.length-1].value)&&b.push({color:this.color,fillColor:this.fillColor}),a},getCyclic:function(a,b,g){var d,e=this.userOptions,f="_"+a+"Index",h=a+"Counter";b||(c(e[f])?d=e[f]:(e[f]=d=this.chart[h]%g.length,this.chart[h]+=1),b=g[d]),this[a]=b},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||H[this.type].color,this.chart.options.colors)},getSymbol:function(){var a=this.options.marker;this.getCyclic("symbol",a.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(a.radius=0)},drawLegendSymbol:aN.drawLineMarker,setData:function(h,q,v,y){var i,d,f,e=this,j=e.points,u=j&&j.length||0,l=e.options,r=e.chart,n=null,k=e.xAxis,x=k&&!!k.categories,t=l.turboThreshold,p=this.xData,m=this.yData,w=e.pointArrayMap,s=w&&w.length,o,z;if(h=h||[],i=h.length,q=a(q,!0),y!==!1&&i&&u===i&&!e.cropped&&!e.hasGroupedData&&e.visible)b(h,function(b,a){j[a].update&&b!==l.data[a]&&j[a].update(b,!1,null,!1)});else{if(e.xIncrement=null,e.colorCounter=0,b(this.parallelArrays,function(a){e[a+"Data"].length=0}),t&&i>t){for(d=0;null===n&&d<i;)n=h[d],d++;if(Y(n)){o=a(l.pointStart,0),z=a(l.pointInterval,1);for(d=0;d<i;d++)p[d]=o,m[d]=h[d],o+=z;e.xIncrement=o}else if(aA(n))if(s)for(d=0;d<i;d++)f=h[d],p[d]=f[0],m[d]=f.slice(1,s+1);else for(d=0;d<i;d++)f=h[d],p[d]=f[0],m[d]=f[1];else ac(12)}else for(d=0;d<i;d++)h[d]!==g&&(f={series:e},e.pointClass.prototype.applyOptions.apply(f,[h[d]]),e.updateParallelArrays(f,d),x&&c(f.name)&&(k.names[f.x]=f.name));for(ao(m[0])&&ac(14,!0),e.data=[],e.options.data=e.userOptions.data=h,d=u;d--;)j[d]&&j[d].destroy&&j[d].destroy();k&&(k.minRange=k.userMinRange),e.isDirty=e.isDirtyData=r.isDirtyBox=!0,v=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),q&&r.redraw(v)},processData:function(t){var f,p,e,j,d,l,h,i,a=this,b=a.xData,m=a.yData,k=b.length,o=0,c=a.xAxis,q=a.options,r=q.cropThreshold,u=a.getExtremesFromAll||q.getExtremesFromAll,n=a.isCartesian,s=c&&c.val2lin,v=c&&c.isLog;if(n&&!a.isDirty&&!c.isDirty&&!a.yAxis.isDirty&&!t)return!1;for(c&&(l=c.getExtremes(),h=l.min,i=l.max),n&&a.sorted&&!u&&(!r||k>r||a.forceCrop)&&(b[k-1]<h||b[0]>i?(b=[],m=[]):(b[0]<h||b[k-1]>i)&&(f=this.cropData(a.xData,a.yData,h,i),b=f.xData,m=f.yData,o=f.start,p=!0)),d=b.length||1;--d;)e=v?s(b[d])-s(b[d-1]):b[d]-b[d-1],e>0&&(j===g||e<j)?j=e:e<0&&a.requireSorting&&ac(15);a.cropped=p,a.cropStart=o,a.processedXData=b,a.processedYData=m,a.closestPointRange=j},cropData:function(e,j,k,l){var b,c,h=e.length,f=0,g=h,i=a(this.cropShoulder,1);for(b=0;b<h;b++)if(e[b]>=k){f=d(0,b-i);break}for(c=b;c<h;c++)if(e[c]>l){g=c+i;break}return{xData:e.slice(f,g),yData:j.slice(f,g),start:f,end:g}},generatePoints:function(){var l,d,i,a,b=this,q=b.options,j=q.data,c=b.data,k=b.processedXData,p=b.processedYData,m=b.pointClass,h=k.length,n=b.cropStart||0,f=b.hasGroupedData,e=[],o;!c&&!f&&(o=[],o.length=j.length,c=b.data=o);for(a=0;a<h;a++)d=n+a,f?e[a]=(new m).init(b,[k[a]].concat(al(p[a]))):(c[d]?i=c[d]:j[d]!==g&&(c[d]=i=(new m).init(b,j[d],k[a])),e[a]=i),e[a].index=d;if(c&&(h!==(l=c.length)||f))for(a=0;a<l;a++)a!==n||f||(a+=h),c[a]&&(c[a].destroyElements(),c[a].plotX=g);b.data=c,b.points=e},getExtremes:function(d){var k,l,i,f,a,b,c,n=this.xAxis,o=this.yAxis,h=this.processedXData,e=[],j=0,m=n.getExtremes(),p=m.min,q=m.max;for(d=d||this.stackedYData||this.processedYData,k=d.length,b=0;b<k;b++)if(f=h[b],a=d[b],l=null!==a&&a!==g&&(!o.isLog||a.length||a>0),i=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(h[b+1]||f)>=p&&(h[b-1]||f)<=q,l&&i)if(c=a.length)for(;c--;)null!==a[c]&&(e[j++]=a[c]);else e[j++]=a;this.dataMin=aU(e),this.dataMax=aw(e)},translate:function(){var m,k,q,C,w,e,r,B,o,s,i,A,E,F,t,D,p,z,x,l,v,b,n,f,h,y;this.processedXData||this.processData(),this.generatePoints(),e=this,r=e.options,B=r.stacking,o=e.xAxis,s=o.categories,i=e.yAxis,A=e.points,E=A.length,F=!!e.modifyValue,t=r.pointPlacement,D="between"===t||Y(t),p=r.threshold,z=r.startFromThreshold?p:0,x=Number.MAX_VALUE;for(m=0;m<E;m++)b=A[m],n=b.x,f=b.y,h=b.low,y=B&&i.stacks[(e.negStacks&&f<(z?0:p)?"-":"")+e.stackKey],i.isLog&&null!==f&&f<=0&&(b.y=f=null,ac(10)),b.plotX=k=j(d(-1e5,o.translate(n,0,0,0,1,t,"flags"===this.type)),1e5),B&&e.visible&&!b.isNull&&y&&y[n]&&(w=e.getStackIndicator(w,n,e.index),l=y[n],v=l.points[w.key],h=v[0],f=v[1],h===z&&(h=a(p,i.min)),i.isLog&&h<=0&&(h=null),b.total=b.stackTotal=l.total,b.percentage=l.total&&b.y/l.total*100,b.stackY=f,l.setOffset(e.pointXOffset||0,e.barW||0)),b.yBottom=c(h)?i.translate(h,0,1,0,1):null,F&&(f=e.modifyValue(f,b)),b.plotY=q="number"==typeof f&&f!==1/0?j(d(-1e5,i.translate(f,0,1,0,1)),1e5):g,b.isInside=q!==g&&q>=0&&q<=i.len&&k>=0&&k<=o.len,b.clientX=D?o.translate(n,0,0,0,1):k,b.negative=b.y<(p||0),b.category=s&&s[b.x]!==g?s[b.x]:b.x,m&&(x=j(x,u(k-C))),C=k;e.closestPointRangePx=x},getValidPoints:function(a){return av(a||this.points,function(a){return!a.isNull})},setClip:function(c){var a=this.chart,g=this.options,h=a.renderer,i=a.inverted,e=this.clipBox,f=e||a.clipBox,b=this.sharedClipKey||["_sharedClip",c&&c.duration,c&&c.easing,f.height,g.xAxis,g.yAxis].join(","),d=a[b],j=a[b+"m"];d||(c&&(f.width=0,a[b+"m"]=j=h.clipRect(-99,i?-a.plotLeft:-a.plotTop,99,i?a.chartWidth:a.chartHeight)),a[b]=d=h.clipRect(f)),c&&(d.count+=1),g.clip!==!1&&(this.group.clip(c||e?d:a.clipRect),this.markerGroup.clip(j),this.sharedClipKey=b),c||(d.count-=1,d.count<=0&&b&&a[b]&&(e||(a[b]=a[b].destroy()),a[b+"m"]&&(a[b+"m"]=a[b+"m"].destroy())))},animate:function(f){var e,d,b=this,c=b.chart,a=b.options.animation;a&&!L(a)&&(a=H[b.type].animation),f?b.setClip(a):(d=this.sharedClipKey,e=c[d],e&&e.animate({width:c.plotSizeX},a),c[d+"m"]&&c[d+"m"].animate({width:c.plotSizeX+99},a),b.animate=null)},afterAnimate:function(){this.setClip(),o(this,"afterAnimate")},drawPoints:function(){var k,n,i,o,b,c,m,p,f,h,q,s,l,d=this,r=d.points,u=d.chart,t=d.options,j=t.marker,v=d.pointAttr[""],w=d.markerGroup,x=d.xAxis,y=a(j.enabled,x.isRadial,d.closestPointRangePx>2*j.radius);if(j.enabled!==!1||d._hasPointMarkers)for(o=r.length;o--;)b=r[o],n=C(b.plotX),i=b.plotY,f=b.graphic,h=b.marker||{},q=!!b.marker,s=y&&h.enabled===g||h.enabled,l=b.isInside,s&&i!==g&&!isNaN(i)&&null!==b.y?(k=b.pointAttr[b.selected?am:K]||v,c=k.r,m=a(h.symbol,d.symbol),p=0===m.indexOf("url"),f?f[l?"show":"hide"](!0).attr(k).animate(e({x:n-c,y:i-c},f.symbolName?{width:2*c,height:2*c}:{})):l&&(c>0||p)&&(b.graphic=f=u.renderer.symbol(m,n-c,i-c,2*c,2*c,q?h:j).attr(k).add(w))):f&&(b.graphic=f.destroy())},convertAttribs:function(c,d,e,f){var b,g,h=this.pointAttrToOptions,i={};c=c||{},d=d||{},e=e||{},f=f||{};for(b in h)g=h[b],i[b]=a(c[g],d[b],e[b],f[b]);return i},getAttribs:function(){var m,n,r,p,g,j,o,u,h=this,l=h.options,d=H[h.type].marker?l.marker:l,k=d.states,f=k[W],s=h.color,x=h.options.negativeColor,B={stroke:s,fill:s},v=h.points||[],i=[],w=h.pointAttrToOptions,q=h.hasPointSpecificOptions,A=d.lineColor,z=d.fillColor,y=l.turboThreshold,t=h.zones,C=h.zoneAxis||"y";if(l.marker?(f.radius=f.radius||d.radius+f.radiusPlus,f.lineWidth=f.lineWidth||d.lineWidth+f.lineWidthPlus):(f.color=f.color||T(f.color||s).brighten(f.brightness).get(),f.negativeColor=f.negativeColor||T(f.negativeColor||x).brighten(f.brightness).get()),i[K]=h.convertAttribs(d,B),b([W,am],function(a){i[a]=h.convertAttribs(k[a],i[K])}),h.pointAttr=i,n=v.length,!y||n<y||q)for(;n--;){if(g=v[n],d=g.options&&g.options.marker||g.options,d&&d.enabled===!1&&(d.radius=0),t.length){for(r=0,p=t[r];g[C]>=p.value;)p=t[++r];g.color=g.fillColor=a(p.color,h.color)}if(q=l.colorByPoint||g.color,g.options)for(u in w)c(d[w[u]])&&(q=!0);q?(d=d||{},j=[],k=d.states||{},m=k[W]=k[W]||{},l.marker&&(!g.negative||m.fillColor||f.fillColor)||(m[h.pointAttrToOptions.fill]=m.color||!g.options.color&&f[g.negative&&x?"negativeColor":"color"]||T(g.color).brighten(m.brightness||f.brightness).get()),o={color:g.color},z||(o.fillColor=g.color),A||(o.lineColor=g.color),d.hasOwnProperty("color")&&!d.color&&delete d.color,j[K]=h.convertAttribs(e(o,d),i[K]),j[W]=h.convertAttribs(k[W],i[W],j[K]),j[am]=h.convertAttribs(k[am],i[am],j[K])):j=i,g.pointAttr=j}},destroy:function(){var h,g,e,c,d,a=this,f=a.chart,j=/AppleWebKit\/533/.test(ai),i=a.data||[];for(o(a,"destroy"),E(a),b(a.axisTypes||[],function(b){d=a[b],d&&($(d.series,a),d.isDirty=d.forceRedraw=!0)}),a.legendItem&&a.chart.legend.destroyItem(a),g=i.length;g--;)e=i[g],e&&e.destroy&&e.destroy();a.points=null,clearTimeout(a.animationTimeout);for(c in a)a[c]instanceof y&&!a[c].survive&&(h=j&&"group"===c?"hide":"destroy",a[c][h]());f.hoverSeries===a&&(f.hoverSeries=null),$(f.series,a);for(c in a)delete a[c]},getGraphPath:function(a,j,k){var h,e,f=this,i=f.options,d=i.step,g=[];return a=a||f.points,h=a.reversed,h&&a.reverse(),d={right:1,center:2}[d]||d&&3,d&&h&&(d=4-d),!i.connectNulls||j||k||(a=this.getValidPoints(a)),b(a,function(b,n){var l,m=b.plotX,o=b.plotY,h=a[n-1];(b.leftCliff||h&&h.rightCliff)&&!k&&(e=!0),b.isNull&&!c(j)&&n>0?e=!i.connectNulls:b.isNull&&!j?e=!0:(0===n||e?l=[D,b.plotX,b.plotY]:f.getPointSpline?l=f.getPointSpline(a,b,n):d?(l=1===d?[v,h.plotX,o]:2===d?[v,(h.plotX+m)/2,h.plotY,v,(h.plotX+m)/2,o]:[v,m,h.plotY],l.push(v,m,o)):l=[v,m,o],g.push.apply(g,l),e=!1)}),f.graphPath=g,g},drawGraph:function(){var c=this,a=this.options,e=[["graph",a.lineColor||this.color,a.dashStyle]],f=a.lineWidth,h="square"!==a.linecap,d=(this.gappedPath||this.getGraphPath).call(this),g=this.fillGraph&&this.color||B,i=this.zones;b(i,function(b,d){e.push(["zoneGraph"+d,b.color||c.color,b.dashStyle||a.dashStyle])}),b(e,function(e,k){var b,i=e[0],j=c[i];j?j.animate({d}):(f||g)&&d.length&&(b={stroke:e[1],"stroke-width":f,fill:g,zIndex:1},e[2]?b.dashstyle=e[2]:h&&(b["stroke-linecap"]=b["stroke-linejoin"]="round"),c[i]=c.chart.renderer.path(d).attr(b).add(c.group).shadow(k<2&&a.shadow))})},applyZones:function(){var i,k,e,m,t,q,p,y=this,c=this.chart,v=c.renderer,u=this.zones,l=this.clips||[],r=this.graph,s=this.area,n=d(c.chartWidth,c.chartHeight),h=this[(this.zoneAxis||"y")+"Axis"],w=h.reversed,x=c.inverted,o=h.horiz,z=!1;u.length&&(r||s)&&h.min!==g&&(r&&r.hide(),s&&s.hide(),m=h.getExtremes(),b(u,function(g,b){i=w?o?c.plotWidth:0:o?0:h.toPixels(m.min),i=j(d(a(k,i),0),n),k=j(d(f(h.toPixels(a(g.value,m.max),!0)),0),n),z&&(i=k=h.toPixels(m.max)),t=Math.abs(i-k),q=j(i,k),p=d(i,k),h.isXAxis?(e={x:x?p:q,y:0,width:t,height:n},o||(e.x=c.plotHeight-e.x)):(e={x:0,y:x?p:q,width:n,height:t},o&&(e.y=c.plotWidth-e.y)),c.inverted&&v.isVML&&(e=h.isXAxis?{x:0,y:w?q:p,height:e.width,width:c.chartWidth}:{x:e.y-c.plotLeft-c.spacingBox.x,y:0,width:e.height,height:c.chartHeight}),l[b]?l[b].animate(e):(l[b]=v.clipRect(e),r&&y["zoneGraph"+b].clip(l[b]),s&&y["zoneArea"+b].clip(l[b])),z=g.value>m.max}),this.clips=l)},invertGroups:function(){function c(){var c={width:a.yAxis.len,height:a.xAxis.len};b(["group","markerGroup"],function(b){a[b]&&a[b].attr(c).invert()})}var a=this,d=a.chart;a.xAxis&&(r(d,"resize",c),r(a,"destroy",function(){E(d,"resize",c)}),c(),a.invertGroups=c)},plotGroup:function(b,d,e,f,g){var a=this[b],c=!a;return c&&(this[b]=a=this.chart.renderer.g(d).attr({zIndex:f||.1}).add(g),a.addClass("highcharts-series-"+this.index)),a.attr({visibility:e})[c?"attr":"animate"](this.getPlotBox()),a},getPlotBox:function(){var b=this.chart,c=this.xAxis,a=this.yAxis;return b.inverted&&(c=a,a=this.xAxis),{translateX:c?c.left:b.plotLeft,translateY:a?a.top:b.plotTop,scaleX:1,scaleY:1}},render:function(){var e,c=this,d=c.chart,f=c.options,h=f.animation,g=h&&!!c.animate&&d.renderer.isSVG&&a(h.duration,500)||0,i=c.visible?"inherit":"hidden",j=f.zIndex,k=c.hasRendered,l=d.seriesGroup;e=c.plotGroup("group","series",i,j,l),c.markerGroup=c.plotGroup("markerGroup","markers",i,j,l),g&&c.animate(!0),c.getAttribs(),e.inverted=!!c.isCartesian&&d.inverted,c.drawGraph&&(c.drawGraph(),c.applyZones()),b(c.points,function(a){a.redraw&&a.redraw()}),c.drawDataLabels&&c.drawDataLabels(),c.visible&&c.drawPoints(),c.drawTracker&&c.options.enableMouseTracking!==!1&&c.drawTracker(),d.inverted&&c.invertGroups(),f.clip===!1||c.sharedClipKey||k||e.clip(d.clipRect),g&&c.animate(),k||(c.animationTimeout=aV(function(){c.afterAnimate()},g)),c.isDirty=c.isDirtyData=!1,c.hasRendered=!0},redraw:function(){var b=this,c=b.chart,e=b.isDirtyData,h=b.isDirty,d=b.group,f=b.xAxis,g=b.yAxis;d&&(c.inverted&&d.attr({width:c.plotWidth,height:c.plotHeight}),d.animate({translateX:a(f&&f.left,c.plotLeft),translateY:a(g&&g.top,c.plotTop)})),b.translate(),b.render(),e&&o(b,"updatedData"),(h||e)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(a,f){var b=this,c=b.xAxis,d=b.yAxis,e=b.chart.inverted;return this.searchKDTree({clientX:e?c.len-a.chartY+c.pos:a.chartX-c.pos,plotY:e?d.len-a.chartX+d.pos:a.chartY-d.pos},f)},buildKDTree:function(){function b(c,e,f){var g,d,h=c&&c.length;if(h)return g=a.kdAxisArray[e%f],c.sort(function(a,b){return a[g]-b[g]}),d=Math.floor(h/2),{point:c[d],left:b(c.slice(0,d),e+1,f),right:b(c.slice(d+1),e+1,f)}}function d(){a.kdTree=b(a.getValidPoints(),c,c)}var a=this,c=a.kdDimensions;delete a.kdTree,aV(d,a.options.kdNow?0:1)},searchKDTree:function(h,i){function f(e,a){var f=c(e[d])&&c(a[d])?Math.pow(e[d]-a[d],2):null,h=c(e[b])&&c(a[b])?Math.pow(e[b]-a[b],2):null,g=(f||0)+(h||0);a.dist=c(g)?Math.sqrt(g):Number.MAX_VALUE,a.distX=c(f)?Math.sqrt(f):Number.MAX_VALUE}function e(h,c,j,n){var d,o,k,l,m,i=c.point,p=g.kdAxisArray[j%n],b=i;return f(h,i),d=h[p]-i[p],o=d<0?"left":"right",k=d<0?"right":"left",c[o]&&(l=e(h,c[o],j+1,n),b=l[a]<b[a]?l:i),c[k]&&Math.sqrt(d*d)<b[a]&&(m=e(h,c[k],j+1,n),b=m[a]<b[a]?m:b),b}var g=this,d=this.kdAxisArray[0],b=this.kdAxisArray[1],a=i?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return e(h,this.kdTree,this.kdDimensions,this.kdDimensions)}},bU.prototype={destroy:function(){aF(this,this.axis)},render:function(d){var a=this.options,b=a.format,c=b?aE(b,this):a.formatter.call(this);this.label?this.label.attr({text:c,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(c,null,null,a.useHTML).css(a.style).attr({align:this.textAlign,rotation:a.rotation,visibility:ah}).add(d)},setOffset:function(p,h){var i,n=this,b=n.axis,e=b.chart,f=e.inverted,l=b.reversed,j=this.isNegative&&!l||!this.isNegative&&l,a=b.translate(b.usePercentage?100:this.total,0,0,0,1),m=b.translate(0),c=u(a-m),k=e.xAxis[0].translate(this.x)+p,g=e.plotHeight,o={x:f?j?a:a-c:k,y:f?g-k-h:j?g-a-c:g-a,width:f?c:h,height:f?h:c},d=this.label;d&&(d.align(this.alignOptions,null,o),i=d.alignAttr,d[this.options.crop===!1||e.isInsidePlot(i.x,i.y)?"show":"hide"](!0))}},aR.prototype.getStacks=function(){var c=this;b(c.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)}),b(c.series,function(b){!b.options.stacking||b.visible!==!0&&c.options.chart.ignoreHiddenSeries!==!1||(b.stackKey=b.type+a(b.options.stack,""))})},Q.prototype.buildStacks=function(){var e,b,d=this.series,f=a(this.options.reversedStacks,!0),c=d.length;if(!this.isXAxis){for(this.usePercentage=!1,b=c;b--;)d[f?b:c-b-1].setStackedPoints();for(b=c;b--;)e=d[f?b:c-b-1],e.setStackCliffs&&e.setStackCliffs();if(this.usePercentage)for(b=0;b<c;b++)d[b].setPercentStacks()}},Q.prototype.renderStackTotals=function(){var e,d,f,b=this,c=b.chart,h=c.renderer,g=b.stacks,a=b.stackTotalGroup;a||(b.stackTotalGroup=a=h.g("stack-labels").attr({visibility:ar,zIndex:6}).add()),a.translate(c.plotLeft,c.plotTop);for(e in g){d=g[e];for(f in d)d[f].render(a)}},Q.prototype.resetStacks=function(){var a,c,b=this.stacks;if(!this.isXAxis)for(a in b)for(c in b[a])b[a][c].touched<this.stacksTouched?(b[a][c].destroy(),delete b[a][c]):(b[a][c].total=null,b[a][c].cum=0)},Q.prototype.cleanStacks=function(){var a,b,c;if(!this.isXAxis){this.oldStacks&&(a=this.stacks=this.oldStacks);for(b in a)for(c in a[b])a[b][c].cum=a[b][c].total}},t.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var o,n,b,j,f,m,k,c,i,e=this,B=e.processedXData,x=e.processedYData,y=[],A=x.length,l=e.options,s=l.threshold,q=l.startFromThreshold?s:0,z=l.stack,t=l.stacking,p=e.stackKey,v="-"+p,w=e.negStacks,h=e.yAxis,g=h.stacks,r=h.oldStacks;for(h.stacksTouched+=1,k=0;k<A;k++)c=B[k],i=x[k],o=e.getStackIndicator(o,c,e.index),m=o.key,n=w&&i<(q?0:s),f=n?v:p,g[f]||(g[f]={}),g[f][c]||(r[f]&&r[f][c]?(g[f][c]=r[f][c],g[f][c].total=null):g[f][c]=new bU(h,h.options.stackLabels,n,c,z)),b=g[f][c],null!==i&&(b.points[m]=b.points[e.index]=[a(b.cum,q)],b.touched=h.stacksTouched,o.index>0&&e.singleStacks===!1&&(b.points[m][0]=b.points[e.index+","+c+",0"][0])),"percent"===t?(j=n?p:v,w&&g[j]&&g[j][c]?(j=g[j][c],b.total=j.total=d(j.total,b.total)+u(i)||0):b.total=S(b.total+(u(i)||0))):b.total=S(b.total+(i||0)),b.cum=a(b.cum,q)+(i||0),null!==i&&b.points[m].push(b.cum),y[k]=b.cum;"percent"===t&&(h.usePercentage=!0),this.stackedYData=y,h.oldStacks={}}},t.prototype.setPercentStacks=function(){var c,a=this,d=a.stackKey,e=a.yAxis.stacks,f=a.processedXData;b([d,"-"+d],function(j){for(var g,d,b,h,i=f.length;i--;)g=f[i],c=a.getStackIndicator(c,g,a.index),d=e[j]&&e[j][g],b=d&&d.points[c.key],b&&(h=d.total?100/d.total:0,b[0]=S(b[0]*h),b[1]=S(b[1]*h),a.stackedYData[i]=b[1])})},t.prototype.getStackIndicator=function(a,b,d){return c(a)&&a.x===b?a.index++:a={x:b,index:0},a.key=[d,b,a.index].join(","),a},e(aR.prototype,{addSeries:function(c,d,f){var e,b=this;return c&&(d=a(d,!0),o(b,"addSeries",{options:c},function(){e=b.initSeries(c),b.isDirtyLegend=!0,b.linkSeries(),d&&b.redraw(f)})),e},addAxis:function(d,e,f,g){var b=e?"xAxis":"yAxis",c=this.options;new Q(this,k(d,{index:this[b].length,isX:e})),c[b]=al(c[b]||{}),c[b].push(d),a(f,!0)&&this.redraw(g)},showLoading:function(g){var a=this,d=a.options,b=a.loadingDiv,c=d.loading,f=function(){b&&p(b,{left:a.plotLeft+q,top:a.plotTop+q,width:a.plotWidth+q,height:a.plotHeight+q})};b||(a.loadingDiv=b=N(at,{className:z+"loading"},e(c.style,{zIndex:10,display:B}),a.container),a.loadingSpan=N("span",null,c.labelStyle,b),r(a,"redraw",f)),a.loadingSpan.innerHTML=g||d.lang.loading,a.loadingShown||(p(b,{opacity:0,display:""}),aC(b,{opacity:c.style.opacity},{duration:c.showDuration||0}),a.loadingShown=!0),f()},hideLoading:function(){var b=this.options,a=this.loadingDiv;a&&aC(a,{opacity:0},{duration:b.loading.hideDuration||100,complete:function(){p(a,{display:B})}}),this.loadingShown=!1}}),e(aq.prototype,{update:function(c,i,l,m){function j(){b.applyOptions(c),null===b.y&&e&&(b.graphic=e.destroy()),L(c)&&!aA(c)&&(b.redraw=function(){e&&e.element&&c&&c.marker&&c.marker.symbol&&(b.graphic=e.destroy()),c&&c.dataLabels&&b.dataLabel&&(b.dataLabel=b.dataLabel.destroy()),b.redraw=null}),f=b.index,d.updateParallelArrays(b,f),k&&b.name&&(k[b.x]=b.name),h.data[f]=L(h.data[f])?b.options:c,d.isDirty=d.isDirtyData=!0,!d.fixedBox&&d.hasCartesianSeries&&(g.isDirtyBox=!0),"point"===h.legendType&&(g.isDirtyLegend=!0),i&&g.redraw(l)}var f,b=this,d=b.series,e=b.graphic,g=d.chart,h=d.options,k=d.xAxis&&d.xAxis.names;i=a(i,!0),m===!1?j():b.firePointEvent("update",{options:c},j)},remove:function(a,b){this.series.removePoint(V(this,this.series.data),a,b)}}),e(t.prototype,{addPoint:function(s,h,l,t){var e,k,d,g,c=this,i=c.options,f=c.data,m=c.graph,n=c.area,o=c.chart,p=c.xAxis&&c.xAxis.names,u=m&&m.shift||0,q=["graph","area"],r=i.data,j=c.xData;if(aK(t,o),l){for(d=c.zones.length;d--;)q.push("zoneGraph"+d,"zoneArea"+d);b(q,function(a){c[a]&&(c[a].shift=u+(i.step?2:1))})}if(n&&(n.isArea=!0),h=a(h,!0),e={series:c},c.pointClass.prototype.applyOptions.apply(e,[s]),g=e.x,d=j.length,c.requireSorting&&g<j[d-1])for(k=!0;d&&j[d-1]>g;)d--;c.updateParallelArrays(e,"splice",d,0,0),c.updateParallelArrays(e,d),p&&e.name&&(p[g]=e.name),r.splice(d,0,s),k&&(c.data.splice(d,0,null),c.processData()),"point"===i.legendType&&c.generatePoints(),l&&(f[0]&&f[0].remove?f[0].remove(!1):(f.shift(),c.updateParallelArrays(e,"shift"),r.shift())),c.isDirty=!0,c.isDirtyData=!0,h&&(c.getAttribs(),o.redraw())},removePoint:function(c,e,j){var b=this,f=b.data,d=f[c],g=b.points,i=b.chart,h=function(){g&&g.length===f.length&&g.splice(c,1),f.splice(c,1),b.options.data.splice(c,1),b.updateParallelArrays(d||{series:b},"splice",c,1),d&&d.destroy(),b.isDirty=!0,b.isDirtyData=!0,e&&i.redraw()};aK(j,i),e=a(e,!0),d?d.firePointEvent("remove",null,h):h()},remove:function(d,e){var c=this,b=c.chart;o(c,"remove",null,function(){c.destroy(),b.isDirtyLegend=b.isDirtyBox=!0,b.linkSeries(),a(d,!0)&&b.redraw(e)})},update:function(c,l){var j,f=this,h=this.chart,m=this.userOptions,i=this.type,n=s[i].prototype,d=["group","markerGroup","dataLabelsGroup"];(c.type&&c.type!==i||void 0!==c.zIndex)&&(d.length=0),b(d,function(a){d[a]=f[a],delete f[a]}),c=k(m,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},c),this.remove(!1);for(j in n)this[j]=g;e(this,s[c.type||i].prototype),b(d,function(a){f[a]=d[a]}),this.init(h,c),h.linkSeries(),a(l,!0)&&h.redraw(!1)}}),e(Q.prototype,{update:function(c,d){var b=this.chart;c=b.options[this.coll][this.options.index]=k(this.userOptions,c),this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=g,this.init(b,e(c,{events:g})),b.isDirtyBox=!0,a(d,!0)&&b.redraw()},remove:function(g){for(var c=this.chart,d=this.coll,e=this.series,f=e.length;f--;)e[f]&&e[f].remove(!1);$(c.axes,this),$(c[d],this),c.options[d].splice(this.options.index,1),b(c[d],function(a,b){a.options.index=b}),this.destroy(),c.isDirtyBox=!0,a(g,!0)&&c.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}}),bT=ae(t),s.line=bT,H.area=k(aS,{softThreshold:!1,threshold:0}),bC=ae(t,{type:"area",singleStacks:!1,getStackPoints:function(){var l,c,k,q=this,i=[],f=[],p=this.xAxis,g=this.yAxis,e=g.stacks[this.stackKey],d={},j=this.points,h=q.index,m=g.series,n=m.length,o=a(g.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(c=0;c<j.length;c++)d[j[c].x]=j[c];for(k in e)null!==e[k].total&&f.push(+k);f.sort(function(a,b){return a-b}),l=af(m,function(){return this.visible}),b(f,function(a,q){var k,m,j=0;if(d[a]&&!d[a].isNull)i.push(d[a]),b([-1,1],function(b){var j=1===b?"rightNull":"leftNull",p=1===b?"rightCliff":"leftCliff",g=0,i=e[f[q+b]];if(i)for(c=h;c>=0&&c<n;)k=i.points[c],k||(c===h?d[a][j]=!0:l[c]&&(m=e[a].points[c],m&&(g-=m[1]-m[0]))),c+=o;d[a][p]=g});else{for(c=h;c>=0&&c<n;){if(k=e[a].points[c]){j=k[1];break}c+=o}j=g.toPixels(j,!0),i.push({isNull:!0,plotX:p.toPixels(a,!0),plotY:j,yBottom:j})}})}return i},getGraphPath:function(c){var r,q,f,b,p,h,m,o,l=t.prototype.getGraphPath,k=this.options,e=k.stacking,i=this.yAxis,g=[],j=[],u=this.index,w=i.stacks[this.stackKey],x=k.threshold,n=i.getThreshold(k.threshold),d=k.connectNulls||"percent"===e,s=function(q,m,o){var a,b,l=c[q],d=e&&w[l.x].points[u],f=l[o+"Null"]||0,k=l[o+"Cliff"]||0,p=!0;k||f?(a=(f?d[0]:d[1])+k,b=d[0]+k,p=!!f):!e&&c[m]&&c[m].isNull&&(a=b=x),void 0!==a&&(j.push({plotX:h,plotY:null===a?n:i.toPixels(a,!0),isNull:p}),g.push({plotX:h,plotY:null===b?n:i.toPixels(b,!0)}))};for(c=c||this.points,e&&(c=this.getStackPoints()),b=0;b<c.length;b++)m=c[b].isNull,h=a(c[b].rectPlotX,c[b].plotX),o=a(c[b].yBottom,n),m&&!d||(d||s(b,b-1,"left"),m&&!e&&d||(j.push(c[b]),g.push({x:b,plotX:h,plotY:o})),d||s(b,b+1,"right"));return q=l.call(this,j,!0,!0),g.reversed=!0,f=l.call(this,g,!0,!0),f.length&&(f[0]=v),p=q.concat(f),r=l.call(this,j,!1,d),this.areaPath=p,r},drawGraph:function(){this.areaPath=[],t.prototype.drawGraph.apply(this);var c=this,e=this.areaPath,d=this.options,g=this.zones,f=[["area",this.color,d.fillColor]];b(g,function(a,b){f.push(["zoneArea"+b,a.color||c.color,a.fillColor||d.fillColor])}),b(f,function(b){var f,g=b[0],h=c[g];h?h.animate({d:e}):(f={fill:b[2]||b[1],zIndex:0},b[2]||(f["fill-opacity"]=a(d.fillOpacity,.75)),c[g]=c.chart.renderer.path(e).attr(f).add(c.group))})},drawLegendSymbol:aN.drawRectangle}),s.area=bC,H.spline=k(aS),bA=ae(t,{type:"spline",getPointSpline:function(t,o,s){var n,e,h,c,r,l=1.5,m=l+1,g=o.plotX,b=o.plotY,f=t[s-1],p=t[s+1],u,k,v,i,q;return f&&!f.isNull&&p&&!p.isNull&&(u=f.plotX,k=f.plotY,v=p.plotX,i=p.plotY,q=0,n=(l*g+u)/m,e=(l*b+k)/m,h=(l*g+v)/m,c=(l*b+i)/m,h!==n&&(q=(c-e)*(h-g)/(h-n)+b-c),e+=q,c+=q,e>k&&e>b?(e=d(k,b),c=2*b-e):e<k&&e<b&&(e=j(k,b),c=2*b-e),c>i&&c>b?(c=d(i,b),e=2*b-c):c<i&&c<b&&(c=j(i,b),e=2*b-c),o.rightContX=h,o.rightContY=c),r=["C",a(f.rightContX,f.plotX),a(f.rightContY,f.plotY),a(n,g),a(e,b),g,b],f.rightContX=f.rightContY=null,r}}),s.spline=bA,H.areaspline=k(H.area),bb=bC.prototype,bX=ae(bA,{type:"areaspline",getStackPoints:bb.getStackPoints,getGraphPath:bb.getGraphPath,setStackCliffs:bb.setStackCliffs,drawGraph:bb.drawGraph,drawLegendSymbol:aN.drawRectangle}),s.areaspline=bX,H.column=k(aS,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),be=ae(t,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){t.prototype.init.apply(this,arguments);var a=this,c=a.chart;c.hasRendered&&b(c.series,function(b){b.type===a.type&&(b.isDirty=!0)})},getColumnMetrics:function(){var h,c=this,e=c.options,d=c.xAxis,o=c.yAxis,m=d.reversed,k={},f=0,l,n,q,i,p,r,s,t;return e.grouping===!1?f=1:b(c.chart.series,function(a){var b,d=a.options,e=a.yAxis;a.type===c.type&&a.visible&&o.len===e.len&&o.pos===e.pos&&(d.stacking?(h=a.stackKey,k[h]===g&&(k[h]=f++),b=k[h]):d.grouping!==!1&&(b=f++),a.columnIndex=b)}),l=j(u(d.transA)*(d.ordinalSlope||e.pointRange||d.closestPointRange||d.tickInterval||1),d.len),n=l*e.groupPadding,q=l-2*n,i=q/f,p=j(e.maxPointWidth||d.len,a(e.pointWidth,i*(1-2*e.pointPadding))),r=(i-p)/2,s=(c.columnIndex||0)+(m?1:0),t=r+(n+s*i-l/2)*(m?-1:1),c.columnMetrics={width:p,offset:t},c.columnMetrics},crispCol:function(b,a,d,c){var k,f,g,h=this.chart,i=this.borderWidth,j=-(i%2?.5:0),e=i%2?.5:1;return h.inverted&&h.renderer.isVML&&(e+=1),k=Math.round(b+d)+j,b=Math.round(b)+j,d=k-b,f=Math.round(a+c)+e,g=u(a)<=.5&&f>.5,a=Math.round(a)+e,c=f-a,g&&(a-=1,c+=1),{x:b,y:a,width:d,height:c}},translate:function(){var c=this,i=c.chart,g=c.options,o=c.borderWidth=a(g.borderWidth,c.closestPointRange*c.xAxis.transA<2?0:1),e=c.yAxis,n=g.threshold,h=c.translatedThreshold=e.getThreshold(n),f=a(g.minPointLength,5),m=c.getColumnMetrics(),l=m.width,k=c.barW=d(l,1+2*o),p=c.pointXOffset=m.offset;i.inverted&&(h-=.5),g.pointPadding&&(k=_(k)),t.prototype.translate.apply(c),b(c.points,function(b){var t,q=j(a(b.yBottom,h),9e4),s=999+u(q),n=j(d(-s,b.plotY),e.len+s),o=b.plotX+p,r=k,m=j(n,q),g=d(n,q)-m;u(g)<f&&f&&(g=f,t=!e.reversed&&!b.negative||e.reversed&&b.negative,m=u(m-h)>f?q-f:h-(t?f:0)),b.barX=o,b.pointWidth=l,b.tooltipPos=i.inverted?[e.len+e.pos-i.plotLeft-n,c.xAxis.len-o-r/2,g]:[o+r/2,n+e.pos-i.plotTop,g],b.shapeType="rect",b.shapeArgs=c.crispCol(o,m,r,g)})},getSymbol:aj,drawLegendSymbol:aN.drawRectangle,drawGraph:aj,drawPoints:function(){var e,f,a=this,h=this.chart,d=a.options,i=h.renderer,j=d.animationLimit||250;b(a.points,function(b){var m,n=b.plotY,l=b.graphic;n===g||isNaN(n)||null===b.y?l&&(b.graphic=l.destroy()):(e=b.shapeArgs,m=c(a.borderWidth)?{"stroke-width":a.borderWidth}:{},f=b.pointAttr[b.selected?am:K]||a.pointAttr[K],l?(ax(l),l.attr(m).attr(f)[h.pointCount<j?"animate":"attr"](k(e))):b.graphic=l=i[b.shapeType](e).attr(m).attr(f).add(b.group||a.group).shadow(d.shadow,null,d.stacking&&!d.borderRadius))})},animate:function(h){var e,c=this,b=this.yAxis,g=c.options,f=this.chart.inverted,a={};M&&(h?(a.scaleY=.001,e=j(b.pos+b.len,d(b.pos,b.toPixels(g.threshold))),f?a.translateX=e-b.len:a.translateY=e,c.group.attr(a)):(a.scaleY=1,a[f?"translateX":"translateY"]=b.pos,c.group.animate(a,c.options.animation),c.animate=null))},remove:function(){var a=this,c=a.chart;c.hasRendered&&b(c.series,function(b){b.type===a.type&&(b.isDirty=!0)}),t.prototype.remove.apply(a,arguments)}}),s.column=be,H.bar=k(H.column),bZ=ae(be,{type:"bar",inverted:!0}),s.bar=bZ,H.scatter=k(aS,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),bw=ae(t,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&t.prototype.drawGraph.call(this)}}),s.scatter=bw,H.pie=k(aS,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),bW=ae(aq,{init:function(){aq.prototype.init.apply(this,arguments);var c,b=this;return b.name=a(b.name,"Slice"),c=function(a){b.slice("select"===a.type)},r(b,"select",c),r(b,"unselect",c),b},setVisible:function(d,f){var c=this,e=c.series,h=e.chart,i=e.options.ignoreHiddenPoint;f=a(f,i),d!==c.visible&&(c.visible=c.options.visible=d=d===g?!c.visible:d,e.options.data[V(c,e.data)]=c.options,b(["graphic","dataLabel","connector","shadowGroup"],function(a){c[a]&&c[a][d?"show":"hide"](!0)}),c.legendItem&&h.legend.colorizeItem(c,d),d||"hover"!==c.state||c.setState(""),i&&(e.isDirty=!0),f&&h.redraw())},slice:function(d,g,h){var e,b=this,f=b.series,i=f.chart;aK(h,i),g=a(g,!0),b.sliced=b.options.sliced=d=c(d)?d:!b.sliced,f.options.data[V(b,f.data)]=b.options,e=d?b.slicedTranslation:{translateX:0,translateY:0},b.graphic.animate(e),b.shadowGroup&&b.shadowGroup.animate(e)},haloPath:function(b){var a=this.shapeArgs,c=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(c.plotLeft+a.x,c.plotTop+a.y,a.r+b,a.r+b,{innerR:this.shapeArgs.r,start:a.start,end:a.end})}}),bq={type:"pie",isCartesian:!1,pointClass:bW,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(d){var a=this,e=a.points,c=a.startAngleRad;d||(b(e,function(b){var d=b.graphic,e=b.shapeArgs;d&&(d.attr({r:b.startR||a.center[3]/2,start:c,end:c}),d.animate({r:e.r,start:e.start,end:e.end},a.options.animation))}),a.animate=null)},updateTotals:function(){var a,b,c=0,d=this.points,e=d.length,f=this.options.ignoreHiddenPoint;for(a=0;a<e;a++)b=d[a],c+=f&&!b.visible?0:b.y;for(this.total=c,a=0;a<e;a++)b=d[a],b.percentage=c>0&&(b.visible||!f)?b.y/c*100:0,b.total=c},generatePoints:function(){t.prototype.generatePoints.call(this),this.updateTotals()},translate:function(b){this.generatePoints();var o,q,c,k,i,n,d,e=this,p=0,l=1e3,h=e.options,r=h.slicedOffset,m=r+h.borderWidth,t=h.startAngle||0,s=e.startAngleRad=U/180*(t-90),w=e.endAngleRad=U/180*(a(h.endAngle,t+360)-90),u=w-s,v=e.points,g=h.dataLabels.distance,x=h.ignoreHiddenPoint,y=v.length;for(b||(e.center=b=e.getCenter()),e.getX=function(a,d){return c=G.asin(j((a-b[1])/(b[2]/2+g),1)),b[0]+(d?-1:1)*(F(c)*(b[2]/2+g))},n=0;n<y;n++)d=v[n],o=s+p*u,x&&!d.visible||(p+=d.percentage/100),q=s+p*u,d.shapeType="arc",d.shapeArgs={x:b[0],y:b[1],r:b[2]/2,innerR:b[3]/2,start:f(o*l)/l,end:f(q*l)/l},c=(q+o)/2,c>1.5*U?c-=2*U:c<-U/2&&(c+=2*U),d.slicedTranslation={translateX:f(F(c)*r),translateY:f(I(c)*r)},k=F(c)*b[2]/2,i=I(c)*b[2]/2,d.tooltipPos=[b[0]+.7*k,b[1]+.7*i],d.half=c<-U/2||c>U/2?1:0,d.angle=c,m=j(m,g/2),d.labelPos=[b[0]+k+F(c)*g,b[1]+i+I(c)*g,b[0]+k+F(c)*m,b[1]+i+I(c)*m,b[0]+k,b[1]+i,g<0?"center":d.half?"right":"left",c]},drawGraph:null,drawPoints:function(){var g,f,c,d,h,i,a=this,l=a.chart,j=l.renderer,k=a.options.shadow;k&&!a.shadowGroup&&(a.shadowGroup=j.g("shadow").add(a.group)),b(a.points,function(b){null!==b.y&&(f=b.graphic,h=b.shapeArgs,c=b.shadowGroup,d=b.pointAttr[b.selected?am:K],d.stroke||(d.stroke=d.fill),k&&!c&&(c=b.shadowGroup=j.g("shadow").add(a.shadowGroup)),g=b.sliced?b.slicedTranslation:{translateX:0,translateY:0},c&&c.attr(g),f?f.setRadialReference(a.center).attr(d).animate(e(h,g)):(i={"stroke-linejoin":"round"},b.visible||(i.visibility="hidden"),b.graphic=f=j[b.shapeType](h).setRadialReference(a.center).attr(d).attr(i).attr(g).add(a.group).shadow(k,c)))})},searchPoint:aj,sortByAngle:function(a,b){a.sort(function(a,c){return void 0!==a.angle&&(c.angle-a.angle)*b})},drawLegendSymbol:aN.drawRectangle,getCenter:bQ.getCenter,getSymbol:aj},bq=ae(t,bq),s.pie=bq,t.prototype.drawDataLabels=function(){var j,m,h,i,f=this,l=f.options,n=l.cursor,d=l.dataLabels,q=f.points,o=f.hasRendered||0,p=f.chart.renderer;(d.enabled||f._hasPointLabels)&&(f.dlProcessOptions&&f.dlProcessOptions(d),i=f.plotGroup("dataLabelsGroup","data-labels",d.defer?ah:ar,d.zIndex||6),a(d.defer,!0)&&(i.attr({opacity:+o}),o||r(f,"afterAnimate",function(){f.visible&&i.show(),i[l.animation?"animate":"attr"]({opacity:1},{duration:200})})),m=d,b(q,function(b){var v,s,q,t,u,r,o=b.dataLabel,x=b.connector,y=!0,w={};if(j=b.dlOptions||b.options&&b.options.dataLabels,v=a(j&&j.enabled,m.enabled)&&null!==b.y,o&&!v)b.dataLabel=o.destroy();else if(v){if(d=k(m,j),r=d.style,u=d.rotation,s=b.getLabelConfig(),h=d.format?aE(d.format,s):d.formatter.call(s,d),r.color=a(d.color,r.color,f.color,"black"),o)c(h)?(o.attr({text:h}),y=!1):(b.dataLabel=o=o.destroy(),x&&(b.connector=x.destroy()));else if(c(h)){q={fill:d.backgroundColor,stroke:d.borderColor,"stroke-width":d.borderWidth,r:d.borderRadius||0,rotation:u,padding:d.padding,zIndex:1},"contrast"===r.color&&(w.color=d.inside||d.distance<0||l.stacking?p.getContrast(b.color||f.color):"#000000"),n&&(w.cursor=n);for(t in q)q[t]===g&&delete q[t];o=b.dataLabel=p[u?"text":"label"](h,0,-9999,d.shape,null,null,d.useHTML).attr(q).css(e(r,w)).add(i).shadow(d.shadow)}o&&f.alignDataLabel(b,o,d,null,y)}}))},t.prototype.alignDataLabel=function(k,h,c,d,t){var n,p,s,b,i=this.chart,j=i.inverted,m=a(k.plotX,-9999),o=a(k.plotY,-9999),g=h.getBBox(),v=i.renderer.fontMetrics(c.style.fontSize).b,l=c.rotation,q=c.align,r=this.visible&&(k.series.forceDL||i.isInsidePlot(m,f(o),j)||d&&i.isInsidePlot(m,j?d.x+1:d.y+d.height-1,j)),u="justify"===a(c.overflow,"justify");r&&(d=e({x:j?i.plotWidth-o:m,y:f(j?i.plotHeight-m:o),width:0,height:0},d),e(c,{width:g.width,height:g.height}),l?(u=!1,s=i.renderer.rotCorr(v,l),b={x:d.x+c.x+d.width/2+s.x,y:d.y+c.y+d.height/2},h[t?"attr":"animate"](b).attr({align:c.align}),n=(l+720)%360,p=n>180&&n<360,"left"===q?b.y-=p?g.height:0:"center"===q?(b.x-=g.width/2,b.y-=g.height/2):"right"===q&&(b.x-=g.width,b.y-=p?0:g.height)):(h.align(c,null,d),b=h.alignAttr),u?this.justifyDataLabel(h,c,b,g,d,t):a(c.crop,!0)&&(r=i.isInsidePlot(b.x,b.y)&&i.isInsidePlot(b.x+g.width,b.y+g.height)),c.shape&&!l&&h.attr({anchorX:k.plotX,anchorY:k.plotY})),r||(ax(h),h.attr({y:-9999}),h.placed=!1)},t.prototype.justifyDataLabel=function(f,b,d,h,k,l){var a,c,g=this.chart,j=b.align,i=b.verticalAlign,e=f.box?0:f.padding||0;a=d.x+e,a<0&&("right"===j?b.align="left":b.x=-a,c=!0),a=d.x+h.width-e,a>g.plotWidth&&("left"===j?b.align="right":b.x=g.plotWidth-a,c=!0),a=d.y+e,a<0&&("bottom"===i?b.verticalAlign="top":b.y=-a,c=!0),a=d.y+h.height-e,a>g.plotHeight&&("top"===i?b.verticalAlign="bottom":b.y=g.plotHeight-a,c=!0),c&&(f.placed=!l,f.align(b,null,k))},s.pie&&(s.pie.prototype.drawDataLabels=function(){var A,w,L,i,F,e,r,m,g,C,P,y,c,l=this,X=l.data,J=l.chart,q=l.options.dataLabels,z=a(q.connectorPadding,10),V=a(q.connectorWidth,1),W=J.plotWidth,Q=J.plotHeight,Z=a(q.softConnector,!0),s=q.distance,M=l.center,G=M[2]/2,I=M[1],Y=s>0,U=[[],[]],o=[0,0,0,0],T=function(a,b){return b.y-a.y},x,H,R,h,n,N,k,p,O,E,S,K,B;if(l.visible&&(q.enabled||l._hasPointLabels)){for(t.prototype.drawDataLabels.apply(l),b(X,function(a){a.dataLabel&&a.visible&&(U[a.half].push(a),a.dataLabel._pos=null)}),y=2;y--;)if(n=[],N=[],k=U[y],p=k.length,p){for(l.sortByAngle(k,y-.5),c=r=0;!r&&k[c];)r=k[c]&&k[c].dataLabel&&(k[c].dataLabel.getBBox().height||21),c++;if(s>0){for(R=j(I+G+s,J.plotHeight),H=d(0,I-G-s);H<=R;H+=r)n.push(H);if(x=n.length,p>x){for(P=[].concat(k),P.sort(T),c=p;c--;)P[c].rank=c;for(c=p;c--;)k[c].rank>=x&&k.splice(c,1);p=k.length}for(c=0;c<p;c++){A=k[c],e=A.labelPos,S=9999;for(E=0;E<x;E++)O=u(n[E]-e[1]),O<S&&(S=O,h=E);if(h<c&&null!==n[c])h=c;else if(x<p-c+h&&null!==n[c])for(h=x-p+c;null===n[h];)h++;else for(;null===n[h];)h++;N.push({i:h,y:n[h]}),n[h]=null}N.sort(T)}for(c=0;c<p;c++)A=k[c],e=A.labelPos,i=A.dataLabel,C=A.visible===!1?ah:"inherit",B=e[1],s>0?(K=N.pop(),h=K.i,g=K.y,(B>g&&null!==n[h+1]||B<g&&null!==n[h-1])&&(g=j(d(0,B),J.plotHeight))):g=B,m=q.justify?M[0]+(y?-1:1)*(G+s):l.getX(g===I-G-s||g===I+G+s?B:g,y),i._attr={visibility:C,align:e[6]},i._pos={x:m+q.x+({left:z,right:-z}[e[6]]||0),y:g+q.y-10},i.connX=m,i.connY=g,null===this.options.size&&(F=i.width,m-F<z?o[3]=d(f(F-m+z),o[3]):m+F>W-z&&(o[1]=d(f(m+F-W+z),o[1])),g-r/2<0?o[0]=d(f(-g+r/2),o[0]):g+r/2>Q&&(o[2]=d(f(g+r/2-Q),o[2])))}(0===aw(o)||this.verifyDataLabelOverflow(o))&&(this.placeDataLabels(),Y&&V&&b(this.points,function(a){w=a.connector,e=a.labelPos,i=a.dataLabel,i&&i._pos&&a.visible?(C=i._attr.visibility,m=i.connX,g=i.connY,L=Z?[D,m+("left"===e[6]?5:-5),g,"C",m,g,2*e[2]-e[4],2*e[3]-e[5],e[2],e[3],v,e[4],e[5]]:[D,m+("left"===e[6]?5:-5),g,v,e[2],e[3],v,e[4],e[5]],w?(w.animate({d:L}),w.attr("visibility",C)):a.connector=w=l.chart.renderer.path(L).attr({"stroke-width":V,stroke:q.connectorColor||a.color||"#606060",visibility:C}).add(l.dataLabelsGroup)):w&&(a.connector=w.destroy())}))}},s.pie.prototype.placeDataLabels=function(){b(this.points,function(c){var b,a=c.dataLabel;a&&c.visible&&(b=a._pos,b?(a.attr(a._attr),a[a.moved?"animate":"attr"](b),a.moved=!0):a&&a.attr({y:-9999}))})},s.pie.prototype.alignDataLabel=aj,s.pie.prototype.verifyDataLabelOverflow=function(a){var g,b=this.center,f=this.options,h=f.center,e=f.minSize||80,c=e;return null!==h[0]?c=d(b[2]-d(a[1],a[3]),e):(c=d(b[2]-a[1]-a[3],e),b[0]+=(a[3]-a[1])/2),null!==h[1]?c=d(j(c,b[2]-d(a[0],a[2])),e):(c=d(j(c,b[2]-a[0]-a[2]),e),b[1]+=(a[0]-a[2])/2),c<b[2]?(b[2]=c,b[3]=Math.min(bM(f.innerSize||0,c),c),this.translate(b),this.drawDataLabels&&this.drawDataLabels()):g=!0,g}),s.column&&(s.column.prototype.alignDataLabel=function(c,l,d,b,m){var i,f=this.chart.inverted,e=c.series,j=c.dlBox||c.shapeArgs,g=a(c.below,c.plotY>a(this.translatedThreshold,e.yAxis.len)),h=a(d.inside,!!this.options.stacking);j&&(b=k(j),b.y<0&&(b.height+=b.y,b.y=0),i=b.y+b.height-e.yAxis.len,i>0&&(b.height-=i),f&&(b={x:e.yAxis.len-b.y-b.height,y:e.xAxis.len-b.x-b.width,width:b.height,height:b.width}),h||(f?(b.x+=g?0:b.width,b.width=0):(b.y+=g?b.height:0,b.height=0))),d.align=a(d.align,!f||h?"center":g?"right":"left"),d.verticalAlign=a(d.verticalAlign,f||h?"middle":g?"top":"bottom"),t.prototype.alignDataLabel.call(this,c,l,d,b,m)}),function(a){var c=a.Chart,b=a.each,d=a.pick,e=a.addEvent;c.prototype.callbacks.push(function(a){function c(){var c=[];b(a.series,function(a){var e=a.options.dataLabels,f=a.dataLabelCollections||["dataLabel"];(e.enabled||a._hasPointLabels)&&!e.allowOverlap&&a.visible&&b(f,function(e){b(a.points,function(a){a[e]&&(a[e].labelrank=d(a.labelrank,a.shapeArgs&&a.shapeArgs.height),c.push(a[e]))})})}),a.hideOverlappingLabels(c)}c(),e(a,"redraw",c)}),c.prototype.hideOverlappingLabels=function(e){var f,d,h,a,c,n,i,j,k,l,g,m=e.length,o=function(a,b,e,f,c,d,g,h){return!(c>a+e||c+g<a||d>b+f||d+h<b)};for(d=0;d<m;d++)f=e[d],f&&(f.oldOpacity=f.opacity,f.newOpacity=1);for(e.sort(function(a,b){return(b.labelrank||0)-(a.labelrank||0)}),d=0;d<m;d++)for(a=e[d],h=d+1;h<m;++h)c=e[h],a&&c&&a.placed&&c.placed&&0!==a.newOpacity&&0!==c.newOpacity&&(i=a.alignAttr,j=c.alignAttr,k=a.parentGroup,l=c.parentGroup,g=2*(a.box?0:a.padding),n=o(i.x+k.translateX,i.y+k.translateY,a.width-g,a.height-g,j.x+l.translateX,j.y+l.translateY,c.width-g,c.height-g),n&&((a.labelrank<c.labelrank?a:c).newOpacity=0));b(e,function(a){var c,b;a&&(b=a.newOpacity,a.oldOpacity!==b&&a.placed&&(b?a.show(!0):c=function(){a.hide()},a.alignAttr.opacity=b,a[a.isOld?"animate":"attr"](a.alignAttr,null,c)),a.isOld=!0)})}}(h),ba=h.TrackerMixin={drawTrackerPoint:function(){var a=this,c=a.chart,f=c.pointer,d=a.options.cursor,h=d&&{cursor:d},e=function(d){for(var a,b=d.target;b&&!a;)a=b.point,b=b.parentNode;a!==g&&a!==c.hoverPoint&&a.onMouseOver(d)};b(a.points,function(a){a.graphic&&(a.graphic.element.point=a),a.dataLabel&&(a.dataLabel.element.point=a)}),a._hasTracking||(b(a.trackerGroups,function(b){a[b]&&(a[b].addClass(z+"tracker").on("mouseover",e).on("mouseout",function(a){f.onTrackerMouseOut(a)}).css(h),aJ&&a[b].on("touchstart",e))}),a._hasTracking=!0)},drawTrackerGraph:function(){var c,a=this,g=a.options,f=g.trackByArea,d=[].concat(f?a.areaPath:a.graphPath),h=d.length,e=a.chart,p=e.pointer,o=e.renderer,i=e.options.tooltip.snap,l=a.tracker,m=g.cursor,n=m&&{cursor:m},k=function(){e.hoverSeries!==a&&a.onMouseOver()},j="rgba(192,192,192,"+(M?1e-4:.002)+")";if(h&&!f)for(c=h+1;c--;)d[c]===D&&d.splice(c+1,0,d[c+1]-i,d[c+2],v),(c&&d[c]===D||c===h)&&d.splice(c,0,v,d[c-2]+i,d[c-1]);l?l.attr({d}):(a.tracker=o.path(d).attr({"stroke-linejoin":"round",visibility:a.visible?ar:ah,stroke:j,fill:f?j:B,"stroke-width":g.lineWidth+(f?0:2*i),zIndex:2}).add(a.group),b([a.tracker,a.markerGroup],function(a){a.addClass(z+"tracker").on("mouseover",k).on("mouseout",function(a){p.onTrackerMouseOut(a)}).css(n),aJ&&a.on("touchstart",k)}))}},s.column&&(be.prototype.drawTracker=ba.drawTrackerPoint),s.pie&&(s.pie.prototype.drawTracker=ba.drawTrackerPoint),s.scatter&&(bw.prototype.drawTracker=ba.drawTrackerPoint),e(aZ.prototype,{setItemEvents:function(a,b,c,d,e){var f=this;(c?b:a.legendGroup).on("mouseover",function(){a.setState(W),b.css(f.options.itemHoverStyle)}).on("mouseout",function(){b.css(a.visible?d:e),a.setState()}).on("click",function(b){var c="legendItemClick",d=function(){a.setVisible&&a.setVisible()};b={browserEvent:b},a.firePointEvent?a.firePointEvent(c,b,d):o(a,c,b,d)})},createCheckboxForItem:function(a){var b=this;a.checkbox=N("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},b.options.itemCheckboxStyle,b.chart.container),r(a.checkbox,"click",function(b){var c=b.target;o(a.series||a,"checkboxClick",{checked:c.checked,item:a},function(){a.select()})})}}),x.legend.itemStyle.cursor="pointer",e(aR.prototype,{showResetZoom:function(){function f(){b.zoomOut()}var b=this,c=x.lang,a=b.options.chart.resetZoomButton,d=a.theme,e=d.states,g="chart"===a.relativeTo?null:"plotBox";this.resetZoomButton=b.renderer.button(c.resetZoom,null,null,f,d,e&&e.hover).attr({align:a.position.align,title:c.resetZoomTitle}).add().align(a.position,!1,g)},zoomOut:function(){var a=this;o(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(d){var f,e,c=this,h=c.pointer,g=!1;!d||d.resetSelection?b(c.axes,function(a){f=a.zoom()}):b(d.xAxis.concat(d.yAxis),function(a){var b=a.axis,c=b.isXAxis;(h[c?"zoomX":"zoomY"]||h[c?"pinchX":"pinchY"])&&(f=b.zoom(a.min,a.max),b.displayBtn&&(g=!0))}),e=c.resetZoomButton,g&&!e?c.showResetZoom():!g&&L(e)&&(c.resetZoomButton=e.destroy()),f&&c.redraw(a(c.options.chart.animation,d&&d.animation,c.pointCount<100))},pan:function(f,g){var c,a=this,e=a.hoverPoints;e&&b(e,function(a){a.setState()}),b("xy"===g?[1,0]:[1],function(p){var b=a[p?"xAxis":"yAxis"][0],k=b.horiz,e=f[k?"chartX":"chartY"],l=k?"mouseDownX":"mouseDownY",h=a[l],i=(b.pointRange||0)/2,g=b.getExtremes(),m=b.toValue(h-e,!0)+i,n=b.toValue(h+b.len-e,!0)-i,o=h>e;b.series.length&&(o||m>j(g.dataMin,g.min))&&(!o||n<d(g.dataMax,g.max))&&(b.setExtremes(m,n,!1,!1,{trigger:"pan"}),c=!0),a[l]=e}),c&&a.redraw(!1),p(a.container,{cursor:"move"})}}),e(aq.prototype,{select:function(d,f){var c=this,e=c.series,g=e.chart;d=a(d,!c.selected),c.firePointEvent(d?"select":"unselect",{accumulate:f},function(){c.selected=c.options.selected=d,e.options.data[V(c,e.data)]=c.options,c.setState(d&&am),f||b(g.getSelectedPoints(),function(a){a.selected&&a!==c&&(a.selected=a.options.selected=!1,e.options.data[V(a,e.data)]=a.options,a.setState(K),a.firePointEvent("unselect"))})})},onMouseOver:function(g,f){var a=this,b=a.series,c=b.chart,e=c.tooltip,d=c.hoverPoint;c.hoverSeries!==b&&b.onMouseOver(),d&&d!==a&&d.onMouseOut(),a.series&&(a.firePointEvent("mouseOver"),!e||e.shared&&!b.noSharedTooltip||e.refresh(a,g),a.setState(W),f||(c.hoverPoint=a))},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;this.firePointEvent("mouseOut"),b&&V(this,b)!==-1||(this.setState(),a.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var b,a=this,d=k(a.series.options.point,a.options),c=d.events;a.events=c;for(b in c)r(a,b,c[b]);this.hasImportedEvents=!0}},setState:function(a,s){var d,g,i,n,b=this,q=C(b.plotX),p=b.plotY,f=b.series,o=f.options.states,h=H[f.type].marker&&f.options.marker,u=h&&!h.enabled,l=h&&h.states[a],t=l&&l.enabled===!1,c=f.stateMarkerGraphic,r=b.marker||{},j=f.chart,m=f.halo;a=a||K,n=b.pointAttr[a]||f.pointAttr[a],a===b.state&&!s||b.selected&&a!==am||o[a]&&o[a].enabled===!1||a&&(t||u&&l.enabled===!1)||a&&r.states&&r.states[a]&&r.states[a].enabled===!1||(b.graphic?(d=h&&b.graphic.symbolName&&n.r,b.graphic.attr(k(n,d?{x:q-d,y:p-d,width:2*d,height:2*d}:{})),c&&c.hide()):(a&&l&&(d=l.radius,i=r.symbol||f.symbol,c&&c.currentSymbol!==i&&(c=c.destroy()),c?c[s?"animate":"attr"]({x:q-d,y:p-d}):i&&(f.stateMarkerGraphic=c=j.renderer.symbol(i,q-d,p-d,2*d,2*d).attr(n).add(f.markerGroup),c.currentSymbol=i)),c&&(c[a&&j.isInsidePlot(q,p,j.inverted)?"show":"hide"](),c.element.point=b)),g=o[a]&&o[a].halo,g&&g.size?(m||(f.halo=m=j.renderer.path().add(j.seriesGroup)),m.attr(e({fill:b.color||f.color,"fill-opacity":g.opacity,zIndex:-1},g.attributes))[s?"animate":"attr"]({d:b.haloPath(g.size)})):m&&m.attr({d:[]}),b.state=a)},haloPath:function(a){var b=this.series,c=b.chart,d=b.getPlotBox(),e=c.inverted,f=Math.floor(this.plotX);return c.renderer.symbols.circle(d.translateX+(e?b.yAxis.len-this.plotY:f)-a,d.translateY+(e?b.xAxis.len-f:this.plotY)-a,2*a,2*a)}}),e(t.prototype,{onMouseOver:function(){var a=this,c=a.chart,b=c.hoverSeries;b&&b!==a&&b.onMouseOut(),a.options.events.mouseOver&&o(a,"mouseOver"),a.setState(W),c.hoverSeries=a},onMouseOut:function(){var a=this,d=a.options,b=a.chart,c=b.tooltip,e=b.hoverPoint;b.hoverSeries=null,e&&e.onMouseOut(),a&&d.events.mouseOut&&o(a,"mouseOut"),!c||d.stickyTracking||c.shared&&!a.noSharedTooltip||c.hide(),a.setState()},setState:function(a){var d,b=this,h=b.options,e=b.graph,c=h.states,f=h.lineWidth,g=0;if(a=a||K,b.state!==a){if(b.state=a,c[a]&&c[a].enabled===!1)return;if(a&&(f=c[a].lineWidth||f+(c[a].lineWidthPlus||0)),e&&!e.dashstyle)for(d={"stroke-width":f},e.attr(d);b["zoneGraph"+g];)b["zoneGraph"+g].attr(d),g+=1}},setVisible:function(d,f){var e,a=this,c=a.chart,h=a.legendItem,i=c.options.chart.ignoreHiddenSeries,j=a.visible;a.visible=d=a.userOptions.visible=d===g?!j:d,e=d?"show":"hide",b(["group","dataLabelsGroup","markerGroup","tracker"],function(b){a[b]&&a[b][e]()}),c.hoverSeries!==a&&(c.hoverPoint&&c.hoverPoint.series)!==a||a.onMouseOut(),h&&c.legend.colorizeItem(a,d),a.isDirty=!0,a.options.stacking&&b(c.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)}),b(a.linkedSeries,function(a){a.setVisible(d,!1)}),i&&(c.isDirtyBox=!0),f!==!1&&c.redraw(),o(a,e)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){var b=this;b.selected=a=a===g?!b.selected:a,b.checkbox&&(b.checkbox.checked=a),o(b,a?"select":"unselect")},drawTracker:ba.drawTrackerGraph}),e(h,{Color:T,Point:aq,Tick:aG,Renderer:aI,SVGElement:y,SVGRenderer:ak,arrayMin:aU,arrayMax:aw,charts:A,dateFormat:aB,error:ac,format:aE,pathAnim:bS,getOptions:b$,hasBidiBug:bR,isTouchDevice:bB,setOptions:b_,addEvent:r,removeEvent:E,createElement:N,discardElement:aM,css:p,each:b,map:af,merge:k,splat:al,stableSort:bi,extendClass:ae,pInt:l,svg:M,canvas:O,vml:!M&&!O,product:bz,version:by}),h}),function(a){"object"==typeof module&&module.exports?module.exports=a:a(Highcharts)}(function(b){var p,D,C,d,r,f,z,c,m,e,a,i,t,h,x,A,s,y,G,v,j,k,n,l,w,B,g,o,q,F,u,H,I,J;function E(a,b,c){this.init(a,b,c)}D=b.arrayMin,C=b.arrayMax,d=b.each,r=b.extend,f=b.merge,z=b.map,c=b.pick,m=b.pInt,e=b.getOptions().plotOptions,a=b.seriesTypes,i=b.extendClass,t=b.splat,h=b.wrap,x=b.Axis,A=b.Tick,s=b.Point,y=b.Pointer,G=b.CenteredSeriesMixin,v=b.TrackerMixin,j=b.Series,k=Math,n=k.round,l=k.floor,w=k.max,B=b.Color,g=function(){},r(E.prototype,{init:function(b,g,c){var e,a=this,h=a.defaultOptions;a.chart=g,a.options=b=f(h,g.angular?{background:{}}:void 0,b),e=b.background,e&&d([].concat(t(e)).reverse(),function(b){var e=b.backgroundColor,d=c.userOptions;b=f(a.defaultBackgroundOptions,b),e&&(b.backgroundColor=e),b.color=b.backgroundColor,c.options.plotBands.unshift(b),d.plotBands=d.plotBands||[],d.plotBands!==c.options.plotBands&&d.plotBands.unshift(b)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}}),o=x.prototype,q=A.prototype,F={getOffset:g,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:g,setCategories:g,setTitle:g},u={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(b){var a=this.options=f(this.defaultOptions,this.defaultRadialOptions,b);a.plotBands||(a.plotBands=[])},getOffset:function(){o.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=G.getCenter.call(this.pane)},getLinePath:function(d,a){var b=this.center;return a=c(a,b[2]/2-this.offset),this.chart.renderer.symbols.arc(this.left+b[0],this.top+b[1],a,a,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){o.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=this.center[2]/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){o.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=b.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*c(this.sector,1)/2)},getPosition:function(a,b){return this.postTranslate(this.isCircular?this.translate(a):0,c(this.isCircular?b:this.translate(a),this.center[2]/2)-this.offset)},postTranslate:function(a,b){var c=this.chart,d=this.center;return a=this.startAngleRad+a,{x:c.plotLeft+d[0]+Math.cos(a)*b,y:c.plotTop+d[1]+Math.sin(a)*b}},getPlotBandPath:function(b,d,e){var f,g,k,i,h=this.center,j=this.startAngleRad,n=h[2]/2,a=[c(e.outerRadius,"100%"),e.innerRadius,c(e.thickness,10)],o=/%$/,l=this.isCircular;return"polygon"===this.options.gridLineInterpolation?i=this.getPlotLinePath(b).concat(this.getPlotLinePath(d,!0)):(b=Math.max(b,this.min),d=Math.min(d,this.max),l||(a[0]=this.translate(b),a[1]=this.translate(d)),a=z(a,function(a){return o.test(a)&&(a=m(a,10)*n/100),a}),"circle"!==e.shape&&l?(f=j+this.translate(b),g=j+this.translate(d)):(f=-Math.PI/2,g=1.5*Math.PI,k=!0),i=this.chart.renderer.symbols.arc(this.left+h[0],this.top+h[1],a[0],a[0],{start:Math.min(f,g),end:Math.max(f,g),innerR:c(a[1],a[0]-a[2]),open:k})),i},getPlotLinePath:function(b,k){var f,g,c,e,a=this,i=a.center,h=a.chart,j=a.getPosition(b);return a.isCircular?e=["M",i[0]+h.plotLeft,i[1]+h.plotTop,"L",j.x,j.y]:"circle"===a.options.gridLineInterpolation?(b=a.translate(b),b&&(e=a.getLinePath(0,b))):(d(h.xAxis,function(b){b.pane===a.pane&&(f=b)}),e=[],b=a.translate(b),c=f.tickPositions,f.autoConnect&&(c=c.concat([c[0]])),k&&(c=[].concat(c).reverse()),d(c,function(a,c){g=f.getPosition(a,b),e.push(c?"L":"M",g.x,g.y)})),e},getTitlePosition:function(){var a=this.center,c=this.chart,b=this.options.title;return{x:c.plotLeft+a[0]+(b.x||0),y:c.plotTop+a[1]-{high:.5,middle:.25,low:0}[b.align]*a[2]+(b.y||0)}}},h(o,"init",function(v,a,e){var b,n,l,k,j,d,s=this,h=a.angular,m=a.polar,g=e.isX,o=h&&g,q=a.options,i=e.pane||0;h?(r(this,o?F:u),b=!g,b&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):m&&(r(this,u),b=g,this.defaultRadialOptions=g?this.defaultRadialXOptions:f(this.defaultYAxisOptions,this.defaultRadialYOptions)),v.call(this,a,e),o||!h&&!m||(k=this.options,a.panes||(a.panes=[]),this.pane=j=a.panes[i]=a.panes[i]||new E(t(q.pane)[i],a,s),d=j.options,a.inverted=!1,q.chart.zoomType=null,this.startAngleRad=n=(d.startAngle-90)*Math.PI/180,this.endAngleRad=l=(c(d.endAngle,d.startAngle+360)-90)*Math.PI/180,this.offset=k.offset||0,this.isCircular=b,b&&e.max===p&&l-n===2*Math.PI&&(this.autoConnect=!0))}),h(o,"autoLabelAlign",function(a){if(!this.isRadial)return a.apply(this,[].slice.call(arguments,1))}),h(q,"getPosition",function(c,d,a,e,f){var b=this.axis;return b.getPosition?b.getPosition(a):c.call(this,d,a,e,f)}),h(q,"getLabelPosition",function(p,o,n,f,m,b,l,j,k){var g,a=this.axis,i=b.y,e=20,h=b.align,d=(a.translate(this.pos)+a.startAngleRad+Math.PI/2)/Math.PI*180%360;return a.isRadial?(g=a.getPosition(this.pos,a.center[2]/2+c(b.distance,-25)),"auto"===b.rotation?f.attr({rotation:d}):null===i&&(i=a.chart.renderer.fontMetrics(f.styles.fontSize).b-f.getBBox().height/2),null===h&&(a.isCircular?(this.label.getBBox().width>a.len*a.tickInterval/(a.max-a.min)&&(e=0),h=d>e&&d<180-e?"left":d>180+e&&d<360-e?"right":"center"):h="center",f.attr({align:h})),g.x+=b.x,g.y+=i):g=p.call(this,o,n,f,m,b,l,j,k),g}),h(q,"getMarkPath",function(g,d,e,f,h,i,j){var a,b,c=this.axis;return c.isRadial?(a=c.getPosition(this.pos,c.center[2]/2+f),b=["M",d,e,"L",a.x,a.y]):b=g.call(this,d,e,f,h,i,j),b}),e.arearange=f(e.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}}),a.arearange=i(a.area,{type:"arearange",pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(a){return[a.low,a.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(a){var b=this.chart,c=this.xAxis.postTranslate(a.rectPlotX,this.yAxis.len-a.plotHigh);a.plotHighX=c.x-b.plotLeft,a.plotHigh=c.y-b.plotTop},translate:function(){var b=this,c=b.yAxis;a.area.prototype.translate.apply(b),d(b.points,function(a){var d=a.low,b=a.high,e=a.plotY;null===b||null===d?a.isNull=!0:(a.plotLow=e,a.plotHigh=c.translate(b,0,1,0,1))}),this.chart.polar&&d(this.points,function(a){b.highToXY(a)})},getGraphPath:function(){var a,k,m,h,n,f,b=this.points,l=[],e=[],c=b.length,g=j.prototype.getGraphPath,i=this.options,d=i.step;for(c=b.length;c--;)a=b[c],a.isNull||b[c+1]&&!b[c+1].isNull||e.push({plotX:a.plotX,plotY:a.plotLow}),k={plotX:a.plotX,plotY:a.plotHigh,isNull:a.isNull},e.push(k),l.push(k),a.isNull||b[c-1]&&!b[c-1].isNull||e.push({plotX:a.plotX,plotY:a.plotLow});return h=g.call(this,b),d&&(d===!0&&(d="left"),i.step={left:"right",center:"center",right:"left"}[d]),n=g.call(this,l),f=g.call(this,e),i.step=d,m=[].concat(h,n),this.chart.polar||"M"!==f[0]||(f[0]="L"),this.areaPath=this.areaPath.concat(h,f),m},drawDataLabels:function(){var c,a,d,f=this.data,i=f.length,k=[],e=j.prototype,b=this.options.dataLabels,g=b.align,h=b.verticalAlign,l=b.inside,m=this.chart.inverted;if(b.enabled||this._hasPointLabels){for(c=i;c--;)a=f[c],a&&(d=l?a.plotHigh<a.plotLow:a.plotHigh>a.plotLow,a.y=a.high,a._plotY=a.plotY,a.plotY=a.plotHigh,k[c]=a.dataLabel,a.dataLabel=a.dataLabelUpper,a.below=d,m?g||(b.align=d?"right":"left"):h||(b.verticalAlign=d?"top":"bottom"),b.x=b.xHigh,b.y=b.yHigh);for(e.drawDataLabels&&e.drawDataLabels.apply(this,arguments),c=i;c--;)a=f[c],a&&(d=l?a.plotHigh<a.plotLow:a.plotHigh>a.plotLow,a.dataLabelUpper=a.dataLabel,a.dataLabel=k[c],a.y=a.low,a.plotY=a._plotY,a.below=!d,m?g||(b.align=d?"left":"right"):h||(b.verticalAlign=d?"bottom":"top"),b.x=b.xLow,b.y=b.yLow);e.drawDataLabels&&e.drawDataLabels.apply(this,arguments)}b.align=g,b.verticalAlign=h},alignDataLabel:function(){a.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:g,getSymbol:g,drawPoints:g}),e.areasplinerange=f(e.arearange),a.areasplinerange=i(a.arearange,{type:"areasplinerange",getPointSpline:a.spline.prototype.getPointSpline}),function(){var b=a.column.prototype;e.columnrange=f(e.column,e.arearange,{lineWidth:1,pointRange:null}),a.columnrange=i(a.arearange,{type:"columnrange",translate:function(){var f,a=this,e=a.yAxis,g=a.xAxis,c=a.chart;b.translate.apply(a),d(a.points,function(d){var j,b,h,i=d.shapeArgs,k=a.options.minPointLength;d.plotHigh=f=e.translate(d.high,0,1,0,1),d.plotLow=d.plotY,h=f,b=d.plotY-f,Math.abs(b)<k?(j=k-b,b+=j,h-=j/2):b<0&&(b*=-1,h-=b),i.height=b,i.y=h,d.tooltipPos=c.inverted?[e.len+e.pos-c.plotLeft-h-b/2,g.len+g.pos-c.plotTop-i.x-i.width/2,b]:[g.left-c.plotLeft+i.x+i.width/2,e.pos-c.plotTop+h+b/2,b]})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:g,crispCol:b.crispCol,pointAttrToOptions:b.pointAttrToOptions,drawPoints:b.drawPoints,drawTracker:b.drawTracker,animate:b.animate,getColumnMetrics:b.getColumnMetrics})}(),e.gauge=f(e.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1}),H=i(s,{setState:function(a){this.state=a}}),I={type:"gauge",pointClass:H,angular:!0,drawGraph:g,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var e=this,a=e.yAxis,g=e.options,b=a.center;e.generatePoints(),d(e.points,function(e){var h=f(g.dial,e.dial),k=m(c(h.radius,80))*b[2]/200,l=m(c(h.baseLength,70))*k/100,n=m(c(h.rearLength,10))*k/100,j=h.baseWidth||3,o=h.topWidth||1,i=g.overshoot,d=a.startAngleRad+a.translate(e.y,null,null,null,!0);i&&"number"==typeof i?(i=i/180*Math.PI,d=Math.max(a.startAngleRad-i,Math.min(a.endAngleRad+i,d))):g.wrap===!1&&(d=Math.max(a.startAngleRad,Math.min(a.endAngleRad,d))),d=180*d/Math.PI,e.shapeType="path",e.shapeArgs={d:h.path||["M",-n,-j/2,"L",l,-j/2,k,-o/2,k,o/2,l,j/2,-n,j/2,"z"],translateX:b[0],translateY:b[1],rotation:d},e.plotX=b[0],e.plotY=b[1]})},drawPoints:function(){var a=this,b=a.yAxis.center,g=a.pivot,h=a.options,e=h.pivot,i=a.chart.renderer;d(a.points,function(b){var e=b.graphic,c=b.shapeArgs,g=c.d,d=f(h.dial,b.dial);e?(e.animate(c),c.d=g):b.graphic=i[b.shapeType](c).attr({stroke:d.borderColor||"none","stroke-width":d.borderWidth||0,fill:d.backgroundColor||"black",rotation:c.rotation,zIndex:1}).add(a.group)}),g?g.animate({translateX:b[0],translateY:b[1]}):a.pivot=i.circle(0,0,c(e.radius,5)).attr({"stroke-width":e.borderWidth||0,stroke:e.borderColor||"silver",fill:e.backgroundColor||"black",zIndex:2}).translate(b[0],b[1]).add(a.group)},animate:function(b){var a=this;b||(d(a.points,function(c){var b=c.graphic;b&&(b.attr({rotation:180*a.yAxis.startAngleRad/Math.PI}),b.animate({rotation:c.shapeArgs.rotation},a.options.animation))}),a.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),j.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(a,b){j.prototype.setData.call(this,a,!1),this.processData(),this.generatePoints(),c(b,!0)&&this.chart.redraw()},drawTracker:v&&v.drawTrackerPoint},a.gauge=i(a.line,I),e.boxplot=f(e.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),a.boxplot=i(a.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(a){return[a.low,a.q1,a.median,a.q3,a.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:g,translate:function(){var b=this,c=b.yAxis,e=b.pointArrayMap;a.column.prototype.translate.apply(b),d(b.points,function(a){d(e,function(b){null!==a[b]&&(a[b+"Plot"]=c.translate(a[b],0,1,0,1))})})},drawPoints:function(){var G,m,h,r,q,F,a,b,i,E,k,D,C,s,B,w,y,f,v,z,A,x,t,g=this,H=g.points,e=g.options,I=g.chart,u=I.renderer,o=g.doQuartiles!==!1,j=g.options.whiskerLength;d(H,function(d){i=d.graphic,A=d.shapeArgs,k={},s={},w={},x=d.color||g.color,d.plotY!==p&&(G=d.pointAttr[d.selected?"selected":""],y=A.width,f=l(A.x),v=f+y,z=n(y/2),m=l(o?d.q1Plot:d.lowPlot),h=l(o?d.q3Plot:d.lowPlot),r=l(d.highPlot),q=l(d.lowPlot),k.stroke=d.stemColor||e.stemColor||x,k["stroke-width"]=c(d.stemWidth,e.stemWidth,e.lineWidth),k.dashstyle=d.stemDashStyle||e.stemDashStyle,s.stroke=d.whiskerColor||e.whiskerColor||x,s["stroke-width"]=c(d.whiskerWidth,e.whiskerWidth,e.lineWidth),w.stroke=d.medianColor||e.medianColor||x,w["stroke-width"]=c(d.medianWidth,e.medianWidth,e.lineWidth),a=k["stroke-width"]%2/2,b=f+z+a,E=["M",b,h,"L",b,r,"M",b,m,"L",b,q],o&&(a=G["stroke-width"]%2/2,b=l(b)+a,m=l(m)+a,h=l(h)+a,f+=a,v+=a,D=["M",f,h,"L",f,m,"L",v,m,"L",v,h,"L",f,h,"z"]),j&&(a=s["stroke-width"]%2/2,r+=a,q+=a,t=/%$/.test(j)?z*parseFloat(j)/100:j/2,C=["M",b-t,r,"L",b+t,r,"M",b-t,q,"L",b+t,q]),a=w["stroke-width"]%2/2,F=n(d.medianPlot)+a,B=["M",f,F,"L",v,F],i?(d.stem.animate({d:E}),j&&d.whiskers.animate({d:C}),o&&d.box.animate({d:D}),d.medianShape.animate({d:B})):(d.graphic=i=u.g().add(g.group),d.stem=u.path(E).attr(k).add(i),j&&(d.whiskers=u.path(C).attr(s).add(i)),o&&(d.box=u.path(D).attr(G).add(i)),d.medianShape=u.path(B).attr(w).add(i)))})},setStackedPoints:g}),e.errorbar=f(e.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),a.errorbar=i(a.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(a){return[a.low,a.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:a.arearange?a.arearange.prototype.drawDataLabels:g,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||a.column.prototype.getColumnMetrics.call(this)}}),e.waterfall=f(e.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}}),a.waterfall=i(a.column,{type:"waterfall",upColorProp:"fill",pointValKey:"y",translate:function(){var r,i,m,d,b,l,s,h,g,k,j,o,e=this,q=e.options,f=e.yAxis,p=c(q.minPointLength,5),t=q.threshold,u=q.stacking;for(a.column.prototype.translate.apply(this),e.minPointLengthOffset=0,g=k=t,m=e.points,i=0,r=m.length;i<r;i++)d=m[i],h=this.processedYData[i],b=d.shapeArgs,l=u&&f.stacks[(e.negStacks&&h<t?"-":"")+e.stackKey],j=l?l[d.x].points[e.index+","+i]:[0,h],d.isSum?d.y=h:d.isIntermediateSum&&(d.y=h-k),s=w(g,g+d.y)+j[0],b.y=f.translate(s,0,1),d.isSum?(b.y=f.translate(j[1],0,1),b.height=Math.min(f.translate(j[0],0,1),f.len)-b.y+e.minPointLengthOffset):d.isIntermediateSum?(b.y=f.translate(j[1],0,1),b.height=Math.min(f.translate(k,0,1),f.len)-b.y+e.minPointLengthOffset,k=j[1]):(0!==g&&(b.height=h>0?f.translate(g,0,1)-b.y:f.translate(g,0,1)-f.translate(g-h,0,1)),g+=h),b.height<0&&(b.y+=b.height,b.height*=-1),d.plotY=b.y=n(b.y)-e.borderWidth%2/2,b.height=w(n(b.height),.001),d.yBottom=b.y+b.height,b.height<=p&&(b.height=p,e.minPointLengthOffset+=p),b.y-=e.minPointLengthOffset,o=d.plotY+(d.negative?b.height:0)-e.minPointLengthOffset,e.chart.inverted?d.tooltipPos[0]=f.len-o:d.tooltipPos[1]=o},processData:function(l){var h,i,d,e,f,b,a,c=this,m=c.options,g=c.yData,k=c.options.data,n=g.length,o=m.threshold||0;for(d=i=e=f=o,a=0;a<n;a++)b=g[a],h=k&&k[a]?k[a]:{},"sum"===b||h.isSum?g[a]=d:"intermediateSum"===b||h.isIntermediateSum?g[a]=i:(d+=b,i+=b),e=Math.min(d,e),f=Math.max(d,f);j.prototype.processData.call(this,l),c.dataMin=e,c.dataMax=f},toYData:function(a){return a.isSum?0===a.x?null:"sum":a.isIntermediateSum?0===a.x?null:"intermediateSum":a.y},getAttribs:function(){a.column.prototype.getAttribs.apply(this,arguments);var c=this,i=c.options,j=i.states,e=i.upColor||c.color,k=b.Color(e).brighten(.1).get(),g=f(c.pointAttr),h=c.upColorProp;g[""][h]=e,g.hover[h]=j.hover.upColor||k,g.select[h]=j.select.upColor||e,d(c.points,function(a){a.options.color||(a.y>0?(a.pointAttr=g,a.color=e):a.pointAttr=c.pointAttr)})},getGraphPath:function(){var a,f,b,c,d=this.data,h=d.length,i=this.options.lineWidth+this.borderWidth,g=n(i)%2/2,e=[],j="M",k="L";for(b=1;b<h;b++)f=d[b].shapeArgs,a=d[b-1].shapeArgs,c=[j,a.x+a.width,a.y+g,k,f.x,a.y+g],d[b-1].y<0&&(c[2]+=a.height,c[5]+=a.height),e=e.concat(c);return e},getExtremes:g,drawGraph:j.prototype.drawGraph}),e.polygon=f(e.scatter,{marker:{enabled:!1}}),a.polygon=i(a.scatter,{type:"polygon",fillGraph:!0,getSegmentPath:function(a){return j.prototype.getSegmentPath.call(this,a).concat("z")},drawGraph:j.prototype.drawGraph,drawLegendSymbol:b.LegendSymbolMixin.drawRectangle}),e.bubble=f(e.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),J=i(s,{haloPath:function(){return s.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1}),a.bubble=i(a.scatter,{type:"bubble",pointClass:J,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(a){var b=this.options.marker,d=c(b.fillOpacity,.5);return a=a||b.fillColor||this.color,1!==d&&(a=B(a).setOpacity(d).get("rgba")),a},convertAttribs:function(){var a=j.prototype.convertAttribs.apply(this,arguments);return a.fill=this.applyOpacity(a.fill),a},getRadii:function(c,g,f,o){var l,d,b,a,e,j=this.zData,m=[],h=this.options,p="width"!==h.sizeBy,i=h.zThreshold,n=g-c;for(d=0,l=j.length;d<l;d++)a=j[d],h.sizeByAbsoluteValue&&null!==a&&(a=Math.abs(a-i),g=Math.max(g-i,Math.abs(c-i)),c=0),null===a?e=null:a<c?e=f/2-1:(b=n>0?(a-c)/n:.5,p&&b>=0&&(b=Math.sqrt(b)),e=k.ceil(f+b*(o-f))/2),m.push(e);this.radii=m},animate:function(a){var b=this.options.animation;a||(d(this.points,function(c){var a=c.graphic,d=c.shapeArgs;a&&d&&(a.attr("r",1),a.animate({r:d.r},b))}),this.animate=null)},translate:function(){var d,b,c,e=this.data,f=this.radii;for(a.scatter.prototype.translate.call(this),d=e.length;d--;)b=e[d],c=f?f[d]:0,"number"==typeof c&&c>=this.minPxSize/2?(b.shapeType="circle",b.shapeArgs={x:b.plotX,y:b.plotY,r:c},b.dlBox={x:b.plotX-c,y:b.plotY-c,width:2*c,height:2*c}):b.shapeArgs=b.plotY=b.dlBox=p},drawLegendSymbol:function(c,a){var d=this.chart.renderer,b=d.fontMetrics(c.itemStyle.fontSize).f/2;a.legendSymbol=d.circle(b,c.baseline-b,b).attr({zIndex:3}).add(a.legendGroup),a.legendSymbol.isMarker=!0},drawPoints:a.column.prototype.drawPoints,alignDataLabel:a.column.prototype.alignDataLabel,buildKDTree:g,applyZones:g}),x.prototype.beforePadding=function(){var f=this,a=this.len,j=this.chart,g=0,b=a,i=this.isXAxis,t=i?"xData":"yData",h=this.min,l={},s=k.min(j.plotWidth,j.plotHeight),o=Number.MAX_VALUE,q=-Number.MAX_VALUE,n=this.max-h,e=a/n,r=[];d(this.series,function(a){var e,b=a.options;!a.bubblePadding||!a.visible&&j.options.chart.ignoreHiddenSeries||(f.allowZoomOutside=!0,r.push(a),i&&(d(["minSize","maxSize"],function(c){var a=b[c],d=/%$/.test(a);a=m(a),l[c]=d?s*a/100:a}),a.minPxSize=l.minSize,a.maxPxSize=l.maxSize,e=a.zData,e.length&&(o=c(b.zMin,k.min(o,k.max(D(e),b.displayNegative===!1?b.zThreshold:-Number.MAX_VALUE))),q=c(b.zMax,k.max(q,C(e))))))}),d(r,function(a){var f,d=a[t],c=d.length;if(i&&a.getRadii(o,q,a.minPxSize,a.maxPxSize),n>0)for(;c--;)"number"==typeof d[c]&&(f=a.radii[c],g=Math.min((d[c]-h)*e-f,g),b=Math.max((d[c]-h)*e+f,b))}),r.length&&n>0&&!this.isLog&&(b-=a,e*=(a+g-b)/a,d([["min","userMin",g],["max","userMax",b]],function(a){c(f.options[a[0]],f[a[1]])===p&&(f[a[0]]+=a[2]/e)}))},function(){function f(j,e){var a,c=this.chart,d=this.options.animation,f=this.group,b=this.markerGroup,g=this.xAxis.center,h=c.plotLeft,i=c.plotTop;c.polar?c.renderer.isSVG&&(d===!0&&(d={}),e?(a={translateX:g[0]+h,translateY:g[1]+i,scaleX:.001,scaleY:.001},f.attr(a),b&&b.attr(a)):(a={translateX:h,translateY:i,scaleX:1,scaleY:1},f.animate(a,d),b&&b.animate(a,d),this.animate=null)):j.call(this,e)}var e,b=j.prototype,g=y.prototype;b.searchPointByAngle=function(a){var b=this,c=b.chart,e=b.xAxis,d=e.pane.center,f=a.chartX-d[0]-c.plotLeft,g=a.chartY-d[1]-c.plotTop;return this.searchKDTree({clientX:180+Math.atan2(f,g)*(-180/Math.PI)})},h(b,"buildKDTree",function(a){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2),a.apply(this)}),b.toXY=function(a){var c,b,d=this.chart,e=a.plotX,f=a.plotY;a.rectPlotX=e,a.rectPlotY=f,c=this.xAxis.postTranslate(a.plotX,this.yAxis.len-f),a.plotX=a.polarPlotX=c.x-d.plotLeft,a.plotY=a.polarPlotY=c.y-d.plotTop,this.kdByAngle?(b=(e/Math.PI*180+this.xAxis.pane.options.startAngle)%360,b<0&&(b+=360),a.clientX=b):a.clientX=a.plotX},a.spline&&h(a.spline.prototype,"getPointSpline",function(x,e,k,o){var m,c,a,b,f,w,v,t,s,i,l,g,h,r,p,q,u,d,j=1.5,n=j+1;return this.chart.polar?(c=k.plotX,a=k.plotY,b=e[o-1],f=e[o+1],this.connectEnds&&(b||(b=e[e.length-2]),f||(f=e[1])),b&&f&&(w=b.plotX,v=b.plotY,t=f.plotX,s=f.plotY,i=(j*c+w)/n,l=(j*a+v)/n,g=(j*c+t)/n,h=(j*a+s)/n,r=Math.sqrt(Math.pow(i-c,2)+Math.pow(l-a,2)),p=Math.sqrt(Math.pow(g-c,2)+Math.pow(h-a,2)),q=Math.atan2(l-a,i-c),u=Math.atan2(h-a,g-c),d=Math.PI/2+(q+u)/2,Math.abs(q-d)>Math.PI/2&&(d-=Math.PI),i=c+Math.cos(d)*r,l=a+Math.sin(d)*r,g=c+Math.cos(Math.PI+d)*p,h=a+Math.sin(Math.PI+d)*p,k.rightContX=g,k.rightContY=h),o?(m=["C",b.rightContX||b.plotX,b.rightContY||b.plotY,i||c,l||a,c,a],b.rightContX=b.rightContY=null):m=["M",c,a]):m=x.call(this,e,k,o),m}),h(b,"translate",function(d){var a,b,c=this.chart;if(d.call(this),c.polar&&(this.kdByAngle=c.tooltip&&c.tooltip.shared,!this.preventPostTranslate))for(a=this.points,b=a.length;b--;)this.toXY(a[b])}),h(b,"getGraphPath",function(b,a){var c=this;return this.chart.polar&&(a=a||this.points,this.options.connectEnds!==!1&&null!==a[0].y&&(this.connectEnds=!0,a.splice(a.length,0,a[0])),d(a,function(a){void 0===a.polarPlotY&&c.toXY(a)})),b.apply(this,[].slice.call(arguments,1))}),h(b,"animate",f),a.column&&(e=a.column.prototype,h(e,"animate",f),h(e,"translate",function(i){var d,e,a,f,g=this.xAxis,b=this.yAxis.len,h=g.center,j=g.startAngleRad,k=this.chart.renderer;if(this.preventPostTranslate=!0,i.call(this),g.isRadial)for(e=this.points,f=e.length;f--;)a=e[f],d=a.barX+j,a.shapeType="path",a.shapeArgs={d:k.symbols.arc(h[0],h[1],b-a.plotY,null,{start:d,end:d+a.pointWidth,innerR:b-c(a.yBottom,b)})},this.toXY(a),a.tooltipPos=[a.plotX,a.plotY],a.ttBelow=a.plotY>h[1]}),h(e,"alignDataLabel",function(j,d,i,c,f,g){if(this.chart.polar){var e,h,a=d.rectPlotX/Math.PI*180;null===c.align&&(e=a>20&&a<160?"left":a>200&&a<340?"right":"center",c.align=e),null===c.verticalAlign&&(h=a<45||a>315?"bottom":a>135&&a<225?"top":"middle",c.verticalAlign=h),b.alignDataLabel.call(this,d,i,c,f,g)}else j.call(this,d,i,c,f,g)})),h(g,"getCoordinates",function(e,b){var a=this.chart,c={xAxis:[],yAxis:[]};return a.polar?d(a.axes,function(d){var e=d.isXAxis,f=d.center,g=b.chartX-f[0]-a.plotLeft,h=b.chartY-f[1]-a.plotTop;c[e?"xAxis":"yAxis"].push({axis:d,value:d.translate(e?Math.PI-Math.atan2(g,h):Math.sqrt(Math.pow(g,2)+Math.pow(h,2)),!0)})}):c=e.call(this,b),c})}()}),function(a){"object"==typeof module&&module.exports?module.exports=a:a(Highcharts)}(function(a){var u,n,l=a.win,b=l.document,w=a.Chart,h=a.addEvent,r=a.removeEvent,v=a.fireEvent,g=a.createElement,m=a.discardElement,k=a.css,f=a.merge,c=a.each,d=a.extend,A=a.splat,C=Math,y=C.max,z=a.isTouchDevice,p="M",o="L",j="div",x="hidden",i="none",s="highcharts-",t="absolute",e="px",B=a.Renderer.prototype.symbols,q=a.getOptions();d(q.lang,{printChart:"チャートを印刷",downloadPNG:"PNG画像をダウンロード",downloadJPEG:"JPEG画像をダウンロード",downloadPDF:"PDFドキュメントをダウンロード",downloadSVG:"SVGベクタ画像をダウンロード",contextButtonTitle:"チャートメニュー"}),q.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:i,color:"#303030",fontSize:z?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},q.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:s+"contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},a.post=function(e,d,h){var c,a;a=g("form",f({method:"post",action:e,enctype:"multipart/form-data"},h),{display:i},b.body);for(c in d)g("input",{type:x,name:c,value:d[c]},null,a);a.submit(),m(a)},d(w.prototype,{sanitizeSVG:function(a){return a.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(a){return a.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(n){var l,o,k,r,s,v,p,q,i=this,h=f(i.options,n);return h.exporting.allowHTML,b.createElementNS||(b.createElementNS=function(c,a){return b.createElement(a)}),o=g(j,null,{position:t,top:"-9999em",width:i.chartWidth+e,height:i.chartHeight+e},b.body),p=i.renderTo.style.width,q=i.renderTo.style.height,s=h.exporting.sourceWidth||h.chart.width||/px$/.test(p)&&parseInt(p,10)||600,v=h.exporting.sourceHeight||h.chart.height||/px$/.test(q)&&parseInt(q,10)||400,d(h.chart,{animation:!1,renderTo:o,forExport:!0,renderer:"SVGRenderer",width:s,height:v}),h.exporting.enabled=!1,delete h.data,h.series=[],c(i.series,function(a){r=f(a.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:a.visible}),r.isInternal||h.series.push(r)}),n&&c(["xAxis","yAxis"],function(a){c(A(n[a]),function(c,b){h[a][b]=f(h[a][b],c)})}),l=new a.Chart(h,i.callback),c(["xAxis","yAxis"],function(a){c(i[a],function(f,g){var b=l[a][g],c=f.getExtremes(),d=c.userMin,e=c.userMax;!b||d===u&&e===u||b.setExtremes(d,e,!0,!1)})}),k=l.getChartHTML(),h=null,l.destroy(),m(o),k=this.sanitizeSVG(k),k=k.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(a,c){var b=this.options.exporting;return this.getSVG(f({chart:{borderRadius:0}},b.chartOptions,c,{exporting:{sourceWidth:a&&a.sourceWidth||b.sourceWidth,sourceHeight:a&&a.sourceHeight||b.sourceHeight}}))},exportChart:function(b,c){var d=this.getSVGForExport(b,c);b=f(this.options.exporting,b),a.post(b.url,{filename:b.filename||"chart",type:b.type,width:b.width||0,scale:b.scale||2,svg:d},b.formAttributes)},print:function(){var a=this,d=a.container,e=[],h=d.parentNode,f=b.body,g=f.childNodes;a.isPrinting||(a.isPrinting=!0,a.pointer.reset(null,0),v(a,"beforePrint"),c(g,function(a,b){1===a.nodeType&&(e[b]=a.style.display,a.style.display=i)}),f.appendChild(d),l.focus(),l.print(),setTimeout(function(){h.appendChild(d),c(g,function(a,b){1===a.nodeType&&(a.style.display=e[b])}),a.isPrinting=!1,v(a,"afterPrint")},1e3))},contextMenu:function(x,G,u,v,E,w,q){var n,o,D,l,a=this,p=a.options.navigation,z=p.menuItemStyle,A=a.chartWidth,B=a.chartHeight,C="cache-"+x,f=a[C],m=y(E,w),s="3px 3px 10px #888",F=function(b){a.pointer.inClass(b.target,x)||o()};f||(a[C]=f=g(j,{className:x},{position:t,zIndex:1e3,padding:m+e},a.container),n=g(j,null,d({MozBoxShadow:s,WebkitBoxShadow:s,boxShadow:s},p.menuStyle),f),o=function(){k(f,{display:i}),q&&q.setState(0),a.openMenu=!1},h(f,"mouseleave",function(){D=setTimeout(o,500)}),h(f,"mouseenter",function(){clearTimeout(D)}),h(b,"mouseup",F),h(a,"destroy",function(){r(b,"mouseup",F)}),c(G,function(b){if(b){var c=b.separator?g("hr",null,null,n):g(j,{onmouseover:function(){k(this,p.menuItemHoverStyle)},onmouseout:function(){k(this,z)},onclick:function(c){c&&c.stopPropagation(),o(),b.onclick&&b.onclick.apply(a,arguments)},innerHTML:b.text||a.options.lang[b.textKey]},d({cursor:"pointer"},z),n);a.exportDivElements.push(c)}}),a.exportDivElements.push(n,f),a.exportMenuWidth=f.offsetWidth,a.exportMenuHeight=f.offsetHeight),l={display:"block"},u+a.exportMenuWidth>A?l.right=A-u-E-m+e:l.left=u-m+e,v+w+a.exportMenuHeight>B&&"top"!==q.alignOptions.verticalAlign?l.bottom=B-v-m+e:l.top=v+w-m+e,k(f,l),a.openMenu=!0},addButton:function(k){var p,c,e=this,o=e.renderer,b=f(e.options.navigation.buttonOptions,k),m=b.onclick,l=b.menuItems,q={stroke:b.symbolStroke,fill:b.symbolFill},i=b.symbolSize||12,j,g,h,r,t;e.btnCount||(e.btnCount=0),e.exportDivElements||(e.exportDivElements=[],e.exportSVGElements=[]),b.enabled!==!1&&(g=b.theme,h=g.states,r=h&&h.hover,t=h&&h.select,delete g.states,m?j=function(a){a.stopPropagation(),m.call(e,a)}:l&&(j=function(){e.contextMenu(c.menuClassName,l,c.translateX,c.translateY,c.width,c.height,c),c.setState(2)}),b.text&&b.symbol?g.paddingLeft=a.pick(g.paddingLeft,25):b.text||d(g,{width:b.width,height:b.height,padding:0}),c=o.button(b.text,0,0,j,g,r,t).attr({title:e.options.lang[b._titleKey],"stroke-linecap":"round",zIndex:3}),c.menuClassName=k.menuClassName||s+"menu-"+e.btnCount++,b.symbol&&(p=o.symbol(b.symbol,b.symbolX-i/2,b.symbolY-i/2,i,i).attr(d(q,{"stroke-width":b.symbolStrokeWidth||1,zIndex:1})).add(c)),c.add().align(d(b,{width:c.width,x:a.pick(b.x,n)}),!0,"spacingBox"),n+=(c.width+b.buttonSpacing)*("right"===b.align?-1:1),e.exportSVGElements.push(c,p))},destroyExport:function(d){var b,a,c=d.target;for(b=0;b<c.exportSVGElements.length;b++)a=c.exportSVGElements[b],a&&(a.onclick=a.ontouchstart=null,c.exportSVGElements[b]=a.destroy());for(b=0;b<c.exportDivElements.length;b++)a=c.exportDivElements[b],r(a,"mouseleave"),c.exportDivElements[b]=a.onmouseout=a.onmouseover=a.ontouchstart=a.onclick=null,m(a)}}),B.menu=function(a,b,d,c){var e=[p,a,b+2.5,o,a+d,b+2.5,p,a,b+c/2+.5,o,a+d,b+c/2+.5,p,a,b+c-1.5,o,a+d,b+c-1.5];return e},w.prototype.callbacks.push(function(a){var b,c=a.options.exporting,d=c.buttons;if(n=0,c.enabled!==!1){for(b in d)a.addButton(d[b]);h(a,"destroy",a.destroyExport)}})}),Highcharts.setOptions({lang:{loading:"読み込み中...",contextButtonTitle:"チャートメニュー",downloadJPEG:"JPEG画像をダウンロード",downloadPDF:"PDFドキュメントをダウンロード",downloadPNG:"PNG画像をダウンロード",downloadSVG:"SVGベクタ画像をダウンロード",printChart:"チャートを印刷"}});var cats=["★0","★1","★2","★3","★4","★5","★6","★7","★8","★9","★max"];$(function(){$("#chart").highcharts({chart:{zoomType:"xy",backgroundColor:{linearGradient:{x1:0,y1:0,x2:.4,y2:1},stops:[[0,"#aaaaaa"],[1,"#000000"]]}},title:{text:"改修工廠の証(明石改)",style:{color:"#fff",textShadow:"1px 1px 0px #000"}},subtitle:{text:"Source: 改修工廠の証 - Google Sheets",style:{color:"#fff",textShadow:"1px 1px 0px #000"}},tooltip:{shared:!0,useHTML:!0,crosshairs:!0,backgroundColor:"rgba(249, 249, 249, 0.95)",borderRadius:"0",borderColor:"#666",headerFormat:'<table style="font-size:12px"><tr><td colspan="2"><b>{point.key}</b></td></tr>',footerFormat:"</table>"},credits:{enabled:!1},legend:{itemStyle:{color:"#fff",fontWeight:"normal",textShadow:"1px 1px 0px #000"},itemHoverStyle:{color:"#fff",fontWeight:"normal"}},xAxis:[{categories:cats,labels:{style:{color:"#00d0d0",fontSize:"13px",textShadow:"1px 1px 0px #444"}}}],yAxis:[{title:{text:""},labels:{format:"{value} 件",style:{color:"#fff",textShadow:"1px 1px 0px #000"}},opposite:!0},{labels:{format:"{value} %",style:{color:"#fff",textShadow:"1px 1px 0px #000"}},title:{text:"成功率",style:{color:"#fff",textShadow:"1px 1px 0px #000",fontSize:"16px",paddingRight:"20px"},rotation:0,margin:20},opposite:!1,min:0,max:100}],plotOptions:{spline:{dataLabels:{enabled:!0,format:"{y:.1f} %",style:{fontSize:"12px",color:"#90ed7d",color:"#9dff87",textShadow:"1px 1px 2px black, 0 0 6px #fff, 0 0 12px #fff"}},enableMouseTracking:!0},column:{dataLabels:{enabled:!1,format:"{y} 件"}}},series:[{name:"成功回数",type:"column",data:[691,642,636,640,625,701,525,498,473,319,77],yAxis:0,tooltip:{pointFormat:'<tr><td><span style="color:{point.color};">●</span> {series.name}: </td><td style="text-align:right;">{point.y} 件</td></tr>'}},{name:"失敗回数",type:"column",yAxis:0,data:[0,0,0,0,0,45,71,103,126,130,52],color:"#f45b5b",tooltip:{pointFormat:'<tr><td><span style="color:{point.color};">●</span> {series.name}: </td><td style="text-align:right;">{point.y} 件</td></tr>'}},{name:"成功率",type:"spline",yAxis:1,data:[100,100,100,100,100,93.9,88,82.8,78.9,71,59.6],color:"#90ed7d",tooltip:{pointFormat:'<tr><td><span style="color:{point.color};">●</span> {series.name}: </td><td style="text-align:right;"><b>{point.y:.1f} %</b></td></tr>'}}]})})</script></body></html>